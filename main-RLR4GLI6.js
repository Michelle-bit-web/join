var HL=Object.defineProperty,qL=Object.defineProperties;var WL=Object.getOwnPropertyDescriptors;var ch=Object.getOwnPropertySymbols,GL=Object.getPrototypeOf,dT=Object.prototype.hasOwnProperty,hT=Object.prototype.propertyIsEnumerable,KL=Reflect.get;var uT=(n,e,t)=>e in n?HL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,q=(n,e)=>{for(var t in e||={})dT.call(e,t)&&uT(n,t,e[t]);if(ch)for(var t of ch(e))hT.call(e,t)&&uT(n,t,e[t]);return n},_e=(n,e)=>qL(n,WL(e));var fT=(n,e)=>{var t={};for(var r in n)dT.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&ch)for(var r of ch(n))e.indexOf(r)<0&&hT.call(n,r)&&(t[r]=n[r]);return t};var ho=(n,e,t)=>KL(GL(n),t,e);var C=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function by(n,e){return Object.is(n,e)}var Nt=null,lh=!1,Ey=1,Zn=Symbol("SIGNAL");function Pe(n){let e=Nt;return Nt=n,e}function Iy(){return Nt}var Ol={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Al(n){if(lh)throw new Error("");if(Nt===null)return;Nt.consumerOnSignalRead(n);let e=Nt.nextProducerIndex++;if(fh(Nt),e<Nt.producerNode.length&&Nt.producerNode[e]!==n&&Pl(Nt)){let t=Nt.producerNode[e];hh(t,Nt.producerIndexOfThis[e])}Nt.producerNode[e]!==n&&(Nt.producerNode[e]=n,Nt.producerIndexOfThis[e]=Pl(Nt)?gT(n,Nt,e):0),Nt.producerLastReadVersion[e]=n.version}function pT(){Ey++}function xy(n){if(!(Pl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ey)){if(!n.producerMustRecompute(n)&&!My(n)){Cy(n);return}n.producerRecomputeValue(n),Cy(n)}}function Sy(n){if(n.liveConsumerNode===void 0)return;let e=lh;lh=!0;try{for(let t of n.liveConsumerNode)t.dirty||QL(t)}finally{lh=e}}function Ty(){return Nt?.consumerAllowSignalWrites!==!1}function QL(n){n.dirty=!0,Sy(n),n.consumerMarkedDirty?.(n)}function Cy(n){n.dirty=!1,n.lastCleanEpoch=Ey}function dh(n){return n&&(n.nextProducerIndex=0),Pe(n)}function Dy(n,e){if(Pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Pl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)hh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function My(n){fh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(xy(t),r!==t.version))return!0}return!1}function ky(n){if(fh(n),Pl(n))for(let e=0;e<n.producerNode.length;e++)hh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function gT(n,e,t){if(mT(n),n.liveConsumerNode.length===0&&_T(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=gT(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function hh(n,e){if(mT(n),n.liveConsumerNode.length===1&&_T(n))for(let r=0;r<n.producerNode.length;r++)hh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];fh(i),i.producerIndexOfThis[r]=e}}function Pl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function fh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function mT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function _T(n){return n.producerNode!==void 0}function Py(n,e){let t=Object.create(YL);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(xy(t),Al(t),t.value===uh)throw t.error;return t.value};return r[Zn]=t,r}var vy=Symbol("UNSET"),wy=Symbol("COMPUTING"),uh=Symbol("ERRORED"),YL=_e(q({},Ol),{value:vy,dirty:!0,error:null,equal:by,kind:"computed",producerMustRecompute(n){return n.value===vy||n.value===wy},producerRecomputeValue(n){if(n.value===wy)throw new Error("Detected cycle in computations.");let e=n.value;n.value=wy;let t=dh(n),r,i=!1;try{r=n.computation(),Pe(null),i=e!==vy&&e!==uh&&r!==uh&&n.equal(e,r)}catch(o){r=uh,n.error=o}finally{Dy(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function ZL(){throw new Error}var yT=ZL;function vT(n){yT(n)}function Oy(n){yT=n}var JL=null;function Ay(n,e){let t=Object.create(ph);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Al(t),t.value);return r[Zn]=t,r}function Rl(n,e){Ty()||vT(n),n.equal(n.value,e)||(n.value=e,XL(n))}function Ry(n,e){Ty()||vT(n),Rl(n,e(n.value))}var ph=_e(q({},Ol),{equal:by,value:void 0,kind:"signal"});function XL(n){n.version++,pT(),Sy(n),JL?.()}function Ny(n){let e=Pe(null);try{return n()}finally{Pe(e)}}var Fy;function Nl(){return Fy}function Ti(n){let e=Fy;return Fy=n,e}var gh=Symbol("NotFound");function Ce(n){return typeof n=="function"}function Ea(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var mh=Ea(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ls(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Be=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Ce(r))try{r()}catch(o){e=o instanceof mh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{wT(o)}catch(s){e=e??[],s instanceof mh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new mh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)wT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ls(t,e)}remove(e){let{_finalizers:t}=this;t&&ls(t,e),e instanceof n&&e._removeParent(this)}};Be.EMPTY=(()=>{let n=new Be;return n.closed=!0,n})();var Ly=Be.EMPTY;function _h(n){return n instanceof Be||n&&"closed"in n&&Ce(n.remove)&&Ce(n.add)&&Ce(n.unsubscribe)}function wT(n){Ce(n)?n():n.unsubscribe()}var gr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ia={setTimeout(n,e,...t){let{delegate:r}=Ia;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ia;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function yh(n){Ia.setTimeout(()=>{let{onUnhandledError:e}=gr;if(e)e(n);else throw n})}function Fl(){}var CT=Vy("C",void 0,void 0);function bT(n){return Vy("E",void 0,n)}function ET(n){return Vy("N",n,void 0)}function Vy(n,e,t){return{kind:n,value:e,error:t}}var us=null;function xa(n){if(gr.useDeprecatedSynchronousErrorHandling){let e=!us;if(e&&(us={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=us;if(us=null,t)throw r}}else n()}function IT(n){gr.useDeprecatedSynchronousErrorHandling&&us&&(us.errorThrown=!0,us.error=n)}var ds=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_h(e)&&e.add(this)):this.destination=oV}static create(e,t,r){return new Sa(e,t,r)}next(e){this.isStopped?By(ET(e),this):this._next(e)}error(e){this.isStopped?By(bT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?By(CT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rV=Function.prototype.bind;function jy(n,e){return rV.call(n,e)}var Uy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){vh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){vh(r)}else vh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){vh(t)}}},Sa=class extends ds{constructor(e,t,r){super();let i;if(Ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&gr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jy(e.next,o),error:e.error&&jy(e.error,o),complete:e.complete&&jy(e.complete,o)}):i=e}this.destination=new Uy(i)}};function vh(n){gr.useDeprecatedSynchronousErrorHandling?IT(n):yh(n)}function iV(n){throw n}function By(n,e){let{onStoppedNotification:t}=gr;t&&Ia.setTimeout(()=>t(n,e))}var oV={closed:!0,next:Fl,error:iV,complete:Fl};var Ta=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ln(n){return n}function $y(...n){return zy(n)}function zy(n){return n.length===0?Ln:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var fe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=aV(t)?t:new Sa(t,r,i);return xa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=xT(r),new r((i,o)=>{let s=new Sa({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ta](){return this}pipe(...t){return zy(t)(this)}toPromise(t){return t=xT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function xT(n){var e;return(e=n??gr.Promise)!==null&&e!==void 0?e:Promise}function sV(n){return n&&Ce(n.next)&&Ce(n.error)&&Ce(n.complete)}function aV(n){return n&&n instanceof ds||sV(n)&&_h(n)}function Hy(n){return Ce(n?.lift)}function Ve(n){return e=>{if(Hy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ae(n,e,t,r,i){return new qy(n,e,t,r,i)}var qy=class extends ds{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Da(){return Ve((n,e)=>{let t=null;n._refCount++;let r=Ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ma=class extends fe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Hy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Be;let t=this.getSubject();e.add(this.source.subscribe(Ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Be.EMPTY)}return e}refCount(){return Da()(this)}};var ka={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=ka;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(o=>{t=void 0,n(o)});return new Be(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=ka;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=ka;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var ST=Ea(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=(()=>{class n extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new wh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ST}next(t){xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ly:(this.currentObservers=null,o.push(t),new Be(()=>{this.currentObservers=null,ls(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new fe;return t.source=this,t}}return n.create=(e,t)=>new wh(e,t),n})(),wh=class extends ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Ly}};var nt=class extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Wy={now(){return(Wy.delegate||Date).now()},delegate:void 0};var Ch=class extends Be{constructor(e,t){super()}schedule(e,t=0){return this}};var Ll={setInterval(n,e,...t){let{delegate:r}=Ll;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ll;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var fo=class extends Ch{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ll.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ll.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ls(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Pa=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Pa.now=Wy.now;var po=class extends Pa{constructor(e,t=Pa.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var go=new po(fo),Gy=go;var bh=class extends fo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Eh=class extends po{};var Ky=new Eh(bh);var Ih=class extends fo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=ka.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&t===e._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(ka.cancelAnimationFrame(t),e._scheduled=void 0)}};var xh=class extends po{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var Sh=new xh(Ih);var tn=new fe(n=>n.complete());function Th(n){return n&&Ce(n.schedule)}function Qy(n){return n[n.length-1]}function Dh(n){return Ce(Qy(n))?n.pop():void 0}function Nr(n){return Th(Qy(n))?n.pop():void 0}function TT(n,e){return typeof Qy(n)=="number"?n.pop():e}function Yy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function MT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(g){s(g)}}function c(d){try{u(r.throw(d))}catch(g){s(g)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function DT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hs(n){return this instanceof hs?(this.v=n,this):new hs(n)}function kT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(E){return Promise.resolve(E).then(v,g)}}function a(v,E){r[v]&&(i[v]=function(P){return new Promise(function(R,K){o.push([v,P,R,K])>1||c(v,P)})},E&&(i[v]=E(i[v])))}function c(v,E){try{u(r[v](E))}catch(P){_(o[0][3],P)}}function u(v){v.value instanceof hs?Promise.resolve(v.value.v).then(d,g):_(o[0][2],v)}function d(v){c("next",v)}function g(v){c("throw",v)}function _(v,E){v(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function PT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof DT=="function"?DT(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Mh=n=>n&&typeof n.length=="number"&&typeof n!="function";function kh(n){return Ce(n?.then)}function Ph(n){return Ce(n[Ta])}function Oh(n){return Symbol.asyncIterator&&Ce(n?.[Symbol.asyncIterator])}function Ah(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rh=cV();function Nh(n){return Ce(n?.[Rh])}function Fh(n){return kT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield hs(t.read());if(i)return yield hs(void 0);yield yield hs(r)}}finally{t.releaseLock()}})}function Lh(n){return Ce(n?.getReader)}function ht(n){if(n instanceof fe)return n;if(n!=null){if(Ph(n))return lV(n);if(Mh(n))return uV(n);if(kh(n))return dV(n);if(Oh(n))return OT(n);if(Nh(n))return hV(n);if(Lh(n))return fV(n)}throw Ah(n)}function lV(n){return new fe(e=>{let t=n[Ta]();if(Ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uV(n){return new fe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function dV(n){return new fe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,yh)})}function hV(n){return new fe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function OT(n){return new fe(e=>{pV(n,e).catch(t=>e.error(t))})}function fV(n){return OT(Fh(n))}function pV(n,e){var t,r,i,o;return MT(this,void 0,void 0,function*(){try{for(t=PT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function xn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function mo(n,e=0){return Ve((t,r)=>{t.subscribe(Ae(r,i=>xn(r,n,()=>r.next(i),e),()=>xn(r,n,()=>r.complete(),e),i=>xn(r,n,()=>r.error(i),e)))})}function _o(n,e=0){return Ve((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function AT(n,e){return ht(n).pipe(_o(e),mo(e))}function RT(n,e){return ht(n).pipe(_o(e),mo(e))}function NT(n,e){return new fe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function FT(n,e){return new fe(t=>{let r;return xn(t,e,()=>{r=n[Rh](),xn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Ce(r?.return)&&r.return()})}function Vh(n,e){if(!n)throw new Error("Iterable cannot be null");return new fe(t=>{xn(t,e,()=>{let r=n[Symbol.asyncIterator]();xn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function LT(n,e){return Vh(Fh(n),e)}function VT(n,e){if(n!=null){if(Ph(n))return AT(n,e);if(Mh(n))return NT(n,e);if(kh(n))return RT(n,e);if(Oh(n))return Vh(n,e);if(Nh(n))return FT(n,e);if(Lh(n))return LT(n,e)}throw Ah(n)}function Xe(n,e){return e?VT(n,e):ht(n)}function ae(...n){let e=Nr(n);return Xe(n,e)}function Oa(n,e){let t=Ce(n)?n:()=>n,r=i=>i.error(t());return new fe(e?i=>e.schedule(r,0,i):r)}function jh(n){return!!n&&(n instanceof fe||Ce(n.lift)&&Ce(n.subscribe))}var Di=Ea(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function jT(n){return n instanceof Date&&!isNaN(n)}function xe(n,e){return Ve((t,r)=>{let i=0;t.subscribe(Ae(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:gV}=Array;function mV(n,e){return gV(e)?n(...e):n(e)}function Bh(n){return xe(e=>mV(n,e))}var{isArray:_V}=Array,{getPrototypeOf:yV,prototype:vV,keys:wV}=Object;function Uh(n){if(n.length===1){let e=n[0];if(_V(e))return{args:e,keys:null};if(CV(e)){let t=wV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function CV(n){return n&&typeof n=="object"&&yV(n)===vV}function $h(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Mi(...n){let e=Nr(n),t=Dh(n),{args:r,keys:i}=Uh(n);if(r.length===0)return Xe([],e);let o=new fe(bV(r,e,i?s=>$h(i,s):Ln));return t?o.pipe(Bh(t)):o}function bV(n,e,t=Ln){return r=>{BT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)BT(e,()=>{let u=Xe(n[c],e),d=!1;u.subscribe(Ae(r,g=>{o[c]=g,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function BT(n,e,t){n?xn(t,n,e):e()}function UT(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,g=!1,_=()=>{g&&!c.length&&!u&&e.complete()},v=P=>u<r?E(P):c.push(P),E=P=>{o&&e.next(P),u++;let R=!1;ht(t(P,d++)).subscribe(Ae(e,K=>{i?.(K),o?v(K):e.next(K)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;c.length&&u<r;){let K=c.shift();s?xn(e,s,()=>E(K)):E(K)}_()}catch(K){e.error(K)}}))};return n.subscribe(Ae(e,v,()=>{g=!0,_()})),()=>{a?.()}}function xt(n,e,t=1/0){return Ce(e)?xt((r,i)=>xe((o,s)=>e(r,o,i,s))(ht(n(r,i))),t):(typeof e=="number"&&(t=e),Ve((r,i)=>UT(r,i,n,t)))}function Fr(n=1/0){return xt(Ln,n)}function $T(){return Fr(1)}function Aa(...n){return $T()(Xe(n,Nr(n)))}function zh(n){return new fe(e=>{ht(n()).subscribe(e)})}function Zy(...n){let e=Dh(n),{args:t,keys:r}=Uh(n),i=new fe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let g=!1;ht(t[d]).subscribe(Ae(o,_=>{g||(g=!0,u--),a[d]=_},()=>c--,void 0,()=>{(!c||!g)&&(u||o.next(r?$h(r,a):a),o.complete())}))}});return e?i.pipe(Bh(e)):i}function Hh(n=0,e,t=Gy){let r=-1;return e!=null&&(Th(e)?t=e:r=e),new fe(i=>{let o=jT(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Jy(n=0,e=go){return n<0&&(n=0),Hh(n,n,e)}function Vl(...n){let e=Nr(n),t=TT(n,1/0),r=n;return r.length?r.length===1?ht(r[0]):Fr(t)(Xe(r,e)):tn}function vt(n,e){return Ve((t,r)=>{let i=0;t.subscribe(Ae(r,o=>n.call(e,o,i++)&&r.next(o)))})}function zT(n){return Ve((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(Ae(t,u=>{r=!0,i=u,o||ht(n(u)).subscribe(o=Ae(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function qh(n,e=go){return zT(()=>Hh(n,e))}function ki(n){return Ve((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ae(t,void 0,void 0,s=>{o=ht(n(s,ki(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function HT(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Ae(s,d=>{let g=u++;c=a?n(c,d,g):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function yo(n,e){return Ce(e)?xt(n,e,1):xt(n,1)}function vo(n){return Ve((e,t)=>{let r=!1;e.subscribe(Ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Sn(n){return n<=0?()=>tn:Ve((e,t)=>{let r=0;e.subscribe(Ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Wh(n=EV){return Ve((e,t)=>{let r=!1;e.subscribe(Ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function EV(){return new Di}function jl(n){return Ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Pi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vt((i,o)=>n(i,o,r)):Ln,Sn(1),t?vo(e):Wh(()=>new Di))}function Ra(n){return n<=0?()=>tn:Ve((e,t)=>{let r=[];e.subscribe(Ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Xy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vt((i,o)=>n(i,o,r)):Ln,Ra(1),t?vo(e):Wh(()=>new Di))}function ev(n,e){return Ve(HT(n,e,arguments.length>=2,!0))}function fs(...n){let e=Nr(n);return Ve((t,r)=>{(e?Aa(n,t,e):Aa(n,t)).subscribe(r)})}function mn(n,e){return Ve((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ae(r,c=>{i?.unsubscribe();let u=0,d=o++;ht(n(c,d)).subscribe(i=Ae(r,g=>r.next(e?e(c,g,d,u++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Oi(n){return Ve((e,t)=>{ht(n).subscribe(Ae(t,()=>t.complete(),Fl)),!t.closed&&e.subscribe(t)})}function Ft(n,e,t){let r=Ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ve((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ae(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ln}var RD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",W=class extends Error{code;constructor(e,t){super(ND(e,t)),this.code=e}};function IV(n){return`NG0${Math.abs(n)}`}function ND(n,e){return`${IV(n)}${e?": "+e:""}`}var FD=Symbol("InputSignalNode#UNSET"),xV=_e(q({},ph),{transformFn:void 0,applyValueToInputSignal(n,e){Rl(n,e)}});function LD(n,e){let t=Object.create(xV);t.value=n,t.transformFn=e?.transform;function r(){if(Al(t),t.value===FD){let i=null;throw new W(-950,i)}return t.value}return r[Zn]=t,r}function eu(n){return{toString:n}.toString()}var Gh="__parameters__";function SV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function VD(n,e,t){return eu(()=>{let r=SV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let g=c.hasOwnProperty(Gh)?c[Gh]:Object.defineProperty(c,Gh,{value:[]})[Gh];for(;g.length<=d;)g.push(null);return(g[d]=g[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var gs=globalThis;function et(n){for(let e in n)if(n[e]===et)return e;throw Error("Could not find renamed property on target object.")}function TV(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Dn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Dn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function qT(n,e){return n?e?`${n} ${e}`:n:e||""}var DV=et({__forward_ref__:et});function Hr(n){return n.__forward_ref__=Hr,n.toString=function(){return Dn(this())},n}function _n(n){return jD(n)?n():n}function jD(n){return typeof n=="function"&&n.hasOwnProperty(DV)&&n.__forward_ref__===Hr}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Mf(n){return WT(n,UD)||WT(n,$D)}function BD(n){return Mf(n)!==null}function WT(n,e){return n.hasOwnProperty(e)?n[e]:null}function MV(n){let e=n&&(n[UD]||n[$D]);return e||null}function GT(n){return n&&(n.hasOwnProperty(KT)||n.hasOwnProperty(kV))?n[KT]:null}var UD=et({\u0275prov:et}),KT=et({\u0275inj:et}),$D=et({ngInjectableDef:et}),kV=et({ngInjectorDef:et}),J=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zD(n){return n&&!!n.\u0275providers}var PV=et({\u0275cmp:et}),OV=et({\u0275dir:et}),AV=et({\u0275pipe:et}),RV=et({\u0275mod:et}),nf=et({\u0275fac:et}),zl=et({__NG_ELEMENT_ID__:et}),QT=et({__NG_ENV_ID__:et});function Ua(n){return typeof n=="string"?n:n==null?"":String(n)}function NV(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ua(n)}function HD(n,e){throw new W(-200,n)}function v0(n,e){throw new W(-201,!1)}var De=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(De||{}),mv;function qD(){return mv}function Tn(n){let e=mv;return mv=n,e}function WD(n,e,t){let r=Mf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&De.Optional)return null;if(e!==void 0)return e;v0(n,"Injector")}var FV={},ms=FV,_v="__NG_DI_FLAG__",rf=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?gh:ms,r)}},of="ngTempTokenPath",LV="ngTokenPath",VV=/\n/gm,jV="\u0275",YT="__source";function BV(n,e=De.Default){if(Nl()===void 0)throw new W(-203,!1);if(Nl()===null)return WD(n,void 0,e);{let t=Nl(),r;return t instanceof rf?r=t.injector:r=t,r.get(n,e&De.Optional?null:void 0,e)}}function Z(n,e=De.Default){return(qD()||BV)(_n(n),e)}function N(n,e=De.Default){return Z(n,kf(e))}function kf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function yv(n){let e=[];for(let t=0;t<n.length;t++){let r=_n(n[t]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=De.Default;for(let s=0;s<r.length;s++){let a=r[s],c=UV(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Z(i,o))}else e.push(Z(r))}return e}function GD(n,e){return n[_v]=e,n.prototype[_v]=e,n}function UV(n){return n[_v]}function $V(n,e,t,r){let i=n[of];throw e[YT]&&i.unshift(e[YT]),n.message=zV(`
`+n.message,i,t,r),n[LV]=i,n[of]=null,n}function zV(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==jV?n.slice(2):n;let i=Dn(e);if(Array.isArray(e))i=e.map(Dn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Dn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(VV,`
  `)}`}var yn=GD(VD("Optional"),8);var KD=GD(VD("SkipSelf"),4);function ys(n,e){let t=n.hasOwnProperty(nf);return t?n[nf]:null}function HV(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function qV(n){return n.flat(Number.POSITIVE_INFINITY)}function w0(n,e){n.forEach(t=>Array.isArray(t)?w0(t,e):e(t))}function QD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function sf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function WV(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function GV(n,e,t){let r=tu(n,e);return r>=0?n[r|1]=t:(r=~r,WV(n,r,e,t)),r}function tv(n,e){let t=tu(n,e);if(t>=0)return n[t|1]}function tu(n,e){return KV(n,e,1)}function KV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var vs={},Jn=[],Hl=new J(""),YD=new J("",-1),ZD=new J(""),af=class{get(e,t=ms){if(t===ms){let r=new Error(`NullInjectorError: No provider for ${Dn(e)}!`);throw r.name="NullInjectorError",r}return t}};function JD(n,e){let t=n[RV]||null;if(!t&&e===!0)throw new Error(`Type ${Dn(n)} does not have '\u0275mod' property.`);return t}function bo(n){return n[PV]||null}function QV(n){return n[OV]||null}function YV(n){return n[AV]||null}function qr(n){return{\u0275providers:n}}function ZV(...n){return{\u0275providers:XD(!0,n),\u0275fromNgModule:!0}}function XD(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return w0(e,s=>{let a=s;vv(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&e1(i,o),t}function e1(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];C0(i,o=>{e(o,r)})}}function vv(n,e,t,r){if(n=_n(n),!n)return!1;let i=null,o=GT(n),s=!o&&bo(n);if(!o&&!s){let c=n.ngModule;if(o=GT(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)vv(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{w0(o.imports,d=>{vv(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&e1(u,e)}if(!a){let u=ys(i)||(()=>new i);e({provide:i,useFactory:u,deps:Jn},i),e({provide:ZD,useValue:i,multi:!0},i),e({provide:Hl,useValue:()=>Z(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;C0(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function C0(n,e){for(let t of n)zD(t)&&(t=t.\u0275providers),Array.isArray(t)?C0(t,e):e(t)}var JV=et({provide:String,useValue:et});function t1(n){return n!==null&&typeof n=="object"&&JV in n}function XV(n){return!!(n&&n.useExisting)}function e4(n){return!!(n&&n.useFactory)}function $a(n){return typeof n=="function"}function t4(n){return!!n.useClass}var Pf=new J(""),Yh={},ZT={},nv;function Of(){return nv===void 0&&(nv=new af),nv}var $t=class{},ql=class extends $t{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Cv(e,s=>this.processProvider(s)),this.records.set(YD,Na(void 0,this)),i.has("environment")&&this.records.set($t,Na(void 0,this));let o=this.records.get(Pf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ZD,Jn,De.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?gh:ms,r)}destroy(){Ul(this),this._destroyed=!0;let e=Pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(e)}}onDestroy(e){return Ul(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ul(this);let t=Ti(this),r=Tn(void 0),i;try{return e()}finally{Ti(t),Tn(r)}}get(e,t=ms,r=De.Default){if(Ul(this),e.hasOwnProperty(QT))return e[QT](this);r=kf(r);let i,o=Ti(this),s=Tn(void 0);try{if(!(r&De.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=s4(e)&&Mf(e);u&&this.injectableDefInScope(u)?c=Na(wv(e),Yh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&De.Self?Of():this.parent;return t=r&De.Optional&&t===ms?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[of]=a[of]||[]).unshift(Dn(e)),o)throw a;return $V(a,e,"R3InjectorError",this.source)}else throw a}finally{Tn(s),Ti(o)}}resolveInjectorInitializers(){let e=Pe(null),t=Ti(this),r=Tn(void 0),i;try{let o=this.get(Hl,Jn,De.Self);for(let s of o)s()}finally{Ti(t),Tn(r),Pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Dn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=_n(e);let t=$a(e)?e:_n(e&&e.provide),r=r4(e);if(!$a(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Na(void 0,Yh,!0),i.factory=()=>yv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Pe(null);try{return t.value===ZT?HD(Dn(e)):t.value===Yh&&(t.value=ZT,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&o4(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Pe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=_n(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function wv(n){let e=Mf(n),t=e!==null?e.factory:ys(n);if(t!==null)return t;if(n instanceof J)throw new W(204,!1);if(n instanceof Function)return n4(n);throw new W(204,!1)}function n4(n){if(n.length>0)throw new W(204,!1);let t=MV(n);return t!==null?()=>t.factory(n):()=>new n}function r4(n){if(t1(n))return Na(void 0,n.useValue);{let e=n1(n);return Na(e,Yh)}}function n1(n,e,t){let r;if($a(n)){let i=_n(n);return ys(i)||wv(i)}else if(t1(n))r=()=>_n(n.useValue);else if(e4(n))r=()=>n.useFactory(...yv(n.deps||[]));else if(XV(n))r=(i,o)=>Z(_n(n.useExisting),o!==void 0&&o&De.Optional?De.Optional:void 0);else{let i=_n(n&&(n.useClass||n.provide));if(i4(n))r=()=>new i(...yv(n.deps));else return ys(i)||wv(i)}return r}function Ul(n){if(n.destroyed)throw new W(205,!1)}function Na(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function i4(n){return!!n.deps}function o4(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function s4(n){return typeof n=="function"||typeof n=="object"&&n instanceof J}function Cv(n,e){for(let t of n)Array.isArray(t)?Cv(t,e):t&&zD(t)?Cv(t.\u0275providers,e):e(t)}function on(n,e){let t;n instanceof ql?(Ul(n),t=n):t=new rf(n);let r,i=Ti(t),o=Tn(void 0);try{return e()}finally{Ti(i),Tn(o)}}function r1(){return qD()!==void 0||Nl()!=null}function b0(n){if(!r1())throw new W(-203,!1)}function a4(n){return typeof n=="function"}var Li=0,be=1,ye=2,rn=3,_r=4,wr=5,Wl=6,cf=7,Lt=8,za=9,Ai=10,Dt=11,Gl=12,JT=13,Ka=14,yr=15,ws=16,Fa=17,Ri=18,Af=19,i1=20,wo=21,rv=22,lf=23,Xn=24,ja=25,Yt=26,o1=1;var Cs=7,uf=8,Ha=9,nn=10;function Co(n){return Array.isArray(n)&&typeof n[o1]=="object"}function Vi(n){return Array.isArray(n)&&n[o1]===!0}function E0(n){return(n.flags&4)!==0}function Qa(n){return n.componentOffset>-1}function Rf(n){return(n.flags&1)===1}function Vr(n){return!!n.template}function df(n){return(n[ye]&512)!==0}function Ya(n){return(n[ye]&256)===256}var bv=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function s1(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var vn=(()=>{let n=()=>a1;return n.ngInherit=!0,n})();function a1(n){return n.type.prototype.ngOnChanges&&(n.setInput=l4),c4}function c4(){let n=l1(this),e=n?.current;if(e){let t=n.previous;if(t===vs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function l4(n,e,t,r,i){let o=this.declaredInputs[r],s=l1(n)||u4(n,{previous:vs,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new bv(u&&u.currentValue,t,c===vs),s1(n,e,i,t)}var c1="__ngSimpleChanges__";function l1(n){return n[c1]||null}function u4(n,e){return n[c1]=e}var XT=null;var Qe=function(n,e=null,t){XT?.(n,e,t)},u1="svg",d4="math";function jr(n){for(;Array.isArray(n);)n=n[Li];return n}function d1(n,e){return jr(e[n])}function Wr(n,e){return jr(e[n.index])}function I0(n,e){return n.data[e]}function x0(n,e){return n[e]}function h4(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Br(n,e){let t=e[n];return Co(t)?t:t[Li]}function f4(n){return(n[ye]&4)===4}function S0(n){return(n[ye]&128)===128}function p4(n){return Vi(n[rn])}function Eo(n,e){return e==null?null:n[e]}function h1(n){n[Fa]=0}function f1(n){n[ye]&1024||(n[ye]|=1024,S0(n)&&nu(n))}function g4(n,e){for(;n>0;)e=e[Ka],n--;return e}function Nf(n){return!!(n[ye]&9216||n[Xn]?.dirty)}function Ev(n){n[Ai].changeDetectionScheduler?.notify(8),n[ye]&64&&(n[ye]|=1024),Nf(n)&&nu(n)}function nu(n){n[Ai].changeDetectionScheduler?.notify(0);let e=bs(n);for(;e!==null&&!(e[ye]&8192||(e[ye]|=8192,!S0(e)));)e=bs(e)}function p1(n,e){if(Ya(n))throw new W(911,!1);n[wo]===null&&(n[wo]=[]),n[wo].push(e)}function m4(n,e){if(n[wo]===null)return;let t=n[wo].indexOf(e);t!==-1&&n[wo].splice(t,1)}function bs(n){let e=n[rn];return Vi(e)?e[rn]:e}function T0(n){return n[cf]??=[]}function D0(n){return n.cleanup??=[]}function _4(n,e,t,r){let i=T0(e);i.push(t),n.firstCreatePass&&D0(n).push(r,i.length-1)}var Se={lFrame:b1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Iv=!1;function y4(){return Se.lFrame.elementDepthCount}function v4(){Se.lFrame.elementDepthCount++}function w4(){Se.lFrame.elementDepthCount--}function M0(){return Se.bindingsEnabled}function C4(){return Se.skipHydrationRootTNode!==null}function b4(n){return Se.skipHydrationRootTNode===n}function E4(){Se.skipHydrationRootTNode=null}function Me(){return Se.lFrame.lView}function Mt(){return Se.lFrame.tView}function U(n){return Se.lFrame.contextLView=n,n[Lt]}function $(n){return Se.lFrame.contextLView=null,n}function sn(){let n=g1();for(;n!==null&&n.type===64;)n=n.parent;return n}function g1(){return Se.lFrame.currentTNode}function I4(){let n=Se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ms(n,e){let t=Se.lFrame;t.currentTNode=n,t.isParent=e}function k0(){return Se.lFrame.isParent}function m1(){Se.lFrame.isParent=!1}function x4(){return Se.lFrame.contextLView}function _1(){return Iv}function eD(n){let e=Iv;return Iv=n,e}function ru(){let n=Se.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function S4(){return Se.lFrame.bindingIndex}function T4(n){return Se.lFrame.bindingIndex=n}function Za(){return Se.lFrame.bindingIndex++}function y1(n){let e=Se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function D4(){return Se.lFrame.inI18n}function M4(n,e){let t=Se.lFrame;t.bindingIndex=t.bindingRootIndex=n,xv(e)}function k4(){return Se.lFrame.currentDirectiveIndex}function xv(n){Se.lFrame.currentDirectiveIndex=n}function P4(n){let e=Se.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function v1(){return Se.lFrame.currentQueryIndex}function P0(n){Se.lFrame.currentQueryIndex=n}function O4(n){let e=n[be];return e.type===2?e.declTNode:e.type===1?n[wr]:null}function w1(n,e,t){if(t&De.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&De.Host);)if(i=O4(o),i===null||(o=o[Ka],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Se.lFrame=C1();return r.currentTNode=e,r.lView=n,!0}function O0(n){let e=C1(),t=n[be];Se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function C1(){let n=Se.lFrame,e=n===null?null:n.child;return e===null?b1(n):e}function b1(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function E1(){let n=Se.lFrame;return Se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var I1=E1;function A0(){let n=E1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function A4(n){return(Se.lFrame.contextLView=g4(n,Se.lFrame.contextLView))[Lt]}function Io(){return Se.lFrame.selectedIndex}function Es(n){Se.lFrame.selectedIndex=n}function R0(){let n=Se.lFrame;return I0(n.tView,n.selectedIndex)}function an(){Se.lFrame.currentNamespace=u1}function jn(){R4()}function R4(){Se.lFrame.currentNamespace=null}function N4(){return Se.lFrame.currentNamespace}var x1=!0;function Ff(){return x1}function Lf(n){x1=n}function F4(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=a1(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function N0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Zh(n,e,t){S1(n,e,3,t)}function Jh(n,e,t,r){(n[ye]&3)===t&&S1(n,e,t,r)}function iv(n,e){let t=n[ye];(t&3)===e&&(t&=16383,t+=1,n[ye]=t)}function S1(n,e,t,r){let i=r!==void 0?n[Fa]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Fa]+=65536),(a<o||o==-1)&&(L4(n,t,e,c),n[Fa]=(n[Fa]&4294901760)+c+2),c++}function tD(n,e){Qe(4,n,e);let t=Pe(null);try{e.call(n)}finally{Pe(t),Qe(5,n,e)}}function L4(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ye]>>14<n[Fa]>>16&&(n[ye]&3)===e&&(n[ye]+=16384,tD(a,o)):tD(a,o)}var Ba=-1,Is=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function V4(n){return(n.flags&8)!==0}function j4(n){return(n.flags&16)!==0}function B4(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];U4(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function T1(n){return n===3||n===4||n===6}function U4(n){return n.charCodeAt(0)===64}function qa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?nD(n,t,i,null,e[++r]):nD(n,t,i,null,null))}}return n}function nD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function D1(n){return n!==Ba}function hf(n){return n&32767}function $4(n){return n>>16}function ff(n,e){let t=$4(n),r=e;for(;t>0;)r=r[Ka],t--;return r}var Sv=!0;function pf(n){let e=Sv;return Sv=n,e}var z4=256,M1=z4-1,k1=5,H4=0,Lr={};function q4(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(zl)&&(r=t[zl]),r==null&&(r=t[zl]=H4++);let i=r&M1,o=1<<i;e.data[n+(i>>k1)]|=o}function gf(n,e){let t=P1(n,e);if(t!==-1)return t;let r=e[be];r.firstCreatePass&&(n.injectorIndex=e.length,ov(r.data,n),ov(e,null),ov(r.blueprint,null));let i=F0(n,e),o=n.injectorIndex;if(D1(i)){let s=hf(i),a=ff(i,e),c=a[be].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function ov(n,e){n.push(0,0,0,0,0,0,0,0,e)}function P1(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function F0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=F1(i),r===null)return Ba;if(t++,i=i[Ka],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ba}function Tv(n,e,t){q4(n,e,t)}function W4(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(T1(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function O1(n,e,t){if(t&De.Optional||n!==void 0)return n;v0(e,"NodeInjector")}function A1(n,e,t,r){if(t&De.Optional&&r===void 0&&(r=null),(t&(De.Self|De.Host))===0){let i=n[za],o=Tn(void 0);try{return i?i.get(e,r,t&De.Optional):WD(e,r,t&De.Optional)}finally{Tn(o)}}return O1(r,e,t)}function R1(n,e,t,r=De.Default,i){if(n!==null){if(e[ye]&2048&&!(r&De.Self)){let s=Y4(n,e,t,r,Lr);if(s!==Lr)return s}let o=N1(n,e,t,r,Lr);if(o!==Lr)return o}return A1(e,t,r,i)}function N1(n,e,t,r,i){let o=K4(t);if(typeof o=="function"){if(!w1(e,n,r))return r&De.Host?O1(i,t,r):A1(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&De.Optional))v0(t);else return s}finally{I1()}}else if(typeof o=="number"){let s=null,a=P1(n,e),c=Ba,u=r&De.Host?e[yr][wr]:null;for((a===-1||r&De.SkipSelf)&&(c=a===-1?F0(n,e):e[a+8],c===Ba||!iD(r,!1)?a=-1:(s=e[be],a=hf(c),e=ff(c,e)));a!==-1;){let d=e[be];if(rD(o,a,d.data)){let g=G4(a,e,t,s,r,u);if(g!==Lr)return g}c=e[a+8],c!==Ba&&iD(r,e[be].data[a+8]===u)&&rD(o,a,e)?(s=d,a=hf(c),e=ff(c,e)):a=-1}}return i}function G4(n,e,t,r,i,o){let s=e[be],a=s.data[n+8],c=r==null?Qa(a)&&Sv:r!=s&&(a.type&3)!==0,u=i&De.Host&&o===a,d=Xh(a,s,t,c,u);return d!==null?Kl(e,s,d,a,i):Lr}function Xh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,g=r?a:a+d,_=i?a+d:u;for(let v=g;v<_;v++){let E=s[v];if(v<c&&t===E||v>=c&&E.type===t)return v}if(i){let v=s[c];if(v&&Vr(v)&&v.type===t)return c}return null}function Kl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Is){let a=o;a.resolving&&HD(NV(s[t]));let c=pf(a.canSeeViewProviders);a.resolving=!0;let u,d=a.injectImpl?Tn(a.injectImpl):null,g=w1(n,r,De.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&F4(t,s[t],e)}finally{d!==null&&Tn(d),pf(c),a.resolving=!1,I1()}}return o}function K4(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(zl)?n[zl]:void 0;return typeof e=="number"?e>=0?e&M1:Q4:e}function rD(n,e,t){let r=1<<n;return!!(t[e+(n>>k1)]&r)}function iD(n,e){return!(n&De.Self)&&!(n&De.Host&&e)}var _s=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return R1(this._tNode,this._lView,e,kf(r),t)}};function Q4(){return new _s(sn(),Me())}function Ja(n){return eu(()=>{let e=n.prototype.constructor,t=e[nf]||Dv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[nf]||Dv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Dv(n){return jD(n)?()=>{let e=Dv(_n(n));return e&&e()}:ys(n)}function Y4(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ye]&2048&&!df(s);){let a=N1(o,s,t,r|De.Self,Lr);if(a!==Lr)return a;let c=o.parent;if(!c){let u=s[i1];if(u){let d=u.get(t,Lr,r);if(d!==Lr)return d}c=F1(s),s=s[Ka]}o=c}return i}function F1(n){let e=n[be],t=e.type;return t===2?e.declTNode:t===1?n[wr]:null}function L0(n){return W4(sn(),n)}function oD(n,e=null,t=null,r){let i=L1(n,e,t,r);return i.resolveInjectorInitializers(),i}function L1(n,e=null,t=null,r,i=new Set){let o=[t||Jn,ZV(n)];return r=r||(typeof n=="object"?void 0:Dn(n)),new ql(o,e||Of(),r||null,i)}var lt=class n{static THROW_IF_NOT_FOUND=ms;static NULL=new af;static create(e,t){if(Array.isArray(e))return oD({name:""},t,e,"");{let r=e.name??"";return oD({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:n,providedIn:"any",factory:()=>Z(YD)});static __NG_ELEMENT_ID__=-1};var Z4=new J("");Z4.__NG_ELEMENT_ID__=n=>{let e=sn();if(e===null)throw new W(204,!1);if(e.type&2)return e.value;if(n&De.Optional)return null;throw new W(204,!1)};var V1=!1,Xa=(()=>{class n{static __NG_ELEMENT_ID__=J4;static __NG_ENV_ID__=t=>t}return n})(),Mv=class extends Xa{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Ya(t)?(e(),()=>{}):(p1(t,e),()=>m4(t,e))}};function J4(){return new Mv(Me())}var xs=class{},V0=new J("",{providedIn:"root",factory:()=>!1});var j1=new J(""),B1=new J(""),ks=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new nt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vf=(()=>{class n{internalPendingTasks=N(ks);scheduler=N(xs);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return C(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),kv=class extends ge{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,r1()&&(this.destroyRef=N(Xa,{optional:!0})??void 0,this.pendingTasks=N(ks,{optional:!0})??void 0)}emit(e){let t=Pe(null);try{super.next(e)}finally{Pe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Be&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},oe=kv;function mf(...n){}function U1(n){let e,t;function r(){n=mf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function sD(n){return queueMicrotask(()=>n()),()=>{n=mf}}var j0="isAngularZone",_f=j0+"_ID",X4=0,Oe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new oe(!1);onMicrotaskEmpty=new oe(!1);onStable=new oe(!1);onError=new oe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=V1}=e;if(typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,n3(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(j0)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new W(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,e3,mf,mf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},e3={};function B0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function t3(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){U1(()=>{n.callbackScheduled=!1,Pv(n),n.isCheckStableRunning=!0,B0(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Pv(n)}function n3(n){let e=()=>{t3(n)},t=X4++;n._inner=n._inner.fork({name:"angular",properties:{[j0]:!0,[_f]:t,[_f+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(r3(c))return r.invokeTask(o,s,a,c);try{return aD(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),cD(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return aD(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!i3(c)&&e(),cD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Pv(n),B0(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Pv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function aD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cD(n){n._nesting--,B0(n)}var Ov=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new oe;onMicrotaskEmpty=new oe;onStable=new oe;onError=new oe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function r3(n){return $1(n,"__ignore_ng_zone__")}function i3(n){return $1(n,"__scheduler_tick__")}function $1(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ur=class{_console=console;handleError(e){this._console.error("ERROR",e)}},o3=new J("",{providedIn:"root",factory:()=>{let n=N(Oe),e=N(Ur);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function lD(n,e){return LD(n,e)}function s3(n){return LD(FD,n)}var z1=(lD.required=s3,lD);function a3(){return ec(sn(),Me())}function ec(n,e){return new wt(Wr(n,e))}var wt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=a3}return n})();function c3(n){return n instanceof wt?n.nativeElement:n}function l3(n){return typeof n=="function"&&n[Zn]!==void 0}function Gr(n,e){let t=Ay(n,e?.equal),r=t[Zn];return t.set=i=>Rl(r,i),t.update=i=>Ry(r,i),t.asReadonly=u3.bind(t),t}function u3(){let n=this[Zn];if(n.readonlyFn===void 0){let e=()=>this();e[Zn]=n,n.readonlyFn=e}return n.readonlyFn}function H1(n){return l3(n)&&typeof n.set=="function"}function d3(){return this._results[Symbol.iterator]()}var Av=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ge}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=qV(e);(this._changesDetected=!HV(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=d3};function q1(n){return(n.flags&128)===128}var W1=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(W1||{}),G1=new Map,h3=0;function f3(){return h3++}function p3(n){G1.set(n[Af],n)}function Rv(n){G1.delete(n[Af])}var uD="__ngContext__";function tc(n,e){Co(e)?(n[uD]=e[Af],p3(e)):n[uD]=e}function K1(n){return Y1(n[Gl])}function Q1(n){return Y1(n[_r])}function Y1(n){for(;n!==null&&!Vi(n);)n=n[_r];return n}var Nv;function Z1(n){Nv=n}function g3(){if(Nv!==void 0)return Nv;if(typeof document<"u")return document;throw new W(210,!1)}var iu=new J("",{providedIn:"root",factory:()=>m3}),m3="ng",U0=new J(""),Kr=new J("",{providedIn:"platform",factory:()=>"unknown"});var $0=new J(""),z0=new J("",{providedIn:"root",factory:()=>g3().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _3="h",y3="b";var J1=!1,v3=new J("",{providedIn:"root",factory:()=>J1});var H0=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(H0||{}),nc=new J(""),dD=new Set;function Qr(n){dD.has(n)||(dD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var X1=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=w3}return n})();function w3(){return new X1(Me(),sn())}var La=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(La||{}),eM=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),C3=[La.EarlyRead,La.Write,La.MixedReadWrite,La.Read],b3=(()=>{class n{ngZone=N(Oe);scheduler=N(xs);errorHandler=N(Ur,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(nc,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Qe(16),this.executing=!0;for(let r of C3)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Qe(17)}register(t){let{view:r}=t;r!==void 0?((r[ja]??=[]).push(t),nu(r),r[ye]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(H0.AFTER_NEXT_RENDER,t):t()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),Fv=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ja];e&&(this.view[ja]=e.filter(t=>t!==this))}};function rc(n,e){!e?.injector&&b0(rc);let t=e?.injector??N(lt);return Qr("NgAfterNextRender"),I3(n,t,e,!0)}function E3(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function I3(n,e,t,r){let i=e.get(eM);i.impl??=e.get(b3);let o=e.get(nc,null,{optional:!0}),s=t?.phase??La.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Xa):null,c=e.get(X1,null,{optional:!0}),u=new Fv(i.impl,E3(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var x3=(n,e,t,r)=>{};function S3(n,e,t,r){x3(n,e,t,r)}var T3=()=>null;function tM(n,e,t=!1){return T3(n,e,t)}function nM(n,e){let t=n.contentQueries;if(t!==null){let r=Pe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];P0(o),a.contentQueries(2,e[s],s)}}}finally{Pe(r)}}}function Lv(n,e,t){P0(0);let r=Pe(null);try{e(n,t)}finally{Pe(r)}}function q0(n,e,t){if(E0(e)){let r=Pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Pe(r)}}}var $r=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}($r||{});var Kh;function D3(){if(Kh===void 0&&(Kh=null,gs.trustedTypes))try{Kh=gs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kh}function hD(n){return D3()?.createScriptURL(n)||n}var yf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${RD})`}};function jf(n){return n instanceof yf?n.changingThisBreaksApplicationSecurity:n}function rM(n,e){let t=M3(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${RD})`)}return t===e}function M3(n){return n instanceof yf&&n.getTypeName()||null}var k3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function P3(n){return n=String(n),n.match(k3)?n:"unsafe:"+n}var W0=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(W0||{});function Ps(n){let e=oM();return e?e.sanitize(W0.URL,n)||"":rM(n,"URL")?jf(n):P3(Ua(n))}function O3(n){let e=oM();if(e)return hD(e.sanitize(W0.RESOURCE_URL,n)||"");if(rM(n,"ResourceURL"))return hD(jf(n));throw new W(904,!1)}function A3(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?O3:Ps}function iM(n,e,t){return A3(e,t)(n)}function oM(){let n=Me();return n&&n[Ai].sanitizer}var R3=/^>|^->|<!--|-->|--!>|<!-$/g,N3=/(<|>)/g,F3="\u200B$1\u200B";function L3(n){return n.replace(R3,e=>e.replace(N3,F3))}function Bf(n){return n.ownerDocument.defaultView}function xo(n){return n.ownerDocument}function sM(n){return n instanceof Function?n():n}function V3(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var aM="ng-template";function j3(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&V3(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(G0(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function G0(n){return n.type===4&&n.value!==aM}function B3(n,e,t){let r=n.type===4&&!t?aM:n.value;return e===r}function U3(n,e,t){let r=4,i=n.attrs,o=i!==null?H3(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!mr(r)&&!mr(c))return!1;if(s&&mr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!B3(n,c,t)||c===""&&e.length===1){if(mr(r))return!1;s=!0}}else if(r&8){if(i===null||!j3(n,i,c,t)){if(mr(r))return!1;s=!0}}else{let u=e[++a],d=$3(c,i,G0(n),t);if(d===-1){if(mr(r))return!1;s=!0;continue}if(u!==""){let g;if(d>o?g="":g=i[d+1].toLowerCase(),r&2&&u!==g){if(mr(r))return!1;s=!0}}}}return mr(r)||s}function mr(n){return(n&1)===0}function $3(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return q3(e,n)}function z3(n,e,t=!1){for(let r=0;r<e.length;r++)if(U3(n,e[r],t))return!0;return!1}function H3(n){for(let e=0;e<n.length;e++){let t=n[e];if(T1(t))return e}return n.length}function q3(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function fD(n,e){return n?":not("+e.trim()+")":e}function W3(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!mr(s)&&(e+=fD(o,i),i=""),r=s,o=o||!mr(r);t++}return i!==""&&(e+=fD(o,i)),e}function G3(n){return n.map(W3).join(",")}function K3(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!mr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Cr={};function Q3(n,e){return n.createText(e)}function Y3(n,e,t){n.setValue(e,t)}function Z3(n,e){return n.createComment(L3(e))}function cM(n,e,t){return n.createElement(e,t)}function vf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function lM(n,e,t){n.appendChild(e,t)}function pD(n,e,t,r,i){r!==null?vf(n,e,t,r,i):lM(n,e,t)}function J3(n,e,t){n.removeChild(null,e,t)}function X3(n,e,t){n.setAttribute(e,"style",t)}function e5(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function uM(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&B4(n,e,r),i!==null&&e5(n,e,i),o!==null&&X3(n,e,o)}function K0(n,e,t,r,i,o,s,a,c,u,d){let g=Yt+r,_=g+i,v=t5(g,_),E=typeof u=="function"?u():u;return v[be]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function t5(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Cr);return t}function n5(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=K0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Q0(n,e,t,r,i,o,s,a,c,u,d){let g=e.blueprint.slice();return g[Li]=i,g[ye]=r|4|128|8|64|1024,(u!==null||n&&n[ye]&2048)&&(g[ye]|=2048),h1(g),g[rn]=g[Ka]=n,g[Lt]=t,g[Ai]=s||n&&n[Ai],g[Dt]=a||n&&n[Dt],g[za]=c||n&&n[za]||null,g[wr]=o,g[Af]=f3(),g[Wl]=d,g[i1]=u,g[yr]=e.type==2?n[yr]:g,g}function r5(n,e,t){let r=Wr(e,n),i=n5(t),o=n[Ai].rendererFactory,s=Y0(n,Q0(n,i,null,dM(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function dM(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function hM(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Y0(n,e){return n[Gl]?n[JT][_r]=e:n[Gl]=e,n[JT]=e,e}function I(n=1){fM(Mt(),Me(),Io()+n,!1)}function fM(n,e,t,r){if(!r)if((e[ye]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Zh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Jh(e,o,0,t)}Es(t)}var Uf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Uf||{});function Vv(n,e,t,r){let i=Pe(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Uf.SignalBased)!==0&&(c=e[o][Zn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):s1(e,c,o,r)}finally{Pe(i)}}function pM(n,e,t,r,i){let o=Io(),s=r&2;try{Es(-1),s&&e.length>Yt&&fM(n,e,Yt,!1),Qe(s?2:0,i),t(r,i)}finally{Es(o),Qe(s?3:1,i)}}function $f(n,e,t){l5(n,e,t),(t.flags&64)===64&&u5(n,e,t)}function Z0(n,e,t=Wr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function i5(n,e,t,r){let o=r.get(v3,J1)||t===$r.ShadowDom,s=n.selectRootElement(e,o);return o5(s),s}function o5(n){s5(n)}var s5=()=>null;function a5(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function gM(n,e,t,r,i,o,s,a){if(!a&&X0(e,n,t,r,i)){Qa(e)&&c5(t,e.index);return}if(e.type&3){let c=Wr(e,t);r=a5(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function c5(n,e){let t=Br(e,n);t[ye]&16||(t[ye]|=64)}function l5(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Qa(t)&&r5(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||gf(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Kl(e,n,s,t);if(tc(c,e),o!==null&&p5(e,s-r,c,a,t,o),Vr(a)){let u=Br(t.index,e);u[Lt]=Kl(e,n,s,t)}}}function u5(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=k4();try{Es(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];xv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&d5(c,u)}}finally{Es(-1),xv(s)}}function d5(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function J0(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];z3(e,o.selectors,!1)&&(r??=[],Vr(o)?r.unshift(o):r.push(o))}return r}function h5(n,e,t,r,i,o){let s=Wr(n,e);f5(e[Dt],s,o,n.value,t,r,i)}function f5(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ua(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function p5(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Vv(r,t,c,u)}}function g5(n,e){let t=n[za],r=t?t.get(Ur,null):null;r&&r.handleError(e)}function X0(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],g=e.data[u];Vv(g,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];Vv(d,u,r,i),a=!0}return a}function m5(n,e){let t=Br(e,n),r=t[be];_5(r,t);let i=t[Li];i!==null&&t[Wl]===null&&(t[Wl]=tM(i,t[za])),Qe(18),ew(r,t,t[Lt]),Qe(19,t[Lt])}function _5(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ew(n,e,t){O0(e);try{let r=n.viewQuery;r!==null&&Lv(1,r,t);let i=n.template;i!==null&&pM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ri]?.finishViewCreation(n),n.staticContentQueries&&nM(n,e),n.staticViewQueries&&Lv(2,n.viewQuery,t);let o=n.components;o!==null&&y5(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ye]&=-5,A0()}}function y5(n,e){for(let t=0;t<e.length;t++)m5(n,e[t])}function zf(n,e,t,r){let i=Pe(null);try{let o=e.tView,a=n[ye]&4096?4096:16,c=Q0(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[ws]=u;let d=n[Ri];return d!==null&&(c[Ri]=d.createEmbeddedView(o)),ew(o,c,t),c}finally{Pe(i)}}function Ql(n,e){return!e||e.firstChild===null||q1(n)}var v5;function tw(n,e){return v5(n,e)}var zr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(zr||{});function mM(n){return(n.flags&32)===32}function Va(n,e,t,r,i){if(r!=null){let o,s=!1;Vi(r)?o=r:Co(r)&&(s=!0,r=r[Li]);let a=jr(r);n===0&&t!==null?i==null?lM(e,t,a):vf(e,t,a,i||null,!0):n===1&&t!==null?vf(e,t,a,i||null,!0):n===2?J3(e,a,s):n===3&&e.destroyNode(a),o!=null&&P5(e,n,o,t,i)}}function w5(n,e){_M(n,e),e[Li]=null,e[wr]=null}function C5(n,e,t,r,i,o){r[Li]=i,r[wr]=e,Wf(n,r,t,1,i,o)}function _M(n,e){e[Ai].changeDetectionScheduler?.notify(9),Wf(n,e,e[Dt],2,null,null)}function b5(n){let e=n[Gl];if(!e)return sv(n[be],n);for(;e;){let t=null;if(Co(e))t=e[Gl];else{let r=e[nn];r&&(t=r)}if(!t){for(;e&&!e[_r]&&e!==n;)Co(e)&&sv(e[be],e),e=e[rn];e===null&&(e=n),Co(e)&&sv(e[be],e),t=e&&e[_r]}e=t}}function nw(n,e){let t=n[Ha],r=t.indexOf(e);t.splice(r,1)}function Hf(n,e){if(Ya(e))return;let t=e[Dt];t.destroyNode&&Wf(n,e,t,3,null,null),b5(e)}function sv(n,e){if(Ya(e))return;let t=Pe(null);try{e[ye]&=-129,e[ye]|=256,e[Xn]&&ky(e[Xn]),I5(n,e),E5(n,e),e[be].type===1&&e[Dt].destroy();let r=e[ws];if(r!==null&&Vi(e[rn])){r!==e[rn]&&nw(r,e);let i=e[Ri];i!==null&&i.detachView(n)}Rv(e)}finally{Pe(t)}}function E5(n,e){let t=n.cleanup,r=e[cf];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[cf]=null);let i=e[wo];if(i!==null){e[wo]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[lf];if(o!==null){e[lf]=null;for(let s of o)s.destroy()}}function I5(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Is)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Qe(4,a,c);try{c.call(a)}finally{Qe(5,a,c)}}else{Qe(4,i,o);try{o.call(i)}finally{Qe(5,i,o)}}}}}function x5(n,e,t){return S5(n,e.parent,t)}function S5(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Li];if(Qa(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===$r.None||i===$r.Emulated)return null}return Wr(r,t)}function T5(n,e,t){return M5(n,e,t)}function D5(n,e,t){return n.type&40?Wr(n,t):null}var M5=D5,gD;function qf(n,e,t,r){let i=x5(n,r,e),o=e[Dt],s=r.parent||e[wr],a=T5(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)pD(o,i,t[c],a,!1);else pD(o,i,t,a,!1);gD!==void 0&&gD(o,r,e,t,i)}function $l(n,e){if(e!==null){let t=e.type;if(t&3)return Wr(e,n);if(t&4)return jv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return $l(n,r);{let i=n[e.index];return Vi(i)?jv(-1,i):jr(i)}}else{if(t&128)return $l(n,e.next);if(t&32)return tw(e,n)()||jr(n[e.index]);{let r=yM(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=bs(n[yr]);return $l(i,r)}else return $l(n,e.next)}}}return null}function yM(n,e){if(e!==null){let r=n[yr][wr],i=e.projection;return r.projection[i]}return null}function jv(n,e){let t=nn+n+1;if(t<e.length){let r=e[t],i=r[be].firstChild;if(i!==null)return $l(r,i)}return e[Cs]}function rw(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&tc(jr(a),r),t.flags|=2),!mM(t))if(c&8)rw(n,e,t.child,r,i,o,!1),Va(e,n,i,a,o);else if(c&32){let u=tw(t,r),d;for(;d=u();)Va(e,n,i,d,o);Va(e,n,i,a,o)}else c&16?k5(n,e,r,t,i,o):Va(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Wf(n,e,t,r,i,o){rw(t,r,n.firstChild,e,i,o,!1)}function k5(n,e,t,r,i,o){let s=t[yr],c=s[wr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Va(e,n,i,d,o)}else{let u=c,d=s[rn];q1(r)&&(u.flags|=128),rw(n,e,u,d,i,o,!0)}}function P5(n,e,t,r,i){let o=t[Cs],s=jr(t);o!==s&&Va(e,n,r,o,i);for(let a=nn;a<t.length;a++){let c=t[a];Wf(c[be],c,n,e,r,o)}}function O5(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:zr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zr.Important),n.setStyle(t,r,i,o))}}function wf(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(jr(o)),Vi(o)&&A5(o,r);let s=t.type;if(s&8)wf(n,e,t.child,r);else if(s&32){let a=tw(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=yM(e,t);if(Array.isArray(a))r.push(...a);else{let c=bs(e[yr]);wf(c[be],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function A5(n,e){for(let t=nn;t<n.length;t++){let r=n[t],i=r[be].firstChild;i!==null&&wf(r[be],r,i,e)}n[Cs]!==n[Li]&&e.push(n[Cs])}function vM(n){if(n[ja]!==null){for(let e of n[ja])e.impl.addSequence(e);n[ja].length=0}}var wM=[];function R5(n){return n[Xn]??N5(n)}function N5(n){let e=wM.pop()??Object.create(L5);return e.lView=n,e}function F5(n){n.lView[Xn]!==n&&(n.lView=null,wM.push(n))}var L5=_e(q({},Ol),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{nu(n.lView)},consumerOnSignalRead(){this.lView[Xn]=this}});function V5(n){let e=n[Xn]??Object.create(j5);return e.lView=n,e}var j5=_e(q({},Ol),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=bs(n.lView);for(;e&&!CM(e[be]);)e=bs(e);e&&f1(e)},consumerOnSignalRead(){this.lView[Xn]=this}});function CM(n){return n.type!==2}function bM(n){if(n[lf]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[lf])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ye]&8192)}}var B5=100;function EM(n,e=!0,t=0){let i=n[Ai].rendererFactory,o=!1;o||i.begin?.();try{U5(n,t)}catch(s){throw e&&g5(n,s),s}finally{o||i.end?.()}}function U5(n,e){let t=_1();try{eD(!0),Bv(n,e);let r=0;for(;Nf(n);){if(r===B5)throw new W(103,!1);r++,Bv(n,1)}}finally{eD(t)}}function $5(n,e,t,r){if(Ya(e))return;let i=e[ye],o=!1,s=!1;O0(e);let a=!0,c=null,u=null;o||(CM(n)?(u=R5(e),c=dh(u)):Iy()===null?(a=!1,u=V5(e),c=dh(u)):e[Xn]&&(ky(e[Xn]),e[Xn]=null));try{h1(e),T4(n.bindingStartIndex),t!==null&&pM(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let v=n.preOrderCheckHooks;v!==null&&Zh(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Jh(e,v,0,null),iv(e,0)}if(s||z5(e),bM(e),IM(e,0),n.contentQueries!==null&&nM(n,e),!o)if(d){let v=n.contentCheckHooks;v!==null&&Zh(e,v)}else{let v=n.contentHooks;v!==null&&Jh(e,v,1),iv(e,1)}q5(n,e);let g=n.components;g!==null&&SM(e,g,0);let _=n.viewQuery;if(_!==null&&Lv(2,_,r),!o)if(d){let v=n.viewCheckHooks;v!==null&&Zh(e,v)}else{let v=n.viewHooks;v!==null&&Jh(e,v,2),iv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[rv]){for(let v of e[rv])v();e[rv]=null}o||(vM(e),e[ye]&=-73)}catch(d){throw o||nu(e),d}finally{u!==null&&(Dy(u,c),a&&F5(u)),A0()}}function IM(n,e){for(let t=K1(n);t!==null;t=Q1(t))for(let r=nn;r<t.length;r++){let i=t[r];xM(i,e)}}function z5(n){for(let e=K1(n);e!==null;e=Q1(e)){if(!(e[ye]&2))continue;let t=e[Ha];for(let r=0;r<t.length;r++){let i=t[r];f1(i)}}}function H5(n,e,t){Qe(18);let r=Br(e,n);xM(r,t),Qe(19,r[Lt])}function xM(n,e){S0(n)&&Bv(n,e)}function Bv(n,e){let r=n[be],i=n[ye],o=n[Xn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&My(o)),s||=!1,o&&(o.dirty=!1),n[ye]&=-9217,s)$5(r,n,r.template,n[Lt]);else if(i&8192){bM(n),IM(n,1);let a=r.components;a!==null&&SM(n,a,1),vM(n)}}function SM(n,e,t){for(let r=0;r<e.length;r++)H5(n,e[r],t)}function q5(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Es(~i);else{let o=i,s=t[++r],a=t[++r];M4(s,o);let c=e[o];Qe(24,c),a(2,c),Qe(25,c)}}}finally{Es(-1)}}function iw(n,e){let t=_1()?64:1088;for(n[Ai].changeDetectionScheduler?.notify(e);n;){n[ye]|=t;let r=bs(n);if(df(n)&&!r)return n;n=r}return null}function TM(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function DM(n,e){let t=nn+e;if(t<n.length)return n[t]}function Gf(n,e,t,r=!0){let i=e[be];if(W5(i,e,n,t),r){let s=jv(t,n),a=e[Dt],c=a.parentNode(n[Cs]);c!==null&&C5(i,n[wr],a,e,c,s)}let o=e[Wl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function MM(n,e){let t=Yl(n,e);return t!==void 0&&Hf(t[be],t),t}function Yl(n,e){if(n.length<=nn)return;let t=nn+e,r=n[t];if(r){let i=r[ws];i!==null&&i!==n&&nw(i,r),e>0&&(n[t-1][_r]=r[_r]);let o=sf(n,nn+e);w5(r[be],r);let s=o[Ri];s!==null&&s.detachView(o[be]),r[rn]=null,r[_r]=null,r[ye]&=-129}return r}function W5(n,e,t,r){let i=nn+r,o=t.length;r>0&&(t[i-1][_r]=e),r<o-nn?(e[_r]=t[i],QD(t,nn+r,e)):(t.push(e),e[_r]=null),e[rn]=t;let s=e[ws];s!==null&&t!==s&&kM(s,e);let a=e[Ri];a!==null&&a.insertView(n),Ev(e),e[ye]|=128}function kM(n,e){let t=n[Ha],r=e[rn];if(Co(r))n[ye]|=2;else{let i=r[rn][yr];e[yr]!==i&&(n[ye]|=2)}t===null?n[Ha]=[e]:t.push(e)}var Zl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[be];return wf(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Lt]}set context(e){this._lView[Lt]=e}get destroyed(){return Ya(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rn];if(Vi(e)){let t=e[uf],r=t?t.indexOf(this):-1;r>-1&&(Yl(e,r),sf(t,r))}this._attachedToViewContainer=!1}Hf(this._lView[be],this._lView)}onDestroy(e){p1(this._lView,e)}markForCheck(){iw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ye]&=-129}reattach(){Ev(this._lView),this._lView[ye]|=128}detectChanges(){this._lView[ye]|=1024,EM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=df(this._lView),t=this._lView[ws];t!==null&&!e&&nw(t,this._lView),_M(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e;let t=df(this._lView),r=this._lView[ws];r!==null&&!t&&kM(r,this._lView),Ev(this._lView)}};var Ni=(()=>{class n{static __NG_ELEMENT_ID__=Q5}return n})(),G5=Ni,K5=class extends G5{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=zf(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Zl(i)}};function Q5(){return ow(sn(),Me())}function ow(n,e){return n.type&4?new K5(e,n,ec(n,e)):null}function Kf(n,e,t,r,i){let o=n.data[e];if(o===null)o=Y5(n,e,t,r,i),D4()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=I4();o.injectorIndex=s===null?-1:s.injectorIndex}return Ms(o,!0),o}function Y5(n,e,t,r,i){let o=g1(),s=k0(),a=s?o:o&&o.parent,c=n.data[e]=J5(n,a,t,e,r,i);return Z5(n,c,o,s),c}function Z5(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function J5(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return C4()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Mre=new RegExp(`^(\\d+)*(${y3}|${_3})*(.*)`);var X5=()=>null;function Jl(n,e){return X5(n,e)}var e6=class{},PM=class{},Uv=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Dn(e)}.`)}},Qf=class{static NULL=new Uv},Mn=class{},br=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>t6()}return n})();function t6(){let n=Me(),e=sn(),t=Br(e.index,n);return(Co(t)?t:n)[Dt]}var n6=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();var av={},$v=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=kf(r);let i=this.injector.get(e,av,r);return i!==av||t===av?i:this.parentInjector.get(e,t,r)}};function zv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=qT(i,a);else if(o==2){let c=a,u=e[++s];r=qT(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function B(n,e=De.Default){let t=Me();if(t===null)return Z(n,e);let r=sn();return R1(r,t,_n(n),e)}function OM(){let n="invalid";throw new Error(n)}function sw(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,u=null,d=i6(s);d===null?a=s:[a,c,u]=d,a6(n,e,t,a,o,c,u)}o!==null&&r!==null&&r6(t,r,o)}function r6(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new W(-301,!1);r.push(e[i],o)}}function i6(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Vr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,o6(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function o6(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function s6(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function a6(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let _=0;_<a;_++){let v=r[_];!c&&Vr(v)&&(c=!0,s6(n,t,_)),Tv(gf(t,e),n,v.type)}f6(t,n.data.length,a);for(let _=0;_<a;_++){let v=r[_];v.providersResolver&&v.providersResolver(v)}let u=!1,d=!1,g=hM(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let _=0;_<a;_++){let v=r[_];if(t.mergedAttrs=qa(t.mergedAttrs,v.hostAttrs),l6(n,t,e,g,v),h6(g,v,i),s!==null&&s.has(v)){let[P,R]=s.get(v);t.directiveToIndex.set(v.type,[g,P+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,g);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let E=v.type.prototype;!u&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),g++}c6(n,t,o)}function c6(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))mD(0,e,i,r),mD(1,e,i,r),yD(e,r,!1);else{let o=t.get(i);_D(0,e,o,r),_D(1,e,o,r),yD(e,r,!0)}}}function mD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),AM(e,o)}}function _D(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),AM(e,s)}}function AM(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function yD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||G0(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function l6(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ys(i.type,!0)),s=new Is(o,Vr(i),B);n.blueprint[r]=s,t[r]=s,u6(n,e,r,hM(n,t,i.hostVars,Cr),i)}function u6(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;d6(s)!=a&&s.push(a),s.push(t,r,o)}}function d6(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function h6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Vr(e)&&(t[""]=n)}}function f6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function RM(n,e,t,r,i,o,s,a){let c=e.consts,u=Eo(c,s),d=Kf(e,n,2,r,u);return o&&sw(e,t,d,Eo(c,a),i),d.mergedAttrs=qa(d.mergedAttrs,d.attrs),d.attrs!==null&&zv(d,d.attrs,!1),d.mergedAttrs!==null&&zv(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function NM(n,e){N0(n,e),E0(e)&&n.queries.elementEnd(e)}var Cf=class extends Qf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=bo(e);return new Ss(t,this.ngModule)}};function p6(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Uf.SignalBased)!==0};return i&&(o.transform=i),o})}function g6(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function m6(n,e,t){let r=e instanceof $t?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new $v(t,r):t}function _6(n){let e=n.get(Mn,null);if(e===null)throw new W(407,!1);let t=n.get(n6,null),r=n.get(xs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function y6(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return cM(e,t,t==="svg"?u1:t==="math"?d4:null)}var Ss=class extends PM{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=p6(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=g6(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=G3(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Qe(22);let o=Pe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:K3(this.componentDef.selectors[0]),c=K0(0,null,null,1,0,null,null,null,null,[a],null),u=m6(s,i||this.ngModule,e),d=_6(u),g=d.rendererFactory.createRenderer(null,s),_=r?i5(g,r,s.encapsulation,u):y6(s,g),v=Q0(null,c,null,512|dM(s),null,null,d,g,u,null,tM(_,u,!0));v[Yt]=_,O0(v);let E=null;try{let P=RM(Yt,c,v,"#host",()=>[this.componentDef],!0,0);_&&(uM(g,_,P),tc(_,v)),$f(c,v,P),q0(c,P,v),NM(c,P),t!==void 0&&v6(P,this.ngContentSelectors,t),E=Br(P.index,v),v[Lt]=E[Lt],ew(c,v,null)}catch(P){throw E!==null&&Rv(E),Rv(v),P}finally{Qe(23),A0()}return new Hv(this.componentType,v)}finally{Pe(o)}}},Hv=class extends e6{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=I0(t[be],Yt),this.location=ec(this._tNode,t),this.instance=Br(this._tNode.index,t)[Lt],this.hostView=this.changeDetectorRef=new Zl(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=X0(r,i[be],i,e,t);this.previousInputValues.set(e,t);let s=Br(r.index,i);iw(s,1)}get injector(){return new _s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function v6(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Er=(()=>{class n{static __NG_ELEMENT_ID__=w6}return n})();function w6(){let n=sn();return LM(n,Me())}var C6=Er,FM=class extends C6{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ec(this._hostTNode,this._hostLView)}get injector(){return new _s(this._hostTNode,this._hostLView)}get parentInjector(){let e=F0(this._hostTNode,this._hostLView);if(D1(e)){let t=ff(e,this._hostLView),r=hf(e),i=t[be].data[r+8];return new _s(i,t)}else return new _s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=vD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Jl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Ql(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!a4(e),a;if(s)a=t;else{let E=t||{};a=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}let c=s?e:new Ss(bo(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let P=(s?u:this.parentInjector).get($t,null);P&&(o=P)}let d=bo(c.componentType??{}),g=Jl(this._lContainer,d?.id??null),_=g?.firstChild??null,v=c.create(u,i,_,o);return this.insertImpl(v.hostView,a,Ql(this._hostTNode,g)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(p4(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[rn],u=new FM(c,c[wr],c[rn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Gf(s,i,o,r),e.attachToViewContainerRef(),QD(cv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=vD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Yl(this._lContainer,t);r&&(sf(cv(this._lContainer),t),Hf(r[be],r))}detach(e){let t=this._adjustIndex(e,-1),r=Yl(this._lContainer,t);return r&&sf(cv(this._lContainer),t)!=null?new Zl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function vD(n){return n[uf]}function cv(n){return n[uf]||(n[uf]=[])}function LM(n,e){let t,r=e[n.index];return Vi(r)?t=r:(t=TM(r,e,null,n),e[n.index]=t,Y0(e,t)),E6(t,e,n,r),new FM(t,n,e)}function b6(n,e){let t=n[Dt],r=t.createComment(""),i=Wr(e,n),o=t.parentNode(i);return vf(t,o,r,t.nextSibling(i),!1),r}var E6=S6,I6=()=>!1;function x6(n,e,t){return I6(n,e,t)}function S6(n,e,t,r){if(n[Cs])return;let i;t.type&8?i=jr(r):i=b6(e,t),n[Cs]=i}var qv=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Wv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)aw(e,t).matches!==null&&this.queries[t].setDirty()}},bf=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=R6(e):this.predicate=e}},Gv=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Kv=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,T6(t,o)),this.matchTNodeWithReadOption(e,t,Xh(t,e,o,!1,!1))}else r===Ni?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Xh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===wt||i===Er||i===Ni&&t.type&4)this.addMatch(t.index,-2);else{let o=Xh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function T6(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function D6(n,e){return n.type&11?ec(n,e):n.type&4?ow(n,e):null}function M6(n,e,t,r){return t===-1?D6(e,n):t===-2?k6(n,e,r):Kl(n,n[be],t,e)}function k6(n,e,t){if(t===wt)return ec(e,n);if(t===Ni)return ow(e,n);if(t===Er)return LM(e,n)}function VM(n,e,t,r){let i=e[Ri].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(M6(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Qv(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=VM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let g=nn;g<d.length;g++){let _=d[g];_[ws]===_[rn]&&Qv(_[be],_,u,r)}if(d[Ha]!==null){let g=d[Ha];for(let _=0;_<g.length;_++){let v=g[_];Qv(v[be],v,u,r)}}}}}return r}function P6(n,e){return n[Ri].queries[e].queryList}function jM(n,e,t){let r=new Av((t&4)===4);return _4(n,e,r,r.destroy),(e[Ri]??=new Wv).queries.push(new qv(r))-1}function O6(n,e,t){let r=Mt();return r.firstCreatePass&&(BM(r,new bf(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),jM(r,Me(),e)}function A6(n,e,t,r){let i=Mt();if(i.firstCreatePass){let o=sn();BM(i,new bf(e,t,r),o.index),N6(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return jM(i,Me(),t)}function R6(n){return n.split(",").map(e=>e.trim())}function BM(n,e,t){n.queries===null&&(n.queries=new Gv),n.queries.track(new Kv(e,t))}function N6(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function aw(n,e){return n.queries.getByIndex(e)}function F6(n,e){let t=n[be],r=aw(t,e);return r.crossesNgTemplate?Qv(t,n,e,[]):VM(t,n,r,e)}var Wa=class{},cw=class{};var Yv=class extends Wa{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Cf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=JD(e);this._bootstrapComponents=sM(o.bootstrap),this._r3Injector=L1(e,t,[{provide:Wa,useValue:this},{provide:Qf,useValue:this.componentFactoryResolver},...r],Dn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zv=class extends cw{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Yv(this.moduleType,e,[])}};var Ef=class extends Wa{injector;componentFactoryResolver=new Cf(this);instance=null;constructor(e){super();let t=new ql([...e.providers,{provide:Wa,useValue:this},{provide:Qf,useValue:this.componentFactoryResolver}],e.parent||Of(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ou(n,e,t=null){return new Ef({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var L6=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=XD(!1,t.type),i=r.length>0?ou([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(Z($t))})}return n})();function Ee(n){return eu(()=>{let e=UM(n),t=_e(q({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===W1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(L6).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||$r.Emulated,styles:n.styles||Jn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Qr("NgStandalone"),$M(t);let r=n.dependencies;return t.directiveDefs=wD(r,!1),t.pipeDefs=wD(r,!0),t.id=$6(t),t})}function V6(n){return bo(n)||QV(n)}function j6(n){return n!==null}function Bn(n){return eu(()=>({type:n.type,bootstrap:n.bootstrap||Jn,declarations:n.declarations||Jn,imports:n.imports||Jn,exports:n.exports||Jn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function B6(n,e){if(n==null)return vs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Uf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function U6(n){if(n==null)return vs;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function rt(n){return eu(()=>{let e=UM(n);return $M(e),e})}function Yf(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function UM(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||vs,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Jn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:B6(n.inputs,e),outputs:U6(n.outputs),debugInfo:null}}function $M(n){n.features?.forEach(e=>e(n))}function wD(n,e){if(!n)return null;let t=e?YV:V6;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(j6)}function $6(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function z6(n){return Object.getPrototypeOf(n.prototype).constructor}function er(n){let e=z6(n.type),t=!0,r=[n];for(;e;){let i;if(Vr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=lv(n.inputs),s.declaredInputs=lv(n.declaredInputs),s.outputs=lv(n.outputs);let a=i.hostBindings;a&&K6(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&W6(n,c),u&&G6(n,u),H6(n,i),TV(n.outputs,i.outputs),Vr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===er&&(t=!1)}}e=Object.getPrototypeOf(e)}q6(r)}function H6(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function q6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qa(i.hostAttrs,t=qa(t,i.hostAttrs))}}function lv(n){return n===vs?{}:n===Jn?[]:n}function W6(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function G6(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function K6(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function zM(n){return lw(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Q6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function lw(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Zf(n,e,t){return n[e]=t}function Y6(n,e){return n[e]}function vr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function uw(n,e,t,r){let i=vr(n,e,t);return vr(n,e+1,r)||i}function Z6(n,e,t,r,i){let o=uw(n,e,t,r);return vr(n,e+2,i)||o}function J6(n,e,t,r,i,o,s,a,c){let u=e.consts,d=Kf(e,n,4,s||null,a||null);M0()&&sw(e,t,d,Eo(u,c),J0),d.mergedAttrs=qa(d.mergedAttrs,d.attrs),N0(e,d);let g=d.tView=K0(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),g.queries=e.queries.embeddedTView(d)),d}function Jv(n,e,t,r,i,o,s,a,c,u){let d=t+Yt,g=e.firstCreatePass?J6(d,e,n,r,i,o,s,a,c):e.data[d];Ms(g,!1);let _=X6(e,n,g,t);Ff()&&qf(e,n,_,g),tc(_,n);let v=TM(_,n,_,g);return n[d]=v,Y0(n,v),x6(v,g,n),Rf(g)&&$f(e,n,g),c!=null&&Z0(n,g,u),g}function Q(n,e,t,r,i,o,s,a){let c=Me(),u=Mt(),d=Eo(u.consts,o);return Jv(c,u,n,e,t,r,i,d,s,a),Q}var X6=e8;function e8(n,e,t,r){return Lf(!0),e[Dt].createComment("")}var HM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var qM=new J("");var t8=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new Xv})}return n})(),Xv=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function So(n){return!!n&&typeof n.then=="function"}function dw(n){return!!n&&typeof n.subscribe=="function"}var WM=new J("");function hw(n){return qr([{provide:WM,multi:!0,useValue:n}])}var GM=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(WM,{optional:!0})??[];injector=N(lt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=on(this.injector,i);if(So(o))t.push(o);else if(dw(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jf=new J("");function n8(){Oy(()=>{throw new W(600,!1)})}function r8(n){return n.isBoundToModule}var i8=10;var Fi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(o3);afterRenderManager=N(eM);zonelessEnabled=N(V0);rootEffectScheduler=N(t8);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ge;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N(ks).hasPendingTasks.pipe(xe(t=>!t));constructor(){N(nc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N($t);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=lt.NULL){Qe(10);let o=t instanceof PM;if(!this._injector.get(GM).done){let v="";throw new W(405,v)}let a;o?a=t:a=this._injector.get(Qf).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=r8(a)?void 0:this._injector.get(Wa),u=r||a.selector,d=a.create(i,[],u,c),g=d.location.nativeElement,_=d.injector.get(qM,null);return _?.registerApplication(g),d.onDestroy(()=>{this.detachView(d.hostView),ef(this.components,d),_?.unregisterApplication(g)}),this._loadComponent(d),Qe(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Qe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(H0.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new W(101,!1);let t=Pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Pe(t),this.afterTick.next(),Qe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Mn,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<i8;)Qe(14),this.synchronizeOnce(),Qe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)o8(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Nf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ef(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Jf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ef(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new W(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ef(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function o8(n,e,t,r){if(!t&&!Nf(n))return;EM(n,e,t&&!r?0:1)}function ic(n,e,t,r){let i=Me(),o=Za();if(vr(i,o,e)){let s=Mt(),a=R0();h5(a,i,n,e,t,r)}return ic}function s8(n,e,t,r){return vr(n,Za(),t)?e+Ua(t)+r:Cr}function a8(n,e,t,r,i,o){let s=S4(),a=uw(n,s,t,i);return y1(2),a?e+Ua(t)+r+Ua(i)+o:Cr}function Qh(n,e){return n<<17|e<<2}function Ts(n){return n>>17&32767}function c8(n){return(n&2)==2}function l8(n,e){return n&131071|e<<17}function e0(n){return n|2}function Ga(n){return(n&131068)>>2}function uv(n,e){return n&-131069|e<<2}function u8(n){return(n&1)===1}function t0(n){return n|1}function d8(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ts(s),c=Ga(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let g=t;d=g[1],(d===null||tu(g,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let _=Ts(n[a+1]);n[r+1]=Qh(_,a),_!==0&&(n[_+1]=uv(n[_+1],r)),n[a+1]=l8(n[a+1],r)}else n[r+1]=Qh(a,0),a!==0&&(n[a+1]=uv(n[a+1],r)),a=r;else n[r+1]=Qh(c,0),a===0?a=r:n[c+1]=uv(n[c+1],r),c=r;u&&(n[r+1]=e0(n[r+1])),CD(n,d,r,!0),CD(n,d,r,!1),h8(e,d,n,r,o),s=Qh(a,c),o?e.classBindings=s:e.styleBindings=s}function h8(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&tu(o,e)>=0&&(t[r+1]=t0(t[r+1]))}function CD(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ts(i):Ga(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];f8(c,e)&&(a=!0,n[s+1]=r?t0(u):e0(u)),s=r?Ts(u):Ga(u)}a&&(n[t+1]=r?e0(i):t0(i))}function f8(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?tu(n,e)>=0:!1}function O(n,e,t){let r=Me(),i=Za();if(vr(r,i,e)){let o=Mt(),s=R0();gM(o,s,r,n,e,r[Dt],t,!1)}return O}function bD(n,e,t,r,i){X0(e,n,t,i?"class":"style",r)}function kt(n,e,t){return KM(n,e,t,!1),kt}function ze(n,e){return KM(n,e,null,!0),ze}function KM(n,e,t,r){let i=Me(),o=Mt(),s=y1(2);if(o.firstUpdatePass&&g8(o,n,s,r),e!==Cr&&vr(i,s,e)){let a=o.data[Io()];w8(o,a,i,i[Dt],n,i[s+1]=C8(e,t),r,s)}}function p8(n,e){return e>=n.expandoStartIndex}function g8(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Io()],s=p8(n,t);b8(o,r)&&e===null&&!s&&(e=!1),e=m8(i,o,e,r),d8(i,o,e,t,s,r)}}function m8(n,e,t,r){let i=P4(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=dv(null,n,e,t,r),t=Xl(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=dv(i,n,e,t,r),o===null){let c=_8(n,e,r);c!==void 0&&Array.isArray(c)&&(c=dv(null,n,e,c[1],r),c=Xl(c,e.attrs,r),y8(n,e,r,c))}else o=v8(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function _8(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ga(r)!==0)return n[Ts(r)]}function y8(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ts(i)]=r}function v8(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Xl(r,s,t)}return Xl(r,e.attrs,t)}function dv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Xl(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Xl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),GV(n,s,t?!0:e[++o]))}return n===void 0?null:n}function w8(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=u8(u)?ED(c,e,t,i,Ga(u),s):void 0;if(!If(d)){If(o)||c8(u)&&(o=ED(c,null,t,i,a,s));let g=d1(Io(),t);O5(r,s,g,i,o)}}function ED(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,g=d===null,_=t[i+1];_===Cr&&(_=g?Jn:void 0);let v=g?tv(_,r):d===r?_:void 0;if(u&&!If(v)&&(v=tv(c,r)),If(v)&&(a=v,s))return a;let E=n[i+1];i=s?Ts(E):Ga(E)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=tv(c,r))}return a}function If(n){return n!==void 0}function C8(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Dn(jf(n)))),n}function b8(n,e){return(n.flags&(e?8:16))!==0}var n0=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function hv(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function E8(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=n.at(o),d=e[o],g=hv(o,u,o,d,t);if(g!==0){g<0&&n.updateValue(o,d),o++;continue}let _=n.at(s),v=e[c],E=hv(s,_,c,v,t);if(E!==0){E<0&&n.updateValue(s,v),s--,c--;continue}let P=t(o,u),R=t(s,_),K=t(o,d);if(Object.is(K,R)){let X=t(c,v);Object.is(X,P)?(n.swap(o,s),n.updateValue(s,v),c--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(r??=new xf,i??=xD(n,o,s,t),r0(n,r,o,K))n.updateValue(o,d),o++,s++;else if(i.has(K))r.set(P,n.detach(o)),s--;else{let X=n.create(o,e[o]);n.attach(o,X),o++,s++}}for(;o<=c;)ID(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let d=n.at(o),g=u.value,_=hv(o,d,o,g,t);if(_!==0)_<0&&n.updateValue(o,g),o++,u=c.next();else{r??=new xf,i??=xD(n,o,s,t);let v=t(o,g);if(r0(n,r,o,v))n.updateValue(o,g),o++,s++,u=c.next();else if(!i.has(v))n.attach(o,n.create(o,g)),o++,s++,u=c.next();else{let E=t(o,d);r.set(E,n.detach(o)),s--}}}for(;!u.done;)ID(n,r,t,n.length,u.value),u=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function r0(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function ID(n,e,t,r,i){if(r0(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function xD(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var xf=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Yr(n,e){Qr("NgControlFlow");let t=Me(),r=Za(),i=t[r]!==Cr?t[r]:-1,o=i!==-1?Sf(t,Yt+i):void 0,s=0;if(vr(t,r,n)){let a=Pe(null);try{if(o!==void 0&&MM(o,s),n!==-1){let c=Yt+n,u=Sf(t,c),d=a0(t[be],c),g=Jl(u,d.tView.ssrId),_=zf(t,d,e,{dehydratedView:g});Gf(u,_,s,Ql(d,g))}}finally{Pe(a)}}else if(o!==void 0){let a=DM(o,s);a!==void 0&&(a[Lt]=e)}}var i0=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-nn}};function fw(n){return n}var o0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Zr(n,e,t,r,i,o,s,a,c,u,d,g,_){Qr("NgControlFlow");let v=Me(),E=Mt(),P=c!==void 0,R=Me(),K=a?s.bind(R[yr][Lt]):s,X=new o0(P,K);R[Yt+n]=X,Jv(v,E,n+1,e,t,r,i,Eo(E.consts,o)),P&&Jv(v,E,n+2,c,u,d,g,Eo(E.consts,_))}var s0=class extends n0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-nn}at(e){return this.getLView(e)[Lt].$implicit}attach(e,t){let r=t[Wl];this.needsIndexUpdate||=e!==this.length,Gf(this.lContainer,t,e,Ql(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,I8(this.lContainer,e)}create(e,t){let r=Jl(this.lContainer,this.templateTNode.tView.ssrId),i=zf(this.hostLView,this.templateTNode,new i0(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Hf(e[be],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Lt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Lt].$index=e}getLView(e){return x8(this.lContainer,e)}};function Jr(n){let e=Pe(null),t=Io();try{let r=Me(),i=r[be],o=r[t],s=t+1,a=Sf(r,s);if(o.liveCollection===void 0){let u=a0(i,s);o.liveCollection=new s0(a,r,u)}else o.liveCollection.reset();let c=o.liveCollection;if(E8(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=Za(),d=c.length===0;if(vr(r,u,d)){let g=t+2,_=Sf(r,g);if(d){let v=a0(i,g),E=Jl(_,v.tView.ssrId),P=zf(r,v,void 0,{dehydratedView:E});Gf(_,P,0,Ql(v,E))}else MM(_,0)}}}finally{Pe(e)}}function Sf(n,e){return n[e]}function I8(n,e){return Yl(n,e)}function x8(n,e){return DM(n,e)}function a0(n,e){return I0(n,e)}function m(n,e,t,r){let i=Me(),o=Mt(),s=Yt+n,a=i[Dt],c=o.firstCreatePass?RM(s,o,i,e,J0,M0(),t,r):o.data[s],u=S8(o,i,c,a,e,n);i[s]=u;let d=Rf(c);return Ms(c,!0),uM(a,u,c),!mM(c)&&Ff()&&qf(o,i,u,c),(y4()===0||d)&&tc(u,i),v4(),d&&($f(o,i,c),q0(o,c,i)),r!==null&&Z0(i,c),m}function p(){let n=sn();k0()?m1():(n=n.parent,Ms(n,!1));let e=n;b4(e)&&E4(),w4();let t=Mt();return t.firstCreatePass&&NM(t,e),e.classesWithoutHost!=null&&V4(e)&&bD(t,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&j4(e)&&bD(t,e,Me(),e.stylesWithoutHost,!1),p}function j(n,e,t,r){return m(n,e,t,r),p(),j}var S8=(n,e,t,r,i,o)=>(Lf(!0),cM(r,i,N4()));function T8(n,e,t,r,i){let o=e.consts,s=Eo(o,r),a=Kf(e,n,8,"ng-container",s);s!==null&&zv(a,s,!0);let c=Eo(o,i);return M0()&&sw(e,t,a,c,J0),a.mergedAttrs=qa(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function Xf(n,e,t){let r=Me(),i=Mt(),o=n+Yt,s=i.firstCreatePass?T8(o,i,r,e,t):i.data[o];Ms(s,!0);let a=D8(i,r,s,n);return r[o]=a,Ff()&&qf(i,r,a,s),tc(a,r),Rf(s)&&($f(i,r,s),q0(i,s,r)),t!=null&&Z0(r,s),Xf}function ep(){let n=sn(),e=Mt();return k0()?m1():(n=n.parent,Ms(n,!1)),e.firstCreatePass&&(N0(e,n),E0(n)&&e.queries.elementEnd(n)),ep}var D8=(n,e,t,r)=>(Lf(!0),Z3(e[Dt],""));function ce(){return Me()}var ps=void 0;function M8(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var k8=["en",[["a","p"],["AM","PM"],ps],[["AM","PM"],ps,ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ps,"{1} 'at' {0}",ps],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",M8],fv={};function tr(n){let e=P8(n),t=SD(e);if(t)return t;let r=e.split("-")[0];if(t=SD(r),t)return t;if(r==="en")return k8;throw new W(701,!1)}function SD(n){return n in fv||(fv[n]=gs.ng&&gs.ng.common&&gs.ng.common.locales&&gs.ng.common.locales[n]),fv[n]}var St=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(St||{});function P8(n){return n.toLowerCase().replace(/_/g,"-")}var Tf="en-US";var O8=Tf;function A8(n){typeof n=="string"&&(O8=n.toLowerCase().replace(/_/g,"-"))}function TD(n,e,t){return function r(i){if(i===Function)return t;let o=Qa(n)?Br(n.index,e):e;iw(o,5);let s=e[Lt],a=DD(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=DD(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function DD(n,e,t,r){let i=Pe(null);try{return Qe(6,e,t),t(r)!==!1}catch(o){return R8(n,o),!1}finally{Qe(7,e,t),Pe(i)}}function R8(n,e){let t=n[za],r=t?t.get(Ur,null):null;r&&r.handleError(e)}function MD(n,e,t,r,i,o){let s=e[t],a=e[be],u=a.data[t].outputs[r],d=s[u],g=a.firstCreatePass?D0(a):null,_=T0(e),v=d.subscribe(o),E=_.length;_.push(o,v),g&&g.push(i,n.index,E,-(E+1))}function V(n,e,t,r){let i=Me(),o=Mt(),s=sn();return QM(o,i,i[Dt],s,n,e,r),V}function N8(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[cf],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function QM(n,e,t,r,i,o,s){let a=Rf(r),u=n.firstCreatePass?D0(n):null,d=T0(e),g=!0;if(r.type&3||s){let _=Wr(r,e),v=s?s(_):_,E=d.length,P=s?K=>s(jr(K[r.index])):r.index,R=null;if(!s&&a&&(R=N8(n,e,i,r.index)),R!==null){let K=R.__ngLastListenerFn__||R;K.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,g=!1}else{o=TD(r,e,o),S3(e,v,i,o);let K=t.listen(v,i,o);d.push(o,K),u&&u.push(i,P,E,E+1)}}else o=TD(r,e,o);if(g){let _=r.outputs?.[i],v=r.hostDirectiveOutputs?.[i];if(v&&v.length)for(let E=0;E<v.length;E+=2){let P=v[E],R=v[E+1];MD(r,e,P,R,i,o)}if(_&&_.length)for(let E of _)MD(r,e,E,i,i,o)}}function F(n=1){return A4(n)}function YM(n,e,t,r){A6(n,e,t,r)}function su(n,e,t){O6(n,e,t)}function Os(n){let e=Me(),t=Mt(),r=v1();P0(r+1);let i=aw(t,r);if(n.dirty&&f4(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=F6(e,r);n.reset(o,c3),n.notifyOnChanges()}return!0}return!1}function As(){return P6(Me(),v1())}function oc(n){let e=x4();return x0(e,Yt+n)}function y(n,e=""){let t=Me(),r=Mt(),i=n+Yt,o=r.firstCreatePass?Kf(r,i,1,e,null):r.data[i],s=F8(r,t,o,e,n);t[i]=s,Ff()&&qf(r,t,s,o),Ms(o,!1)}var F8=(n,e,t,r,i)=>(Lf(!0),Q3(e[Dt],r));function me(n){return Ye("",n,""),me}function Ye(n,e,t){let r=Me(),i=s8(r,n,e,t);return i!==Cr&&ZM(r,Io(),i),Ye}function pw(n,e,t,r,i){let o=Me(),s=a8(o,n,e,t,r,i);return s!==Cr&&ZM(o,Io(),s),pw}function ZM(n,e,t){let r=d1(e,n);Y3(n[Dt],r,t)}function ji(n,e,t){H1(e)&&(e=e());let r=Me(),i=Za();if(vr(r,i,e)){let o=Mt(),s=R0();gM(o,s,r,n,e,r[Dt],t,!1)}return ji}function To(n,e){let t=H1(n);return t&&n.set(e),t}function Bi(n,e){let t=Me(),r=Mt(),i=sn();return QM(r,t,t[Dt],i,n,e),Bi}function L8(n,e,t){let r=Mt();if(r.firstCreatePass){let i=Vr(n);c0(t,r.data,r.blueprint,i,!0),c0(e,r.data,r.blueprint,i,!1)}}function c0(n,e,t,r,i){if(n=_n(n),Array.isArray(n))for(let o=0;o<n.length;o++)c0(n[o],e,t,r,i);else{let o=Mt(),s=Me(),a=sn(),c=$a(n)?n:_n(n.provide),u=n1(n),d=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if($a(n)||!n.multi){let v=new Is(u,i,B),E=gv(c,e,i?d:d+_,g);E===-1?(Tv(gf(a,s),o,c),pv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[E]=v,s[E]=v)}else{let v=gv(c,e,d+_,g),E=gv(c,e,d,d+_),P=v>=0&&t[v],R=E>=0&&t[E];if(i&&!R||!i&&!P){Tv(gf(a,s),o,c);let K=B8(i?j8:V8,t.length,i,r,u);!i&&R&&(t[E].providerFactory=K),pv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(K),s.push(K)}else{let K=JM(t[i?E:v],u,!i&&r);pv(o,n,v>-1?v:E,K)}!i&&r&&R&&t[E].componentProviders++}}}function pv(n,e,t,r){let i=$a(e),o=t4(e);if(i||o){let c=(o?_n(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function JM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function gv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function V8(n,e,t,r,i){return l0(this.multi,[])}function j8(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Kl(r,r[be],this.providerFactory.index,i);s=c.slice(0,a),l0(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],l0(o,s);return s}function l0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function B8(n,e,t,r,i){let o=new Is(n,t,B);return o.multi=[],o.index=e,o.componentProviders=0,JM(o,i,r&&!t),o}function Ir(n,e=[]){return t=>{t.providersResolver=(r,i)=>L8(r,i?i(n):n,e)}}function gw(n,e,t){let r=ru()+n,i=Me();return i[r]===Cr?Zf(i,r,t?e.call(t):e()):Y6(i,r)}function cn(n,e,t,r){return XM(Me(),ru(),n,e,t,r)}function au(n,e,t,r,i,o){return $8(Me(),ru(),n,e,t,r,i,o)}function mw(n,e){let t=n[e];return t===Cr?void 0:t}function XM(n,e,t,r,i,o){let s=e+t;return vr(n,s,i)?Zf(n,s+1,o?r.call(o,i):r(i)):mw(n,s+1)}function U8(n,e,t,r,i,o,s){let a=e+t;return uw(n,a,i,o)?Zf(n,a+2,s?r.call(s,i,o):r(i,o)):mw(n,a+2)}function $8(n,e,t,r,i,o,s,a){let c=e+t;return Z6(n,c,i,o,s)?Zf(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):mw(n,c+3)}function sc(n,e){let t=Mt(),r,i=n+Yt;t.firstCreatePass?(r=z8(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ys(r.type,!0)),s,a=Tn(B);try{let c=pf(!1),u=o();return pf(c),h4(t,Me(),i,u),u}finally{Tn(a)}}function z8(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function ek(n,e,t){let r=n+Yt,i=Me(),o=x0(i,r);return tk(i,r)?XM(i,ru(),e,o.transform,t,o):o.transform(t)}function tp(n,e,t,r){let i=n+Yt,o=Me(),s=x0(o,i);return tk(o,i)?U8(o,ru(),e,s.transform,t,r,s):s.transform(t,r)}function tk(n,e){return n[be].data[e].pure}var Ds=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},cu=new Ds("19.2.14"),u0=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},nk=(()=>{class n{compileModuleSync(t){return new Zv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=JD(t),o=sM(i.declarations).reduce((s,a)=>{let c=bo(a);return c&&s.push(new Ss(c)),s},[]);return new u0(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var H8=(()=>{class n{zone=N(Oe);changeDetectionScheduler=N(xs);applicationRef=N(Fi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),q8=new J("",{factory:()=>!1});function rk({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Oe(_e(q({},ok()),{scheduleInRootZone:t})),[{provide:Oe,useFactory:n},{provide:Hl,multi:!0,useFactory:()=>{let r=N(H8,{optional:!0});return()=>r.initialize()}},{provide:Hl,multi:!0,useFactory:()=>{let r=N(W8);return()=>{r.initialize()}}},e===!0?{provide:j1,useValue:!0}:[],{provide:B1,useValue:t??V1}]}function ik(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=rk({ngZoneFactory:()=>{let i=ok(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Qr("NgZone_CoalesceEvent"),new Oe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return qr([{provide:q8,useValue:!0},{provide:V0,useValue:!1},r])}function ok(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var W8=(()=>{class n{subscription=new Be;initialized=!1;zone=N(Oe);pendingTasks=N(ks);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var G8=(()=>{class n{appRef=N(Fi);taskService=N(ks);ngZone=N(Oe);zonelessEnabled=N(V0);tracing=N(nc,{optional:!0});disableScheduling=N(j1,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Be;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_f):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(B1,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ov||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?sD:U1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_f+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function K8(){return typeof $localize<"u"&&$localize.locale||Tf}var np=new J("",{providedIn:"root",factory:()=>N(np,De.Optional|De.SkipSelf)||K8()});var d0=new J(""),Q8=new J("");function Bl(n){return!n.moduleRef}function Y8(n){let e=Bl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Oe);return t.run(()=>{Bl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ur,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Bl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(d0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(d0);s.add(o),n.moduleRef.onDestroy(()=>{ef(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return J8(r,t,()=>{let o=e.get(GM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(np,Tf);if(A8(s||Tf),!e.get(Q8,!0))return Bl(n)?e.get(Fi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Bl(n)){let c=e.get(Fi);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return Z8(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Z8(n,e){let t=n.injector.get(Fi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new W(-403,!1);e.push(n)}function J8(n,e,t){try{let r=t();return So(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var tf=null;function X8(n=[],e){return lt.create({name:e,providers:[{provide:Pf,useValue:"platform"},{provide:d0,useValue:new Set([()=>tf=null])},...n]})}function ej(n=[]){if(tf)return tf;let e=X8(n);return tf=e,n8(),tj(e),e}function tj(n){let e=n.get(U0,null);on(n,()=>{e?.forEach(t=>t())})}function _w(){return!1}var Un=(()=>{class n{static __NG_ELEMENT_ID__=nj}return n})();function nj(n){return rj(sn(),Me(),(n&16)===16)}function rj(n,e,t){if(Qa(n)&&!t){let r=Br(n.index,e);return new Zl(r,r)}else if(n.type&175){let r=e[yr];return new Zl(r,e)}return null}var h0=class{constructor(){}supports(e){return zM(e)}create(e){return new f0(e)}},ij=(n,e)=>e,f0=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||ij}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<kD(r,i,o)?t:r,a=kD(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let _=0;_<u;_++){let v=_<o.length?o[_]:o[_]=0,E=v+_;d<=E&&E<u&&(o[_]=v+1)}let g=s.previousIndex;o[g]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!zM(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Q6(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new p0(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Df),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Df),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},p0=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},g0=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Df=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new g0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var m0=class{constructor(){}supports(e){return e instanceof Map||lw(e)}create(){return new _0}},_0=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||lw(e)))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new y0(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},y0=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function PD(){return new rp([new h0])}var rp=(()=>{class n{factories;static \u0275prov=z({token:n,providedIn:"root",factory:PD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||PD()),deps:[[n,new KD,new yn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new W(901,!1)}}return n})();function OD(){return new ip([new m0])}var ip=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:OD});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||OD()),deps:[[n,new KD,new yn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new W(901,!1)}}return n})();function sk(n){Qe(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=ej(r),o=[rk({}),{provide:xs,useExisting:G8},...t||[]],s=new Ef({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Y8({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Qe(9)}}function $n(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function yw(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function zn(n){return Ny(n)}function Rs(n,e){return Py(n,e?.equal)}var AD=class{[Zn];constructor(e){this[Zn]=e}destroy(){this[Zn].destroy()}};function ak(n,e){let t=bo(n),r=e.elementInjector||Of();return new Ss(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function ck(n){let e=bo(n);if(!e)return null;let t=new Ss(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var tt=new J("");var dk=null;function nr(){return dk}function vw(n){dk??=n}var lu=class{},uu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(hk),providedIn:"platform"})}return n})(),ww=new J(""),hk=(()=>{class n extends uu{_location;_history;_doc=N(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function op(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function lk(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function xr(n){return n&&n[0]!=="?"?`?${n}`:n}var rr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(ap),providedIn:"root"})}return n})(),sp=new J(""),ap=(()=>{class n extends rr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return op(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+xr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+xr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+xr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Z(uu),Z(sp,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Do=(()=>{class n{_subject=new ge;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=aj(lk(uk(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+xr(r))}normalize(t){return n.stripTrailingSlash(sj(this._basePath,uk(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=xr;static joinWithSlash=op;static stripTrailingSlash=lk;static \u0275fac=function(r){return new(r||n)(Z(rr))};static \u0275prov=z({token:n,factory:()=>oj(),providedIn:"root"})}return n})();function oj(){return new Do(Z(rr))}function sj(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function uk(n){return n.replace(/\/index.html$/,"")}function aj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var mp=(()=>{class n extends rr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=op(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+xr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+xr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Z(uu),Z(sp,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var ln=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(ln||{}),Ze=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ze||{}),kn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(kn||{}),$i={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function yk(n){return tr(n)[St.LocaleId]}function vk(n,e,t){let r=tr(n),i=[r[St.DayPeriodsFormat],r[St.DayPeriodsStandalone]],o=ir(i,e);return ir(o,t)}function wk(n,e,t){let r=tr(n),i=[r[St.DaysFormat],r[St.DaysStandalone]],o=ir(i,e);return ir(o,t)}function Ck(n,e,t){let r=tr(n),i=[r[St.MonthsFormat],r[St.MonthsStandalone]],o=ir(i,e);return ir(o,t)}function bk(n,e){let r=tr(n)[St.Eras];return ir(r,e)}function du(n,e){let t=tr(n);return ir(t[St.DateFormat],e)}function hu(n,e){let t=tr(n);return ir(t[St.TimeFormat],e)}function fu(n,e){let r=tr(n)[St.DateTimeFormat];return ir(r,e)}function pu(n,e){let t=tr(n),r=t[St.NumberSymbols][e];if(typeof r>"u"){if(e===$i.CurrencyDecimal)return t[St.NumberSymbols][$i.Decimal];if(e===$i.CurrencyGroup)return t[St.NumberSymbols][$i.Group]}return r}function Ek(n){if(!n[St.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[St.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ik(n){let e=tr(n);return Ek(e),(e[St.ExtraData][2]||[]).map(r=>typeof r=="string"?Cw(r):[Cw(r[0]),Cw(r[1])])}function xk(n,e,t){let r=tr(n);Ek(r);let i=[r[St.ExtraData][0],r[St.ExtraData][1]],o=ir(i,e)||[];return ir(o,t)||[]}function ir(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Cw(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var cj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cp={},lj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Sk(n,e,t,r){let i=yj(n);e=Ui(t,e)||e;let s=[],a;for(;e;)if(a=lj.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=Dk(r,c),i=_j(i,r));let u="";return s.forEach(d=>{let g=gj(d);u+=g?g(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function fp(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ui(n,e){let t=yk(n);if(cp[t]??={},cp[t][e])return cp[t][e];let r="";switch(e){case"shortDate":r=du(n,kn.Short);break;case"mediumDate":r=du(n,kn.Medium);break;case"longDate":r=du(n,kn.Long);break;case"fullDate":r=du(n,kn.Full);break;case"shortTime":r=hu(n,kn.Short);break;case"mediumTime":r=hu(n,kn.Medium);break;case"longTime":r=hu(n,kn.Long);break;case"fullTime":r=hu(n,kn.Full);break;case"short":let i=Ui(n,"shortTime"),o=Ui(n,"shortDate");r=lp(fu(n,kn.Short),[i,o]);break;case"medium":let s=Ui(n,"mediumTime"),a=Ui(n,"mediumDate");r=lp(fu(n,kn.Medium),[s,a]);break;case"long":let c=Ui(n,"longTime"),u=Ui(n,"longDate");r=lp(fu(n,kn.Long),[c,u]);break;case"full":let d=Ui(n,"fullTime"),g=Ui(n,"fullDate");r=lp(fu(n,kn.Full),[d,g]);break}return r&&(cp[t][e]=r),r}function lp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Sr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function uj(n,e){return Sr(n,3).substring(0,e)}function Pt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=dj(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return uj(a,e);let c=pu(s,$i.MinusSign);return Sr(a,e,c,r,i)}}function dj(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function it(n,e,t=ln.Format,r=!1){return function(i,o){return hj(i,o,n,e,t,r)}}function hj(n,e,t,r,i,o){switch(t){case 2:return Ck(e,i,r)[n.getMonth()];case 1:return wk(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=Ik(e),d=xk(e,i,r),g=u.findIndex(_=>{if(Array.isArray(_)){let[v,E]=_,P=s>=v.hours&&a>=v.minutes,R=s<E.hours||s===E.hours&&a<E.minutes;if(v.hours<E.hours){if(P&&R)return!0}else if(P||R)return!0}else if(_.hours===s&&_.minutes===a)return!0;return!1});if(g!==-1)return d[g]}return vk(e,i,r)[s<12?0:1];case 3:return bk(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function up(n){return function(e,t,r){let i=-1*r,o=pu(t,$i.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Sr(s,2,o)+Sr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Sr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Sr(s,2,o)+":"+Sr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Sr(s,2,o)+":"+Sr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var fj=0,hp=4;function pj(n){let e=fp(n,fj,1).getDay();return fp(n,0,1+(e<=hp?hp:hp+7)-e)}function Tk(n){let e=n.getDay(),t=e===0?-3:hp-e;return fp(n.getFullYear(),n.getMonth(),n.getDate()+t)}function bw(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=Tk(t),s=pj(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Sr(i,n,pu(r,$i.MinusSign))}}function dp(n,e=!1){return function(t,r){let o=Tk(t).getFullYear();return Sr(o,n,pu(r,$i.MinusSign),e)}}var Ew={};function gj(n){if(Ew[n])return Ew[n];let e;switch(n){case"G":case"GG":case"GGG":e=it(3,Ze.Abbreviated);break;case"GGGG":e=it(3,Ze.Wide);break;case"GGGGG":e=it(3,Ze.Narrow);break;case"y":e=Pt(0,1,0,!1,!0);break;case"yy":e=Pt(0,2,0,!0,!0);break;case"yyy":e=Pt(0,3,0,!1,!0);break;case"yyyy":e=Pt(0,4,0,!1,!0);break;case"Y":e=dp(1);break;case"YY":e=dp(2,!0);break;case"YYY":e=dp(3);break;case"YYYY":e=dp(4);break;case"M":case"L":e=Pt(1,1,1);break;case"MM":case"LL":e=Pt(1,2,1);break;case"MMM":e=it(2,Ze.Abbreviated);break;case"MMMM":e=it(2,Ze.Wide);break;case"MMMMM":e=it(2,Ze.Narrow);break;case"LLL":e=it(2,Ze.Abbreviated,ln.Standalone);break;case"LLLL":e=it(2,Ze.Wide,ln.Standalone);break;case"LLLLL":e=it(2,Ze.Narrow,ln.Standalone);break;case"w":e=bw(1);break;case"ww":e=bw(2);break;case"W":e=bw(1,!0);break;case"d":e=Pt(2,1);break;case"dd":e=Pt(2,2);break;case"c":case"cc":e=Pt(7,1);break;case"ccc":e=it(1,Ze.Abbreviated,ln.Standalone);break;case"cccc":e=it(1,Ze.Wide,ln.Standalone);break;case"ccccc":e=it(1,Ze.Narrow,ln.Standalone);break;case"cccccc":e=it(1,Ze.Short,ln.Standalone);break;case"E":case"EE":case"EEE":e=it(1,Ze.Abbreviated);break;case"EEEE":e=it(1,Ze.Wide);break;case"EEEEE":e=it(1,Ze.Narrow);break;case"EEEEEE":e=it(1,Ze.Short);break;case"a":case"aa":case"aaa":e=it(0,Ze.Abbreviated);break;case"aaaa":e=it(0,Ze.Wide);break;case"aaaaa":e=it(0,Ze.Narrow);break;case"b":case"bb":case"bbb":e=it(0,Ze.Abbreviated,ln.Standalone,!0);break;case"bbbb":e=it(0,Ze.Wide,ln.Standalone,!0);break;case"bbbbb":e=it(0,Ze.Narrow,ln.Standalone,!0);break;case"B":case"BB":case"BBB":e=it(0,Ze.Abbreviated,ln.Format,!0);break;case"BBBB":e=it(0,Ze.Wide,ln.Format,!0);break;case"BBBBB":e=it(0,Ze.Narrow,ln.Format,!0);break;case"h":e=Pt(3,1,-12);break;case"hh":e=Pt(3,2,-12);break;case"H":e=Pt(3,1);break;case"HH":e=Pt(3,2);break;case"m":e=Pt(4,1);break;case"mm":e=Pt(4,2);break;case"s":e=Pt(5,1);break;case"ss":e=Pt(5,2);break;case"S":e=Pt(6,1);break;case"SS":e=Pt(6,2);break;case"SSS":e=Pt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=up(0);break;case"ZZZZZ":e=up(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=up(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=up(2);break;default:return null}return Ew[n]=e,e}function Dk(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function mj(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function _j(n,e,t){let i=n.getTimezoneOffset(),o=Dk(e,i);return mj(n,-1*(o-i))}function yj(n){if(fk(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return fp(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(cj))return vj(r)}let e=new Date(n);if(!fk(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function vj(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,u),e}function fk(n){return n instanceof Date&&!isNaN(n.valueOf())}var Iw=/\s+/,pk=[],Ns=(()=>{class n{_ngEl;_renderer;initialClasses=pk;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Iw):pk}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Iw):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Iw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(B(wt),B(br))};static \u0275dir=rt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var pp=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ac=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new pp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),gk(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);gk(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(B(Er),B(Ni),B(rp))};static \u0275dir=rt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function gk(n,e){n.context.$implicit=e.item}var Ke=(()=>{class n{_viewContainer;_context=new gp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mk(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mk(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(B(Er),B(Ni))};static \u0275dir=rt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),gp=class{$implicit=null;ngIf=null};function mk(n,e){if(n&&!n.createEmbeddedView)throw new W(2020,!1)}var Fs=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:zr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(B(wt),B(ip),B(br))};static \u0275dir=rt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function Mk(n,e){return new W(2100,!1)}var xw=class{createSubscription(e,t){return zn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){zn(()=>e.unsubscribe())}},Sw=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},wj=new Sw,Cj=new xw,Tw=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(So(t))return wj;if(dw(t))return Cj;throw Mk(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(B(Un,16))};static \u0275pipe=Yf({name:"async",type:n,pure:!1})}return n})();var bj="mediumDate",kk=new J(""),Pk=new J(""),Dw=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??bj,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Sk(t,s,o||this.locale,a)}catch(s){throw Mk(n,s.message)}}static \u0275fac=function(r){return new(r||n)(B(np,16),B(kk,24),B(Pk,24))};static \u0275pipe=Yf({name:"date",type:n,pure:!0})}return n})();function Ej(n,e){return{key:n,value:e}}var Mw=(()=>{class n{differs;constructor(t){this.differs=t}differ;keyValues=[];compareFn=_k;transform(t,r=_k){if(!t||!(t instanceof Map)&&typeof t!="object")return null;this.differ??=this.differs.find(t).create();let i=this.differ.diff(t),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(Ej(s.key,s.currentValue))})),(i||o)&&(r&&this.keyValues.sort(r),this.compareFn=r),this.keyValues}static \u0275fac=function(r){return new(r||n)(B(ip,16))};static \u0275pipe=Yf({name:"keyvalue",type:n,pure:!1})}return n})();function _k(n,e){let t=n.key,r=e.key;if(t===r)return 0;if(t==null)return 1;if(r==null)return-1;if(typeof t=="string"&&typeof r=="string")return t<r?-1:1;if(typeof t=="number"&&typeof r=="number")return t-r;if(typeof t=="boolean"&&typeof r=="boolean")return t<r?-1:1;let i=String(t),o=String(r);return i==o?0:i<o?-1:1}var We=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=Vn({})}return n})();function kw(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var _p="browser",Ok="server";function Pw(n){return n===_p}function yp(n){return n===Ok}var gu=class{};var Ak=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new Ow(N(tt),window)})}return n})(),Ow=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=Ij(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Ij(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Cp=new J(""),Fw=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Z(Cp),Z(Oe))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),mu=class{_doc;constructor(e){this._doc=e}manager},vp="ng-app-id";function Rk(n){for(let e of n)e.remove()}function Nk(n,e){let t=e.createElement("style");return t.textContent=n,t}function xj(n,e,t,r){let i=n.head?.querySelectorAll(`style[${vp}="${e}"],link[${vp}="${e}"]`);if(i)for(let o of i)o.removeAttribute(vp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Rw(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Lw=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=yp(o),xj(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Nk);r?.forEach(i=>this.addUsage(i,this.external,Rw))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Rk(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Rk(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Nk(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Rw(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(vp,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Z(tt),Z(iu),Z(z0,8),Z(Kr))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Aw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vw=/%COMP%/g;var Lk="%COMP%",Sj=`_nghost-${Lk}`,Tj=`_ngcontent-${Lk}`,Dj=!0,Mj=new J("",{providedIn:"root",factory:()=>Dj});function kj(n){return Tj.replace(Vw,n)}function Pj(n){return Sj.replace(Vw,n)}function Vk(n,e){return e.map(t=>t.replace(Vw,n))}var vu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=yp(a),this.defaultRenderer=new _u(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===$r.ShadowDom&&(r=_e(q({},r),{encapsulation:$r.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof wp?i.applyToHost(t):i instanceof yu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,g=this.platformIsServer,_=this.tracingService;switch(r.encapsulation){case $r.Emulated:o=new wp(c,u,r,this.appId,d,s,a,g,_);break;case $r.ShadowDom:return new Nw(c,u,t,r,s,a,this.nonce,g,_);default:o=new yu(c,u,r,d,s,a,g,_);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Z(Fw),Z(Lw),Z(iu),Z(Mj),Z(tt),Z(Kr),Z(Oe),Z(z0),Z(nc,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),_u=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Aw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Fk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Fk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Aw[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Aw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(zr.DashCase|zr.Important)?e.style.setProperty(t,r,i&zr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&zr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=nr().getGlobalEventTarget(this.doc,e),!e))throw new W(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Fk(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Nw=class extends _u{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=Vk(i.id,d);for(let _ of d){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=_,this.shadowRoot.appendChild(v)}let g=i.getExternalStyles?.();if(g)for(let _ of g){let v=Rw(_,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yu=class extends _u{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?Vk(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wp=class extends yu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=kj(d),this.hostAttr=Pj(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var bp=class n extends lu{supportsDOMEvents=!0;static makeCurrent(){vw(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Oj();return t==null?null:Aj(t)}resetBaseElement(){wu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kw(document.cookie,e)}},wu=null;function Oj(){return wu=wu||document.head.querySelector("base"),wu?wu.getAttribute("href"):null}function Aj(n){return new URL(n,document.baseURI).pathname}var Rj=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Bk=(()=>{class n extends mu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Z(tt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),jk=["alt","control","meta","shift"],Nj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Uk=(()=>{class n extends mu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),jk.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=Nj[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),jk.forEach(s=>{if(s!==i){let a=Fj[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Z(tt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function jw(n,e){return sk(q({rootComponent:n},Lj(e)))}function Lj(n){return{appProviders:[...$j,...n?.providers??[]],platformProviders:Uj}}function Vj(){bp.makeCurrent()}function jj(){return new Ur}function Bj(){return Z1(document),document}var Uj=[{provide:Kr,useValue:_p},{provide:U0,useValue:Vj,multi:!0},{provide:tt,useFactory:Bj}];var $j=[{provide:Pf,useValue:"root"},{provide:Ur,useFactory:jj},{provide:Cp,useClass:Bk,multi:!0,deps:[tt]},{provide:Cp,useClass:Uk,multi:!0,deps:[tt]},vu,Lw,Fw,{provide:Mn,useExisting:vu},{provide:gu,useClass:Rj},[]];var $k=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Z(tt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Te="primary",Au=Symbol("RouteTitle"),Hw=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function js(n){return new Hw(n)}function Yk(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xr(n[t],e[t]))return!1;return!0}function Xr(n,e){let t=n?qw(n):void 0,r=e?qw(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Zk(n[i],e[i]))return!1;return!0}function qw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Zk(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Jk(n){return n.length>0?n[n.length-1]:null}function Ao(n){return jh(n)?n:So(n)?Xe(Promise.resolve(n)):ae(n)}var qj={exact:eP,subset:tP},Xk={exact:Wj,subset:Gj,ignored:()=>!0};function zk(n,e,t){return qj[t.paths](n.root,e.root,t.matrixParams)&&Xk[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Wj(n,e){return Xr(n,e)}function eP(n,e,t){if(!Ls(n.segments,e.segments)||!xp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!eP(n.children[r],e.children[r],t))return!1;return!0}function Gj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Zk(n[t],e[t]))}function tP(n,e,t){return nP(n,e,e.segments,t)}function nP(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ls(i,t)||e.hasChildren()||!xp(i,t,r))}else if(n.segments.length===t.length){if(!Ls(n.segments,t)||!xp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!tP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ls(n.segments,i)||!xp(n.segments,i,r)||!n.children[Te]?!1:nP(n.children[Te],e,o,r)}}function xp(n,e,t){return e.every((r,i)=>Xk[t](n[i].parameters,r.parameters))}var ti=class{root;queryParams;fragment;_queryParamMap;constructor(e=new He([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=js(this.queryParams),this._queryParamMap}toString(){return Yj.serialize(this)}},He=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sp(this)}},Mo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=js(this.parameters),this._parameterMap}toString(){return iP(this)}};function Kj(n,e){return Ls(n,e)&&n.every((t,r)=>Xr(t.parameters,e[r].parameters))}function Ls(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Qj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Te&&(t=t.concat(e(i,r)))}),t}var Bs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new ko,providedIn:"root"})}return n})(),ko=class{parse(e){let t=new Gw(e);return new ti(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Cu(e.root,!0)}`,r=Xj(e.queryParams),i=typeof e.fragment=="string"?`#${Zj(e.fragment)}`:"";return`${t}${r}${i}`}},Yj=new ko;function Sp(n){return n.segments.map(e=>iP(e)).join("/")}function Cu(n,e){if(!n.hasChildren())return Sp(n);if(e){let t=n.children[Te]?Cu(n.children[Te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Te&&r.push(`${i}:${Cu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Qj(n,(r,i)=>i===Te?[Cu(n.children[Te],!1)]:[`${i}:${Cu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Te]!=null?`${Sp(n)}/${t[0]}`:`${Sp(n)}/(${t.join("//")})`}}function rP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ep(n){return rP(n).replace(/%3B/gi,";")}function Zj(n){return encodeURI(n)}function Ww(n){return rP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tp(n){return decodeURIComponent(n)}function Hk(n){return Tp(n.replace(/\+/g,"%20"))}function iP(n){return`${Ww(n.path)}${Jj(n.parameters)}`}function Jj(n){return Object.entries(n).map(([e,t])=>`;${Ww(e)}=${Ww(t)}`).join("")}function Xj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ep(t)}=${Ep(i)}`).join("&"):`${Ep(t)}=${Ep(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var eB=/^[^\/()?;#]+/;function Bw(n){let e=n.match(eB);return e?e[0]:""}var tB=/^[^\/()?;=#]+/;function nB(n){let e=n.match(tB);return e?e[0]:""}var rB=/^[^=?&#]+/;function iB(n){let e=n.match(rB);return e?e[0]:""}var oB=/^[^&#]+/;function sB(n){let e=n.match(oB);return e?e[0]:""}var Gw=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Te]=new He(e,t)),r}parseSegment(){let e=Bw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new Mo(Tp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=nB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Bw(this.remaining);i&&(r=i,this.capture(r))}e[Tp(t)]=Tp(r)}parseQueryParam(e){let t=iB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=sB(this.remaining);s&&(r=s,this.capture(r))}let i=Hk(t),o=Hk(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Bw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Te]:new He([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function oP(n){return n.segments.length>0?new He([],{[Te]:n}):n}function sP(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=sP(i);if(r===Te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new He(n.segments,e);return aB(t)}function aB(n){if(n.numberOfChildren===1&&n.children[Te]){let e=n.children[Te];return new He(n.segments.concat(e.segments),e.children)}return n}function Po(n){return n instanceof ti}function aP(n,e,t=null,r=null){let i=cP(n);return lP(i,e,t,r)}function cP(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new He(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=oP(r);return e??i}function lP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Uw(i,i,i,t,r);let o=cB(e);if(o.toRoot())return Uw(i,i,new He([],{}),t,r);let s=lB(o,i,n),a=s.processChildren?Eu(s.segmentGroup,s.index,o.commands):dP(s.segmentGroup,s.index,o.commands);return Uw(i,s.segmentGroup,a,t,r)}function Mp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function xu(n){return typeof n=="object"&&n!=null&&n.outlets}function Uw(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=uP(n,e,t);let a=oP(sP(s));return new ti(a,o,i)}function uP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=uP(o,e,t)}),new He(n.segments,r)}var kp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Mp(r[0]))throw new W(4003,!1);let i=r.find(xu);if(i&&i!==Jk(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new kp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kp(t,e,r)}var uc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function lB(n,e,t){if(n.isAbsolute)return new uc(e,!0,0);if(!t)return new uc(e,!1,NaN);if(t.parent===null)return new uc(t,!0,0);let r=Mp(n.commands[0])?0:1,i=t.segments.length-1+r;return uB(t,i,n.numberOfDoubleDots)}function uB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new uc(r,!1,i-o)}function dB(n){return xu(n[0])?n[0].outlets:{[Te]:n}}function dP(n,e,t){if(n??=new He([],{}),n.segments.length===0&&n.hasChildren())return Eu(n,e,t);let r=hB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new He(n.segments.slice(0,r.pathIndex),{});return o.children[Te]=new He(n.segments.slice(r.pathIndex),n.children),Eu(o,0,i)}else return r.match&&i.length===0?new He(n.segments,{}):r.match&&!n.hasChildren()?Kw(n,e,t):r.match?Eu(n,0,i):Kw(n,e,t)}function Eu(n,e,t){if(t.length===0)return new He(n.segments,{});{let r=dB(t),i={};if(Object.keys(r).some(o=>o!==Te)&&n.children[Te]&&n.numberOfChildren===1&&n.children[Te].segments.length===0){let o=Eu(n.children[Te],e,t);return new He(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=dP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new He(n.segments,i)}}function hB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(xu(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Wk(c,u,s))return o;r+=2}else{if(!Wk(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Kw(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(xu(o)){let c=fB(o.outlets);return new He(r,c)}if(i===0&&Mp(t[0])){let c=n.segments[e];r.push(new Mo(c.path,qk(t[0]))),i++;continue}let s=xu(o)?o.outlets[Te]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Mp(a)?(r.push(new Mo(s,qk(a))),i+=2):(r.push(new Mo(s,{})),i++)}return new He(r,{})}function fB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Kw(new He([],{}),0,r))}),e}function qk(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Wk(n,e,t){return n==t.path&&Xr(e,t.parameters)}var Dp="imperative",Vt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Vt||{}),qn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Oo=class extends qn{type=Vt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zt=class extends qn{urlAfterRedirects;type=Vt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Pn||{}),hc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(hc||{}),ei=class extends qn{reason;code;type=Vt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ni=class extends qn{reason;code;type=Vt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},fc=class extends qn{error;target;type=Vt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Su=class extends qn{urlAfterRedirects;state;type=Vt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pp=class extends qn{urlAfterRedirects;state;type=Vt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Op=class extends qn{urlAfterRedirects;state;shouldActivate;type=Vt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ap=class extends qn{urlAfterRedirects;state;type=Vt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rp=class extends qn{urlAfterRedirects;state;type=Vt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Np=class{route;type=Vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fp=class{route;type=Vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Lp=class{snapshot;type=Vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vp=class{snapshot;type=Vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jp=class{snapshot;type=Vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bp=class{snapshot;type=Vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pc=class{routerEvent;position;anchor;type=Vt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Tu=class{},gc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function pB(n,e){return n.providers&&!n._injector&&(n._injector=ou(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Tr(n){return n.outlet||Te}function gB(n,e){let t=n.filter(r=>Tr(r)===e);return t.push(...n.filter(r=>Tr(r)!==e)),t}function Ru(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Up=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ru(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Us(this.rootInjector)}},Us=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Up(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Z($t))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$p=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Qw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Qw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Yw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yw(e,this._root).map(t=>t.value)}};function Qw(n,e){if(n===e.value)return e;for(let t of e.children){let r=Qw(n,t);if(r)return r}return null}function Yw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Yw(n,t);if(r.length)return r.unshift(e),r}return[]}var Hn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function lc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Du=class extends $p{snapshot;constructor(e,t){super(e),this.snapshot=t,iC(this,e)}toString(){return this.snapshot.toString()}};function hP(n){let e=mB(n),t=new nt([new Mo("",{})]),r=new nt({}),i=new nt({}),o=new nt({}),s=new nt(""),a=new or(t,r,o,s,i,Te,n,e.root);return a.snapshot=e.root,new Du(new Hn(a,[]),e)}function mB(n){let e={},t={},r={},i="",o=new Vs([],e,r,i,t,Te,n,null,{});return new Mu("",new Hn(o,[]))}var or=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(xe(u=>u[Au]))??ae(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(xe(e=>js(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(xe(e=>js(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:q(q({},e.params),n.params),data:q(q({},e.data),n.data),resolve:q(q(q(q({},n.data),e.data),i?.data),n._resolvedData)}:r={params:q({},n.params),data:q({},n.data),resolve:q(q({},n.data),n._resolvedData??{})},i&&pP(i)&&(r.resolve[Au]=i.title),r}var Vs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Au]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=js(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=js(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Mu=class extends $p{url;constructor(e,t){super(t),this.url=e,iC(this,t)}toString(){return fP(this._root)}};function iC(n,e){e.value._routerState=n,e.children.forEach(t=>iC(n,t))}function fP(n){let e=n.children.length>0?` { ${n.children.map(fP).join(", ")} } `:"";return`${n.value}${e}`}function $w(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Xr(e.params,t.params)||n.paramsSubject.next(t.params),Hj(e.url,t.url)||n.urlSubject.next(t.url),Xr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Zw(n,e){let t=Xr(n.params,e.params)&&Kj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Zw(n.parent,e.parent))}function pP(n){return typeof n.title=="string"||n.title===null}var gP=new J(""),Nu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Te;activateEvents=new oe;deactivateEvents=new oe;attachEvents=new oe;detachEvents=new oe;routerOutletData=z1(void 0);parentContexts=N(Us);location=N(Er);changeDetector=N(Un);inputBinder=N(Fu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Jw(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[vn]})}return n})(),Jw=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===or?this.route:e===Us?this.childContexts:e===gP?this.outletData:this.parent.get(e,t)}},Fu=new J(""),oC=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Mi([r.queryParams,r.params,r.data]).pipe(mn(([o,s,a],c)=>(a=q(q(q({},o),s),a),c===0?ae(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=ck(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),sC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ee({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&j(0,"router-outlet")},dependencies:[Nu],encapsulation:2})}return n})();function aC(n){let e=n.children&&n.children.map(aC),t=e?_e(q({},n),{children:e}):q({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Te&&(t.component=sC),t}function _B(n,e,t){let r=ku(n,e._root,t?t._root:void 0);return new Du(r,e)}function ku(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=yB(n,e,t);return new Hn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ku(n,a)),s}}let r=vB(e.value),i=e.children.map(o=>ku(n,o));return new Hn(r,i)}}function yB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ku(n,r,i);return ku(n,r)})}function vB(n){return new or(new nt(n.url),new nt(n.params),new nt(n.queryParams),new nt(n.fragment),new nt(n.data),n.outlet,n.component,n)}var mc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},mP="ngNavigationCancelingError";function Hp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_P(!1,Pn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function _P(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[mP]=!0,t.cancellationCode=e,t}function wB(n){return yP(n)&&Po(n.url)}function yP(n){return!!n&&n[mP]}var CB=(n,e,t,r)=>xe(i=>(new Xw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Xw=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),$w(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=lc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=lc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=lc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=lc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Bp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Vp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if($w(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$w(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},qp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},dc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function bB(n,e,t){let r=n._root,i=e?e._root:null;return bu(r,i,t,[r.value])}function EB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function yc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!BD(n)?n:e.get(n):r}function bu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=lc(e);return n.children.forEach(s=>{IB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Iu(a,t.getContext(s),i)),i}function IB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=xB(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?bu(n,e,a?a.children:null,r,i):bu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new dc(a.outlet.component,s))}else s&&Iu(e,a,i),i.canActivateChecks.push(new qp(r)),o.component?bu(n,null,a?a.children:null,r,i):bu(n,null,t,r,i);return i}function xB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ls(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ls(n.url,e.url)||!Xr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zw(n,e)||!Xr(n.queryParams,e.queryParams);case"paramsChange":default:return!Zw(n,e)}}function Iu(n,e,t){let r=lc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Iu(s,e.children.getContext(o),t):Iu(s,null,t):Iu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new dc(e.outlet.component,i)):t.canDeactivateChecks.push(new dc(null,i)):t.canDeactivateChecks.push(new dc(null,i))}function Lu(n){return typeof n=="function"}function SB(n){return typeof n=="boolean"}function TB(n){return n&&Lu(n.canLoad)}function DB(n){return n&&Lu(n.canActivate)}function MB(n){return n&&Lu(n.canActivateChild)}function kB(n){return n&&Lu(n.canDeactivate)}function PB(n){return n&&Lu(n.canMatch)}function vP(n){return n instanceof Di||n?.name==="EmptyError"}var Ip=Symbol("INITIAL_VALUE");function _c(){return mn(n=>Mi(n.map(e=>e.pipe(Sn(1),fs(Ip)))).pipe(xe(e=>{for(let t of e)if(t!==!0){if(t===Ip)return Ip;if(t===!1||OB(t))return t}return!0}),vt(e=>e!==Ip),Sn(1)))}function OB(n){return Po(n)||n instanceof mc}function AB(n,e){return xt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ae(_e(q({},t),{guardsResult:!0})):RB(s,r,i,n).pipe(xt(a=>a&&SB(a)?NB(r,o,n,e):ae(a)),xe(a=>_e(q({},t),{guardsResult:a})))})}function RB(n,e,t,r){return Xe(n).pipe(xt(i=>BB(i.component,i.route,t,e,r)),Pi(i=>i!==!0,!0))}function NB(n,e,t,r){return Xe(e).pipe(yo(i=>Aa(LB(i.route.parent,r),FB(i.route,r),jB(n,i.path,t),VB(n,i.route,t))),Pi(i=>i!==!0,!0))}function FB(n,e){return n!==null&&e&&e(new jp(n)),ae(!0)}function LB(n,e){return n!==null&&e&&e(new Lp(n)),ae(!0)}function VB(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let i=r.map(o=>zh(()=>{let s=Ru(e)??t,a=yc(o,s),c=DB(a)?a.canActivate(e,n):on(s,()=>a(e,n));return Ao(c).pipe(Pi())}));return ae(i).pipe(_c())}function jB(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>EB(s)).filter(s=>s!==null).map(s=>zh(()=>{let a=s.guards.map(c=>{let u=Ru(s.node)??t,d=yc(c,u),g=MB(d)?d.canActivateChild(r,n):on(u,()=>d(r,n));return Ao(g).pipe(Pi())});return ae(a).pipe(_c())}));return ae(o).pipe(_c())}function BB(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let s=o.map(a=>{let c=Ru(e)??i,u=yc(a,c),d=kB(u)?u.canDeactivate(n,e,t,r):on(c,()=>u(n,e,t,r));return Ao(d).pipe(Pi())});return ae(s).pipe(_c())}function UB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ae(!0);let o=i.map(s=>{let a=yc(s,n),c=TB(a)?a.canLoad(e,t):on(n,()=>a(e,t));return Ao(c)});return ae(o).pipe(_c(),wP(r))}function wP(n){return $y(Ft(e=>{if(typeof e!="boolean")throw Hp(n,e)}),xe(e=>e===!0))}function $B(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ae(!0);let o=i.map(s=>{let a=yc(s,n),c=PB(a)?a.canMatch(e,t):on(n,()=>a(e,t));return Ao(c)});return ae(o).pipe(_c(),wP(r))}var Pu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ou=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function cc(n){return Oa(new Pu(n))}function zB(n){return Oa(new W(4e3,!1))}function HB(n){return Oa(_P(!1,Pn.GuardRejected))}var eC=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ae(r);if(i.numberOfChildren>1||!i.children[Te])return zB(`${e.redirectTo}`);i=i.children[Te]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:g,outlet:_,params:v,data:E,title:P}=i,R=on(o,()=>a({params:v,data:E,queryParams:c,fragment:u,routeConfig:d,url:g,outlet:_,title:P}));if(R instanceof ti)throw new Ou(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ou(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ti(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new He(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},tC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qB(n,e,t,r,i){let o=CP(n,e,t);return o.matched?(r=pB(e,r),$B(r,e,t,i).pipe(xe(s=>s===!0?o:q({},tC)))):ae(o)}function CP(n,e,t){if(e.path==="**")return WB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?q({},tC):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Yk)(t,n,e);if(!i)return q({},tC);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?q(q({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function WB(n){return{matched:!0,parameters:n.length>0?Jk(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Gk(n,e,t,r){return t.length>0&&QB(n,t,r)?{segmentGroup:new He(e,KB(r,new He(t,n.children))),slicedSegments:[]}:t.length===0&&YB(n,t,r)?{segmentGroup:new He(n.segments,GB(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new He(n.segments,n.children),slicedSegments:t}}function GB(n,e,t,r){let i={};for(let o of t)if(Gp(n,e,o)&&!r[Tr(o)]){let s=new He([],{});i[Tr(o)]=s}return q(q({},r),i)}function KB(n,e){let t={};t[Te]=e;for(let r of n)if(r.path===""&&Tr(r)!==Te){let i=new He([],{});t[Tr(r)]=i}return t}function QB(n,e,t){return t.some(r=>Gp(n,e,r)&&Tr(r)!==Te)}function YB(n,e,t){return t.some(r=>Gp(n,e,r))}function Gp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function ZB(n,e,t){return e.length===0&&!n.children[t]}var nC=class{};function JB(n,e,t,r,i,o,s="emptyOnly"){return new rC(n,e,t,r,i,s,o).recognize()}var XB=31,rC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new eC(this.urlSerializer,this.urlTree)}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=Gk(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(xe(({children:t,rootSnapshot:r})=>{let i=new Hn(r,t),o=new Mu("",i),s=aP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Vs([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Te,t).pipe(xe(r=>({children:r,rootSnapshot:t})),ki(r=>{if(r instanceof Ou)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Pu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(xe(s=>s instanceof Hn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Xe(o).pipe(yo(s=>{let a=r.children[s],c=gB(t,s);return this.processSegmentGroup(e,c,a,s,i)}),ev((s,a)=>(s.push(...a),s)),vo(null),Xy(),xt(s=>{if(s===null)return cc(r);let a=bP(s);return eU(a),ae(a)}))}processSegment(e,t,r,i,o,s,a){return Xe(t).pipe(yo(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ki(u=>{if(u instanceof Pu)return ae(null);throw u}))),Pi(c=>!!c),ki(c=>{if(vP(c))return ZB(r,i,o)?ae(new nC):cc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Tr(r)!==s&&(s===Te||!Gp(i,o,r))?cc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):cc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:g,remainingSegments:_}=CP(t,i,o);if(!c)return cc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XB&&(this.allowRedirects=!1));let v=new Vs(o,u,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Kk(i),Tr(i),i.component??i._loadedComponent??null,i,Qk(i)),E=zp(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(E.params),v.data=Object.freeze(E.data);let P=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,g,v,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(xt(R=>this.processSegment(e,r,t,R.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=qB(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(mn(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(mn(({routes:u})=>{let d=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:v}=c,E=new Vs(_,g,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Kk(r),Tr(r),r.component??r._loadedComponent??null,r,Qk(r)),P=zp(E,s,this.paramsInheritanceStrategy);E.params=Object.freeze(P.params),E.data=Object.freeze(P.data);let{segmentGroup:R,slicedSegments:K}=Gk(t,_,v,u);if(K.length===0&&R.hasChildren())return this.processChildren(d,u,R,E).pipe(xe(te=>new Hn(E,te)));if(u.length===0&&K.length===0)return ae(new Hn(E,[]));let X=Tr(r)===o;return this.processSegment(d,u,R,K,X?Te:o,!0,E).pipe(xe(te=>new Hn(E,te instanceof Hn?[te]:[])))}))):cc(t)))}getChildConfig(e,t,r){return t.children?ae({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ae({routes:t._loadedRoutes,injector:t._loadedInjector}):UB(e,t,r,this.urlSerializer).pipe(xt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ft(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):HB(t))):ae({routes:[],injector:e})}};function eU(n){n.sort((e,t)=>e.value.outlet===Te?-1:t.value.outlet===Te?1:e.value.outlet.localeCompare(t.value.outlet))}function tU(n){let e=n.value.routeConfig;return e&&e.path===""}function bP(n){let e=[],t=new Set;for(let r of n){if(!tU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=bP(r.children);e.push(new Hn(r.value,i))}return e.filter(r=>!t.has(r))}function Kk(n){return n.data||{}}function Qk(n){return n.resolve||{}}function nU(n,e,t,r,i,o){return xt(s=>JB(n,e,t,r,s.extractedUrl,i,o).pipe(xe(({state:a,tree:c})=>_e(q({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function rU(n,e){return xt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ae(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of EP(c))s.add(u);let a=0;return Xe(s).pipe(yo(c=>o.has(c)?iU(c,r,n,e):(c.data=zp(c,c.parent,n).resolve,ae(void 0))),Ft(()=>a++),Ra(1),xt(c=>a===s.size?ae(t):tn))})}function EP(n){let e=n.children.map(t=>EP(t)).flat();return[n,...e]}function iU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!pP(i)&&(o[Au]=i.title),oU(o,n,e,r).pipe(xe(s=>(n._resolvedData=s,n.data=zp(n,n.parent,t).resolve,null)))}function oU(n,e,t,r){let i=qw(n);if(i.length===0)return ae({});let o={};return Xe(i).pipe(xt(s=>sU(n[s],e,t,r).pipe(Pi(),Ft(a=>{if(a instanceof mc)throw Hp(new ko,a);o[s]=a}))),Ra(1),xe(()=>o),ki(s=>vP(s)?tn:Oa(s)))}function sU(n,e,t,r){let i=Ru(e)??r,o=yc(n,i),s=o.resolve?o.resolve(e,t):on(i,()=>o(e,t));return Ao(s)}function zw(n){return mn(e=>{let t=n(e);return t?Xe(t).pipe(xe(()=>e)):ae(e)})}var cC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Te);return r}getResolvedTitleForRoute(t){return t.data[Au]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(IP),providedIn:"root"})}return n})(),IP=(()=>{class n extends cC{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Z($k))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$s=new J("",{providedIn:"root",factory:()=>({})}),zs=new J(""),Kp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(nk);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ae(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ao(t.loadComponent()).pipe(xe(SP),Ft(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),jl(()=>{this.componentLoaders.delete(t)})),i=new Ma(r,()=>new ge).pipe(Da());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=xP(r,this.compiler,t,this.onLoadEndListener).pipe(jl(()=>{this.childrenLoaders.delete(r)})),s=new Ma(o,()=>new ge).pipe(Da());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xP(n,e,t,r){return Ao(n.loadChildren()).pipe(xe(SP),xt(i=>i instanceof cw||Array.isArray(i)?ae(i):Xe(e.compileModuleAsync(i))),xe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(zs,[],{optional:!0,self:!0}).flat()),{routes:s.map(aC),injector:o}}))}function aU(n){return n&&typeof n=="object"&&"default"in n}function SP(n){return aU(n)?n.default:n}var Qp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(cU),providedIn:"root"})}return n})(),cU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lC=new J(""),uC=new J("");function TP(n,e,t){let r=n.get(uC),i=n.get(tt);return n.get(Oe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),lU(n))),{onViewTransitionCreated:c}=r;return c&&on(n,()=>c({transition:a,from:e,to:t})),s})}function lU(n){return new Promise(e=>{rc({read:()=>setTimeout(e)},{injector:n})})}var dC=new J(""),Yp=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ge;transitionAbortSubject=new ge;configLoader=N(Kp);environmentInjector=N($t);destroyRef=N(Xa);urlSerializer=N(Bs);rootContexts=N(Us);location=N(Do);inputBindingEnabled=N(Fu,{optional:!0})!==null;titleStrategy=N(cC);options=N($s,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Qp);createViewTransition=N(lC,{optional:!0});navigationErrorHandler=N(dC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ae(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Np(i)),r=i=>this.events.next(new Fp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(_e(q({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new nt(null),this.transitions.pipe(vt(r=>r!==null),mn(r=>{let i=!1,o=!1;return ae(r).pipe(mn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Pn.SupersededByNewNavigation),tn;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?_e(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new ni(s.id,this.urlSerializer.serialize(s.rawUrl),u,hc.IgnoredSameUrlNavigation)),s.resolve(!1),tn}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ae(s).pipe(mn(u=>(this.events.next(new Oo(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?tn:Promise.resolve(u))),nU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ft(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=_e(q({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new Su(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:g,restoredState:_,extras:v}=s,E=new Oo(u,this.urlSerializer.serialize(d),g,_);this.events.next(E);let P=hP(this.rootComponentType).snapshot;return this.currentTransition=r=_e(q({},s),{targetSnapshot:P,urlAfterRedirects:d,extras:_e(q({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,ae(r)}else{let u="";return this.events.next(new ni(s.id,this.urlSerializer.serialize(s.extractedUrl),u,hc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),tn}}),Ft(s=>{let a=new Pp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),xe(s=>(this.currentTransition=r=_e(q({},s),{guards:bB(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),AB(this.environmentInjector,s=>this.events.next(s)),Ft(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Hp(this.urlSerializer,s.guardsResult);let a=new Op(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),vt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Pn.GuardRejected),!1)),zw(s=>{if(s.guards.canActivateChecks.length!==0)return ae(s).pipe(Ft(a=>{let c=new Ap(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),mn(a=>{let c=!1;return ae(a).pipe(rU(this.paramsInheritanceStrategy,this.environmentInjector),Ft({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Pn.NoDataFromResolver)}}))}),Ft(a=>{let c=new Rp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),zw(s=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ft(d=>{c.component=d}),xe(()=>{})));for(let d of c.children)u.push(...a(d));return u};return Mi(a(s.targetSnapshot.root)).pipe(vo(null),Sn(1))}),zw(()=>this.afterPreactivation()),mn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Xe(c).pipe(xe(()=>r)):ae(r)}),xe(s=>{let a=_B(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=_e(q({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ft(()=>{this.events.next(new Tu)}),CB(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Sn(1),Ft({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Oi(this.transitionAbortSubject.pipe(Ft(s=>{throw s}))),jl(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Pn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ki(s=>{if(this.destroyed)return r.resolve(!1),tn;if(o=!0,yP(s))this.events.next(new ei(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),wB(s)?this.events.next(new gc(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new fc(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=on(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof mc){let{message:u,cancellationCode:d}=Hp(this.urlSerializer,c);this.events.next(new ei(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new gc(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return tn}))}))}cancelNavigationTransition(t,r,i){let o=new ei(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uU(n){return n!==Dp}var DP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(dU),providedIn:"root"})}return n})(),Wp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},dU=(()=>{class n extends Wp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MP=(()=>{class n{urlSerializer=N(Bs);options=N($s,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Do);urlHandlingStrategy=N(Qp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ti;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof ti?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=hP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>N(hU),providedIn:"root"})}return n})(),hU=(()=>{class n extends MP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Oo?this.updateStateMemento():t instanceof ni?this.commitTransition(r):t instanceof Su?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Tu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ei&&(t.code===Pn.GuardRejected||t.code===Pn.NoDataFromResolver)?this.restoreHistory(r):t instanceof fc?this.restoreHistory(r,!0):t instanceof Zt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=q(q({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=q(q({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zp(n,e){n.events.pipe(vt(t=>t instanceof Zt||t instanceof ei||t instanceof fc||t instanceof ni),xe(t=>t instanceof Zt||t instanceof ni?0:(t instanceof ei?t.code===Pn.Redirect||t.code===Pn.SupersededByNewNavigation:!1)?2:1),vt(t=>t!==2),Sn(1)).subscribe(()=>{e()})}var fU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(HM);stateManager=N(MP);options=N($s,{optional:!0})||{};pendingTasks=N(ks);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(Yp);urlSerializer=N(Bs);location=N(Do);urlHandlingStrategy=N(Qp);_events=new ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(DP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(zs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Fu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Be;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ei&&r.code!==Pn.Redirect&&r.code!==Pn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zt)this.navigated=!0;else if(r instanceof gc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=q({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||uU(i.source)},s);this.scheduleNavigation(a,Dp,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=q({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(aC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=q(q({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=cP(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return lP(g,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Po(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Dp,null,r)}navigate(t,r={skipLocationChange:!1}){return gU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=q({},fU):r===!1?i=q({},pU):i=r,Po(t))return zk(this.currentUrlTree,t,i);let o=this.parseUrl(t);return zk(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((g,_)=>{a=g,c=_});let d=this.pendingTasks.add();return Zp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new W(4008,!1)}function mU(n){return!(n instanceof Tu)&&!(n instanceof gc)}var un=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ge;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Zt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Po(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:iM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Po(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(B(qe),B(or),L0("tabindex"),B(br),B(wt),B(rr))};static \u0275dir=rt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&V("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ic("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$n],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$n],replaceUrl:[2,"replaceUrl","replaceUrl",$n],routerLink:"routerLink"},features:[vn]})}return n})(),fC=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new oe;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Zt&&this.update()})}ngAfterContentInit(){ae(this.links.changes,ae(null)).pipe(Fr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Xe(t).pipe(Fr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=_U(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(B(qe),B(wt),B(br),B(Un),B(un,8))};static \u0275dir=rt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&YM(o,un,5),r&2){let s;Os(s=As())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[vn]})}return n})();function _U(n){return!!n.paths}var Vu=class{};var kP=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(vt(t=>t instanceof Zt),yo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ou(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Xe(i).pipe(Fr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ae(null);let o=i.pipe(xt(s=>s===null?ae(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Xe([o,s]).pipe(Fr())}else return o})}static \u0275fac=function(r){return new(r||n)(Z(qe),Z($t),Z(Vu),Z(Kp))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PP=new J(""),yU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Oo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ni&&t.code===hc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pc&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pc(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){OM()};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function pC(n,...e){return qr([{provide:zs,multi:!0,useValue:n},[],{provide:or,useFactory:OP,deps:[qe]},{provide:Jf,multi:!0,useFactory:AP},e.map(t=>t.\u0275providers)])}function OP(n){return n.routerState.root}function vc(n,e){return{\u0275kind:n,\u0275providers:e}}function AP(){let n=N(lt);return e=>{let t=n.get(Fi);if(e!==t.components[0])return;let r=n.get(qe),i=n.get(RP);n.get(gC)===1&&r.initialNavigation(),n.get(LP,null,De.Optional)?.setUpPreloading(),n.get(PP,null,De.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var RP=new J("",{factory:()=>new ge}),gC=new J("",{providedIn:"root",factory:()=>1});function NP(){let n=[{provide:gC,useValue:0},hw(()=>{let e=N(lt);return e.get(ww,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(qe),o=e.get(RP);Zp(i,()=>{r(!0)}),e.get(Yp).afterPreactivation=()=>(r(!0),o.closed?ae(void 0):o),i.initialNavigation()}))})];return vc(2,n)}function FP(){let n=[hw(()=>{N(qe).setUpLocationChangeListener()}),{provide:gC,useValue:2}];return vc(3,n)}var LP=new J("");function VP(n){return vc(0,[{provide:LP,useExisting:kP},{provide:Vu,useExisting:n}])}function mC(){return vc(6,[{provide:rr,useClass:mp}])}function jP(){return vc(8,[oC,{provide:Fu,useExisting:oC}])}function BP(n){Qr("NgRouterViewTransitions");let e=[{provide:lC,useValue:TP},{provide:uC,useValue:q({skipNextTransition:!!n?.skipInitialTransition},n)}];return vc(9,e)}var UP=[Do,{provide:Bs,useClass:ko},qe,Us,{provide:or,useFactory:OP,deps:[qe]},Kp,[]],jt=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[UP,[],{provide:zs,multi:!0,useValue:t},[],r?.errorHandler?{provide:dC,useValue:r.errorHandler}:[],{provide:$s,useValue:r||{}},r?.useHash?wU():CU(),vU(),r?.preloadingStrategy?VP(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?bU(r):[],r?.bindToComponentInputs?jP().\u0275providers:[],r?.enableViewTransitions?BP().\u0275providers:[],EU()]}}static forChild(t){return{ngModule:n,providers:[{provide:zs,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=Vn({})}return n})();function vU(){return{provide:PP,useFactory:()=>{let n=N(Ak),e=N(Oe),t=N($s),r=N(Yp),i=N(Bs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new yU(i,r,n,e,t)}}}function wU(){return{provide:rr,useClass:mp}}function CU(){return{provide:rr,useClass:ap}}function bU(n){return[n.initialNavigation==="disabled"?FP().\u0275providers:[],n.initialNavigation==="enabledBlocking"?NP().\u0275providers:[]]}var hC=new J("");function EU(){return[{provide:hC,useFactory:AP},{provide:Jf,multi:!0,useExisting:hC}]}var $P=()=>{};var qP=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},IU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Jp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,g=(o&3)<<4|a>>4,_=(a&15)<<2|u>>6,v=u&63;c||(v=64,s||(_=64)),r.push(t[d],t[g],t[_],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):IU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||g==null)throw new yC;let _=o<<2|a>>4;if(r.push(_),u!==64){let v=a<<4&240|u>>2;if(r.push(v),g!==64){let E=u<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},yC=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},xU=function(n){let e=qP(n);return Jp.encodeByteArray(e,!0)},Bu=function(n){return xU(n).replace(/\./g,"")},Xp=function(n){try{return Jp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var SU=()=>wC().__FIREBASE_DEFAULTS__,TU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Xp(n[1]);return e&&JSON.parse(e)},eg=()=>{try{return $P()||SU()||TU()||DU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CC=n=>{var e,t;return(t=(e=eg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},WP=n=>{let e=CC(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},bC=()=>{var n;return(n=eg())===null||n===void 0?void 0:n.config},EC=n=>{var e;return(e=eg())===null||e===void 0?void 0:e[`_${n}`]};var Hs=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ro(n){return n.endsWith(".cloudworkstations.dev")}function tg(n){return C(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function GP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bu(JSON.stringify(t)),Bu(JSON.stringify(s)),""].join(".")}var ju={};function MU(){let n={prod:[],emulator:[]};for(let e of Object.keys(ju))ju[e]?n.emulator.push(e):n.prod.push(e);return n}function kU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var zP=!1;function ng(n,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||ju[n]===e||ju[n]||zP)return;ju[n]=e;function t(_){return`__firebase__banner__${_}`}let r="__firebase__banner",o=MU().prod.length>0;function s(){let _=document.getElementById(r);_&&_.remove()}function a(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function u(){let _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{zP=!0,s()},_}function d(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function g(){let _=kU(r),v=t("text"),E=document.getElementById(v)||document.createElement("span"),P=t("learnmore"),R=document.getElementById(P)||document.createElement("a"),K=t("preprendIcon"),X=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){let te=_.element;a(te),d(R,P);let he=u();c(X,K),te.append(X,E,R,he),document.body.appendChild(te)}o?(E.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function PU(){var n;let e=(n=eg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YP(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JP(){let n=zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function XP(){return!PU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uu(){try{return typeof indexedDB=="object"}catch{return!1}}function eO(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var OU="FirebaseError",Wn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=OU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}},Dr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?AU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wn(i,a,r)}};function AU(n,e){return n.replace(RU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var RU=/\{\$([^}]+)}/g;function tO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ri(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(HP(o)&&HP(s)){if(!ri(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function HP(n){return n!==null&&typeof n=="object"}function $u(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Cc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function nO(n,e){let t=new vC(n,e);return t.subscribe.bind(t)}var vC=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");NU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_C),i.error===void 0&&(i.error=_C),i.complete===void 0&&(i.complete=_C);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function NU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _C(){}var xse=4*60*60*1e3;function gt(n){return n&&n._delegate?n._delegate:n}var Cn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var qs="[DEFAULT]";var IC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Hs;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LU(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FU(n){return n===qs?void 0:n}function LU(n){return n.instantiationMode==="EAGER"}var rg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new IC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var VU=[],Le=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Le||{}),jU={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},BU=Le.INFO,UU={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},$U=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=UU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ii=class{constructor(e){this.name=e,this._logLevel=BU,this._logHandler=$U,this._userLogHandler=null,VU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}};var zU=(n,e)=>e.some(t=>n instanceof t),rO,iO;function HU(){return rO||(rO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qU(){return iO||(iO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var oO=new WeakMap,SC=new WeakMap,sO=new WeakMap,xC=new WeakMap,DC=new WeakMap;function WU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(oi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&oO.set(t,n)}).catch(()=>{}),DC.set(e,n),e}function GU(n){if(SC.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});SC.set(n,e)}var TC={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return SC.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return oi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aO(n){TC=n(TC)}function KU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ig(this),e,...t);return sO.set(r,e.sort?e.sort():[e]),oi(r)}:qU().includes(n)?function(...e){return n.apply(ig(this),e),oi(oO.get(this))}:function(...e){return oi(n.apply(ig(this),e))}}function QU(n){return typeof n=="function"?KU(n):(n instanceof IDBTransaction&&GU(n),zU(n,HU())?new Proxy(n,TC):n)}function oi(n){if(n instanceof IDBRequest)return WU(n);if(xC.has(n))return xC.get(n);let e=QU(n);return e!==n&&(xC.set(n,e),DC.set(e,n)),e}var ig=n=>DC.get(n);function lO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=oi(s);return r&&s.addEventListener("upgradeneeded",c=>{r(oi(s.result),c.oldVersion,c.newVersion,oi(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var YU=["get","getKey","getAll","getAllKeys","count"],ZU=["put","add","delete","clear"],MC=new Map;function cO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(MC.get(e))return MC.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=ZU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YU.includes(t)))return;let o=function(s,...a){return C(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return MC.set(e,o),o}aO(n=>_e(q({},n),{get:(e,t,r)=>cO(e,t)||n.get(e,t,r),has:(e,t)=>!!cO(e,t)||n.has(e,t)}));var PC=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function JU(n){let e=n.getComponent();return e?.type==="VERSION"}var OC="@firebase/app",uO="0.13.1";var zi=new ii("@firebase/app"),XU="@firebase/app-compat",e7="@firebase/analytics-compat",t7="@firebase/analytics",n7="@firebase/app-check-compat",r7="@firebase/app-check",i7="@firebase/auth",o7="@firebase/auth-compat",s7="@firebase/database",a7="@firebase/data-connect",c7="@firebase/database-compat",l7="@firebase/functions",u7="@firebase/functions-compat",d7="@firebase/installations",h7="@firebase/installations-compat",f7="@firebase/messaging",p7="@firebase/messaging-compat",g7="@firebase/performance",m7="@firebase/performance-compat",_7="@firebase/remote-config",y7="@firebase/remote-config-compat",v7="@firebase/storage",w7="@firebase/storage-compat",C7="@firebase/firestore",b7="@firebase/ai",E7="@firebase/firestore-compat",I7="firebase",x7="11.9.0";var AC="[DEFAULT]",S7={[OC]:"fire-core",[XU]:"fire-core-compat",[t7]:"fire-analytics",[e7]:"fire-analytics-compat",[r7]:"fire-app-check",[n7]:"fire-app-check-compat",[i7]:"fire-auth",[o7]:"fire-auth-compat",[s7]:"fire-rtdb",[a7]:"fire-data-connect",[c7]:"fire-rtdb-compat",[l7]:"fire-fn",[u7]:"fire-fn-compat",[d7]:"fire-iid",[h7]:"fire-iid-compat",[f7]:"fire-fcm",[p7]:"fire-fcm-compat",[g7]:"fire-perf",[m7]:"fire-perf-compat",[_7]:"fire-rc",[y7]:"fire-rc-compat",[v7]:"fire-gcs",[w7]:"fire-gcs-compat",[C7]:"fire-fst",[E7]:"fire-fst-compat",[b7]:"fire-vertex","fire-js":"fire-js",[I7]:"fire-js-all"};var zu=new Map,T7=new Map,RC=new Map;function dO(n,e){try{n.container.addComponent(e)}catch(t){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mr(n){let e=n.name;if(RC.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;RC.set(e,n);for(let t of zu.values())dO(t,n);for(let t of T7.values())dO(t,n);return!0}function bc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function An(n){return n==null?!1:n.settings!==void 0}var D7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},No=new Dr("app","Firebase",D7);var NC=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw No.create("app-deleted",{appName:this._name})}};var Fo=x7;function VC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:AC,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw No.create("bad-app-name",{appName:String(i)});if(t||(t=bC()),!t)throw No.create("no-options");let o=zu.get(i);if(o){if(ri(t,o.options)&&ri(r,o.config))return o;throw No.create("duplicate-app",{appName:i})}let s=new rg(i);for(let c of RC.values())s.addComponent(c);let a=new NC(t,r,s);return zu.set(i,a),a}function Ws(n=AC){let e=zu.get(n);if(!e&&n===AC&&bC())return VC();if(!e)throw No.create("no-app",{appName:n});return e}function og(){return Array.from(zu.values())}function Ct(n,e,t){var r;let i=(r=S7[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(a.join(" "));return}Mr(new Cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var M7="firebase-heartbeat-database",k7=1,Hu="firebase-heartbeat-store",kC=null;function gO(){return kC||(kC=lO(M7,k7,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hu)}catch(t){console.warn(t)}}}}).catch(n=>{throw No.create("idb-open",{originalErrorMessage:n.message})})),kC}function P7(n){return C(this,null,function*(){try{let t=(yield gO()).transaction(Hu),r=yield t.objectStore(Hu).get(mO(n));return yield t.done,r}catch(e){if(e instanceof Wn)zi.warn(e.message);else{let t=No.create("idb-get",{originalErrorMessage:e?.message});zi.warn(t.message)}}})}function hO(n,e){return C(this,null,function*(){try{let r=(yield gO()).transaction(Hu,"readwrite");yield r.objectStore(Hu).put(e,mO(n)),yield r.done}catch(t){if(t instanceof Wn)zi.warn(t.message);else{let r=No.create("idb-set",{originalErrorMessage:t?.message});zi.warn(r.message)}}})}function mO(n){return`${n.name}!${n.options.appId}`}var O7=1024,A7=30,FC=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new LC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>A7){let s=N7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zi.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=fO(),{heartbeatsToSend:r,unsentEntries:i}=R7(this._heartbeatsCache.heartbeats),o=Bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return zi.warn(t),""}})}};function fO(){return new Date().toISOString().substring(0,10)}function R7(n,e=O7){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),pO(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),pO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var LC=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Uu()?eO().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield P7(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function pO(n){return Bu(JSON.stringify({version:2,heartbeats:n})).length}function N7(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function F7(n){Mr(new Cn("platform-logger",e=>new PC(e),"PRIVATE")),Mr(new Cn("heartbeat",e=>new FC(e),"PRIVATE")),Ct(OC,uO,n),Ct(OC,uO,"esm2017"),Ct("fire-js","")}F7("");var L7="firebase",V7="11.9.1";Ct(L7,V7,"app");function jC(n){n===void 0&&(b0(jC),n=N(lt));let e=n.get(Vf);return t=>new fe(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Lo=new Ds("ANGULARFIRE2_VERSION");function qu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ic=(n,e)=>{let t=e?[e]:og(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ec=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ec||{}),_O=_w()&&typeof Zone<"u"?Ec.WARN:Ec.SILENT;var sg=class{zone;delegate;constructor(e,t=Ky){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Vo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(Oe);this.outsideAngular=t.runOutsideAngular(()=>new sg(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new sg(typeof Zone>"u"?void 0:Zone.current,go))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yO=!1;function j7(n,e){!yO&&(_O>Ec.SILENT||_w())&&(yO=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),_O>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function B7(n){let e=N(Oe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Gs(n){let e=N(Oe,{optional:!0});return e?e.run(()=>n()):n()}var U7=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),on(t,()=>Gs(()=>n.apply(void 0,r)))),Tt=(n,e,t)=>(t||=e?Ec.WARN:Ec.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(Vo),s=N(Vf),a=N($t)}catch{return j7(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Gs(()=>s.add())),i[u]=U7(i[u],r,a));let c=B7(()=>n.apply(this,i));return e?c instanceof fe?c.pipe(_o(o.outsideAngular),mo(o.insideAngular),jC(a)):c instanceof Promise?Gs(()=>new Promise((u,d)=>{s.run(()=>c).then(g=>on(a,()=>Gs(()=>u(g))),g=>on(a,()=>Gs(()=>d(g))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Gs(()=>c):c instanceof fe?c.pipe(_o(o.outsideAngular),mo(o.insideAngular)):Gs(()=>c)});var Hi=class{constructor(e){return e}},Ks=class{constructor(){return og()}};function $7(n){return n&&n.length===1?n[0]:new Hi(Ws())}var BC=new J("angularfire2._apps"),z7={provide:Hi,useFactory:$7,deps:[[new yn,BC]]},H7={provide:Ks,deps:[[new yn,BC]]};function q7(n){return(e,t)=>{let r=t.get(Kr);Ct("angularfire",Lo.full,"core"),Ct("angularfire",Lo.full,"app"),Ct("angular",cu.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Hi(i)}}function vO(n,...e){return qr([z7,H7,{provide:BC,useFactory:q7(n),multi:!0,deps:[Oe,lt,Vo,...e]}])}var wO=Tt(VC,!0);var W7=new Map,G7={activated:!1,tokenObservers:[]},K7={initialized:!1,enabled:!1};function kr(n){return W7.get(n)||Object.assign({},G7)}function IO(){return K7}var Q7="https://content-firebaseappcheck.googleapis.com/v1";var Y7="exchangeDebugToken",CO={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Pae=24*60*60*1e3;var zC=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return C(this,null,function*(){this.stop();try{this.pending=new Hs,this.pending.promise.catch(t=>{}),yield Z7(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Hs,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Z7(n){return new Promise(e=>{setTimeout(e,n)})}var J7={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},jo=new Dr("appCheck","AppCheck",J7);function xO(n){if(!kr(n).activated)throw jo.create("use-before-activation",{appName:n.name})}function SO(r,i){return C(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(v){throw jo.create("fetch-network-error",{originalErrorMessage:v?.message})}if(c.status!==200)throw jo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(v){throw jo.create("fetch-parse-error",{originalErrorMessage:v?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw jo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let g=Number(d[1])*1e3,_=Date.now();return{token:u.token,expireTimeMillis:_+g,issuedAtTimeMillis:_}})}function TO(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Q7}/projects/${t}/apps/${r}:${Y7}?key=${i}`,body:{debug_token:e}}}var X7="firebase-app-check-database",e9=1,HC="firebase-app-check-store";var ag=null;function t9(){return ag||(ag=new Promise((n,e)=>{try{let t=indexedDB.open(X7,e9);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(jo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(HC,{keyPath:"compositeKey"})}}}catch(t){e(jo.create("storage-open",{originalErrorMessage:t?.message}))}}),ag)}function n9(n,e){return r9(i9(n),e)}function r9(n,e){return C(this,null,function*(){let r=(yield t9()).transaction(HC,"readwrite"),o=r.objectStore(HC).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(jo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function i9(n){return`${n.options.appId}-${n.name}`}var Wu=new ii("@firebase/app-check");function UC(n,e){return Uu()?n9(n,e).catch(t=>{Wu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function DO(){return IO().enabled}function MO(){return C(this,null,function*(){let n=IO();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var o9={error:"UNKNOWN_ERROR"};function s9(n){return Jp.encodeString(JSON.stringify(n),!1)}function qC(n,e=!1,t=!1){return C(this,null,function*(){let r=n.app;xO(r);let i=kr(r),o=i.token,s;if(o&&!Gu(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(Gu(u)?o=u:yield UC(r,void 0))}if(!e&&o&&Gu(o))return{token:o.token};let a=!1;if(DO())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=SO(TO(r,yield MO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield UC(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Wu.warn(u.message):t&&Wu.error(u),$C(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield kr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Wu.warn(u.message):t&&Wu.error(u),s=u}let c;return o?s?Gu(o)?c={token:o.token,internalError:s}:c=$C(s):(c={token:o.token},i.token=o,yield UC(r,o)):c=$C(s),a&&u9(r,c),c})}function a9(n){return C(this,null,function*(){let e=n.app;xO(e);let{provider:t}=kr(e);if(DO()){let r=yield MO(),{token:i}=yield SO(TO(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function c9(n,e,t,r){let{app:i}=n,o=kr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Gu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),bO(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>bO(n))}function kO(n,e){let t=kr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function bO(n){let{app:e}=n,t=kr(e),r=t.tokenRefresher;r||(r=l9(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function l9(n){let{app:e}=n;return new zC(()=>C(null,null,function*(){let t=kr(e),r;if(t.token?r=yield qC(n,!0):r=yield qC(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=kr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},CO.RETRIAL_MIN_WAIT,CO.RETRIAL_MAX_WAIT)}function u9(n,e){let t=kr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Gu(n){return n.expireTimeMillis-Date.now()>0}function $C(n){return{token:s9(o9),error:n}}var WC=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=kr(this.app);for(let t of e)kO(this.app,t.next);return Promise.resolve()}};function d9(n,e){return new WC(n,e)}function h9(n){return{getToken:e=>qC(n,e),getLimitedUseToken:()=>a9(n),addTokenListener:e=>c9(n,"INTERNAL",e),removeTokenListener:e=>kO(n.app,e)}}var f9="@firebase/app-check",p9="0.10.0";var g9="app-check",EO="app-check-internal";function m9(){Mr(new Cn(g9,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return d9(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(EO).initialize()})),Mr(new Cn(EO,n=>{let e=n.getProvider("app-check").getImmediate();return h9(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ct(f9,p9)}m9();var _9="app-check";var xc=class{constructor(){return Ic(_9)}};var y9=["localhost","0.0.0.0","127.0.0.1"],Hae=typeof window<"u"&&y9.includes(window.location.hostname);function WO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var GO=WO,KO=new Dr("auth","Firebase",WO());var fg=new ii("@firebase/auth");function v9(n,...e){fg.logLevel<=Le.WARN&&fg.warn(`Auth (${Fo}): ${n}`,...e)}function lg(n,...e){fg.logLevel<=Le.ERROR&&fg.error(`Auth (${Fo}): ${n}`,...e)}function ai(n,...e){throw _b(n,...e)}function Qs(n,...e){return _b(n,...e)}function QO(n,e,t){let r=Object.assign(Object.assign({},GO()),{[e]:t});return new Dr("auth","Firebase",r).create(e,{appName:n.name})}function Gi(n){return QO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _b(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return KO.create(n,...e)}function pe(n,e,...t){if(!n)throw _b(e,...t)}function qi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw lg(e),new Error(e)}function $o(n,e){n||qi(e)}function YC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function w9(){return PO()==="http:"||PO()==="https:"}function PO(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function C9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w9()||YP()||"connection"in navigator)?navigator.onLine:!0}function b9(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ys=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$o(t>e,"Short delay should be less than long delay!"),this.isMobile=KP()||ZP()}get(){return C9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function yb(n,e){$o(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var pg=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var E9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var I9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x9=new Ys(3e4,6e4);function zo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ki(o,s,a,c){return C(this,arguments,function*(n,e,t,r,i={}){return YO(n,i,()=>C(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let g=$u(Object.assign({key:n.config.apiKey},d)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:_},u);return QP()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Ro(n.emulatorConfig.host)&&(v.credentials="include"),pg.fetch()(yield ZO(n,n.config.apiHost,t,g),v)}))})}function YO(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},E9),e);try{let i=new ZC(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw cg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw cg(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw cg(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw cg(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw QO(n,d,u);ai(n,d)}}catch(i){if(i instanceof Wn)throw i;ai(n,"network-request-failed",{message:String(i)})}})}function td(o,s,a,c){return C(this,arguments,function*(n,e,t,r,i={}){let u=yield Ki(n,e,t,r,i);return"mfaPendingCredential"in u&&ai(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function ZO(n,e,t,r){return C(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?yb(n.config,i):`${n.config.apiScheme}://${i}`;return I9.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function S9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ZC=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Qs(this.auth,"network-request-failed")),x9.get())})}};function cg(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Qs(n,e,r);return i.customData._tokenResponse=t,i}function OO(n){return n!==void 0&&n.enterprise!==void 0}var JC=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return S9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function T9(n,e){return C(this,null,function*(){return Ki(n,"GET","/v2/recaptchaConfig",zo(n,e))})}function D9(n,e){return C(this,null,function*(){return Ki(n,"POST","/v1/accounts:delete",e)})}function gg(n,e){return C(this,null,function*(){return Ki(n,"POST","/v1/accounts:lookup",e)})}function Qu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vb(n,e=!1){return C(this,null,function*(){let t=gt(n),r=yield t.getIdToken(e),i=wb(r);pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qu(GC(i.auth_time)),issuedAtTime:Qu(GC(i.iat)),expirationTime:Qu(GC(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function GC(n){return Number(n)*1e3}function wb(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return lg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Xp(t);return i?JSON.parse(i):(lg("Failed to decode base64 JWT payload"),null)}catch(i){return lg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function AO(n){let e=wb(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Sc(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Wn&&M9(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function M9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var XC=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Zu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function mg(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Sc(n,gg(t,{idToken:r}));pe(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JO(o.providerUserInfo):[],a=k9(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Zu(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,g)})}function Cb(n){return C(this,null,function*(){let e=gt(n);yield mg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function k9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JO(n){return n.map(e=>{var{providerId:t}=e,r=Yy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function P9(n,e){return C(this,null,function*(){let t=yield YO(n,{},()=>C(null,null,function*(){let r=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield ZO(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Ro(n.emulatorConfig.host)&&(c.credentials="include"),pg.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function O9(n,e){return C(this,null,function*(){return Ki(n,"POST","/v2/accounts:revokeToken",zo(n,e))})}var Yu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");let t=AO(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield P9(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(pe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(pe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return qi("not implemented")}};function Bo(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Uo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield Sc(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return vb(this,e)}reload(){return Cb(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield mg(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(An(this.auth.app))return Promise.reject(Gi(this.auth));let e=yield this.getIdToken();return yield Sc(this,D9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,P=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,K=(u=t.createdAt)!==null&&u!==void 0?u:void 0,X=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:te,emailVerified:he,isAnonymous:ot,providerData:ke,stsTokenManager:T}=t;pe(te&&T,e,"internal-error");let b=Yu.fromJSON(this.name,T);pe(typeof te=="string",e,"internal-error"),Bo(g,e.name),Bo(_,e.name),pe(typeof he=="boolean",e,"internal-error"),pe(typeof ot=="boolean",e,"internal-error"),Bo(v,e.name),Bo(E,e.name),Bo(P,e.name),Bo(R,e.name),Bo(K,e.name),Bo(X,e.name);let x=new n({uid:te,auth:e,email:_,emailVerified:he,displayName:g,isAnonymous:ot,photoURL:E,phoneNumber:v,tenantId:P,stsTokenManager:b,createdAt:K,lastLoginAt:X});return ke&&Array.isArray(ke)&&(x.providerData=ke.map(D=>Object.assign({},D))),R&&(x._redirectEventId=R),x}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new Yu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield mg(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];pe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?JO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Yu;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Zu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var RO=new Map;function Wi(n){$o(n instanceof Function,"Expected a class definition");let e=RO.get(n);return e?($o(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,RO.set(n,e),e)}var A9=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),eb=A9;function ug(n,e,t){return`firebase:${n}:${e}:${t}`}var _g=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ug(this.userKey,i.apiKey,o),this.fullPersistenceKey=ug("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield gg(this.auth,{idToken:e}).catch(()=>{});return t?Uo._fromGetAccountInfoResponse(this.auth,t,e):null}return Uo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(Wi(eb),e,r);let i=(yield Promise.all(t.map(u=>C(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Wi(eb),s=ug(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let g;if(typeof d=="string"){let _=yield gg(e,{idToken:d}).catch(()=>{});if(!_)break;g=yield Uo._fromGetAccountInfoResponse(e,_,d)}else g=Uo._fromJSON(e,d);u!==o&&(a=g),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>C(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function NO(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iA(e))return"Blackberry";if(oA(e))return"Webos";if(eA(e))return"Safari";if((e.includes("chrome/")||tA(e))&&!e.includes("edge/"))return"Chrome";if(rA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function XO(n=zt()){return/firefox\//i.test(n)}function eA(n=zt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tA(n=zt()){return/crios\//i.test(n)}function nA(n=zt()){return/iemobile/i.test(n)}function rA(n=zt()){return/android/i.test(n)}function iA(n=zt()){return/blackberry/i.test(n)}function oA(n=zt()){return/webos/i.test(n)}function bb(n=zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function R9(n=zt()){var e;return bb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N9(){return JP()&&document.documentMode===10}function sA(n=zt()){return bb(n)||rA(n)||oA(n)||iA(n)||/windows phone/i.test(n)||nA(n)}function aA(n,e=[]){let t;switch(n){case"Browser":t=NO(zt());break;case"Worker":t=`${NO(zt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fo}/${r}`}var tb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function F9(t){return C(this,arguments,function*(n,e={}){return Ki(n,"GET","/v2/passwordPolicy",zo(n,e))})}var L9=6,nb=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:L9,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var rb=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yg(this),this.idTokenSubscription=new yg(this),this.beforeStateQueue=new tb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wi(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield _g.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield gg(this,{idToken:e}),r=yield Uo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(An(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield mg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=b9()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(An(this.app))return Promise.reject(Gi(this));let t=e?gt(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return An(this.app)?Promise.reject(Gi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return An(this.app)?Promise.reject(Gi(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Wi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield F9(this),t=new nb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield O9(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Wi(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=yield _g.create(this,[Wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&v9(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Js(n){return gt(n)}var yg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=nO(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var xg={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V9(n){xg=n}function cA(n){return xg.loadJS(n)}function j9(){return xg.recaptchaEnterpriseScript}function B9(){return xg.gapiScript}function lA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var ib=class{constructor(){this.enterprise=new ob}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},ob=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var U9="recaptcha-enterprise",uA="NO_RECAPTCHA",sb=class{constructor(e){this.type=U9,this.auth=Js(e)}verify(e="verify",t=!1){return C(this,null,function*(){function r(o){return C(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>C(null,null,function*(){T9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new JC(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;OO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(uA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ib().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&OO(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=j9();c.length!==0&&(c+=a),cA(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Ku(n,e,t,r=!1,i=!1){return C(this,null,function*(){let o=new sb(n),s;if(i)s=uA;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function ab(n,e,t,r,i){return C(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Ku(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>C(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Ku(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Ku(n,e,t);return r(n,a).catch(c=>C(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Ku(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Ku(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function Eb(n,e){let t=bc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ri(o,e??{}))return i;ai(i,"already-initialized")}return t.initialize({options:e})}function $9(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Wi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ib(n,e,t){let r=Js(n);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=dA(e),{host:s,port:a}=z9(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(ri(u,r.config.emulator)&&ri(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ro(s)?(tg(`${o}//${s}${c}`),ng("Auth",!0)):i||H9()}function dA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function z9(n){let e=dA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:FO(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:FO(s)}}}function FO(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function H9(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ju=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,t){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}};function q9(n,e){return C(this,null,function*(){return Ki(n,"POST","/v1/accounts:signUp",e)})}function W9(n,e){return C(this,null,function*(){return td(n,"POST","/v1/accounts:signInWithPassword",zo(n,e))})}function G9(n,e){return C(this,null,function*(){return td(n,"POST","/v1/accounts:signInWithEmailLink",zo(n,e))})}function K9(n,e){return C(this,null,function*(){return td(n,"POST","/v1/accounts:signInWithEmailLink",zo(n,e))})}var Xu=class n extends Ju{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ab(e,t,"signInWithPassword",W9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return G9(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}})}_linkToIdToken(e,t){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ab(e,r,"signUpPassword",q9,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return K9(e,{idToken:t,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function KC(n,e){return C(this,null,function*(){return td(n,"POST","/v1/accounts:signInWithIdp",zo(n,e))})}function Q9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y9(n){let e=wc(Cc(n)).link,t=e?wc(Cc(e)).deep_link_id:null,r=wc(Cc(n)).deep_link_id;return(r?wc(Cc(r)).link:null)||r||t||e||n}var vg=class n{constructor(e){var t,r,i,o,s,a;let c=wc(Cc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,g=Q9((i=c.mode)!==null&&i!==void 0?i:null);pe(u&&d&&g,"argument-error"),this.apiKey=u,this.operation=g,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Y9(e);try{return new n(t)}catch{return null}}};var hA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Xu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=vg.parseLink(r);return pe(i,"argument-error"),Xu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),wg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var cb=class extends wg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Z9(n,e){return C(this,null,function*(){return td(n,"POST","/v1/accounts:signUp",zo(n,e))})}var Tc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return C(this,null,function*(){let o=yield Uo._fromIdTokenResponse(e,r,i),s=LO(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=LO(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function LO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var lb=class n extends Wn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function fA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lb._fromErrorAndOperation(n,o,e,r):o})}function J9(n,e,t=!1){return C(this,null,function*(){let r=yield Sc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Tc._forOperation(n,"link",r)})}function X9(n,e,t=!1){return C(this,null,function*(){let{auth:r}=n;if(An(r.app))return Promise.reject(Gi(r));let i="reauthenticate";try{let o=yield Sc(n,fA(r,i,e,n),t);pe(o.idToken,r,"internal-error");let s=wb(o.idToken);pe(s,r,"internal-error");let{sub:a}=s;return pe(n.uid===a,r,"user-mismatch"),Tc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ai(r,"user-mismatch"),o}})}function pA(n,e,t=!1){return C(this,null,function*(){if(An(n.app))return Promise.reject(Gi(n));let r="signIn",i=yield fA(n,r,e),o=yield Tc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function xb(n,e){return C(this,null,function*(){return pA(Js(n),e)})}function gA(n){return C(this,null,function*(){let e=Js(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Sb(n,e,t){return C(this,null,function*(){if(An(n.app))return Promise.reject(Gi(n));let r=Js(n),s=yield ab(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Z9,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&gA(n),c}),a=yield Tc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Tb(n,e,t){return An(n.app)?Promise.reject(Gi(n)):xb(gt(n),hA.credential(e,t)).catch(r=>C(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&gA(n),r}))}function e$(n,e){return C(this,null,function*(){return Ki(n,"POST","/v1/accounts:update",e)})}function Db(r,i){return C(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=gt(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield Sc(o,e$(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function Mb(n,e,t,r){return gt(n).onIdTokenChanged(e,t,r)}function kb(n,e,t){return gt(n).beforeAuthStateChanged(e,t)}function Pb(n,e,t,r){return gt(n).onAuthStateChanged(e,t,r)}function Ob(n){return gt(n).signOut()}function Ab(n){return C(this,null,function*(){return gt(n).delete()})}var Cg="__sak";var bg=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cg,"1"),this.storage.removeItem(Cg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var t$=1e3,n$=10,r$=(()=>{class n extends bg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);N9()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,n$):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},t$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return C(this,null,function*(){yield ho(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return C(this,null,function*(){let r=yield ho(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return C(this,null,function*(){yield ho(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),mA=r$;var i$=(()=>{class n extends bg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Rb=i$;function o$(n){return Promise.all(n.map(e=>C(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var s$=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return C(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>C(this,null,function*(){return d(r.origin,s)})),u=yield o$(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function _A(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var ub=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=_A("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function si(){return window}function a$(n){si().location.href=n}function yA(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}function c$(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function l$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function u$(){return yA()?self:null}var vA="firebaseLocalStorageDb",d$=1,Eg="firebaseLocalStorage",wA="fbase_key",Zs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Sg(n,e){return n.transaction([Eg],e?"readwrite":"readonly").objectStore(Eg)}function h$(){let n=indexedDB.deleteDatabase(vA);return new Zs(n).toPromise()}function db(){let n=indexedDB.open(vA,d$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Eg,{keyPath:wA})}catch(i){t(i)}}),n.addEventListener("success",()=>C(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Eg)?e(r):(r.close(),yield h$(),e(yield db()))}))})}function VO(n,e,t){return C(this,null,function*(){let r=Sg(n,!0).put({[wA]:e,value:t});return new Zs(r).toPromise()})}function f$(n,e){return C(this,null,function*(){let t=Sg(n,!1).get(e),r=yield new Zs(t).toPromise();return r===void 0?null:r.value})}function jO(n,e){let t=Sg(n,!0).delete(e);return new Zs(t).toPromise()}var p$=800,g$=3,m$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield db(),this.db)})}_withRetries(t){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>g$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return yA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=s$._getInstance(u$()),this.receiver._subscribe("keyChanged",(t,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var t,r;if(this.activeServiceWorker=yield c$(),!this.activeServiceWorker)return;this.sender=new ub(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||l$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let t=yield db();return yield VO(t,Cg,"1"),yield jO(t,Cg),!0}catch{}return!1})}_withPendingWrite(t){return C(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>VO(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return C(this,null,function*(){let r=yield this._withRetries(i=>f$(i,t));return this.localCache[t]=r,r})}_remove(t){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>jO(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return C(this,null,function*(){let t=yield this._withRetries(o=>{let s=Sg(o,!1).getAll();return new Zs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),p$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),CA=m$;var Jae=lA("rcb"),Xae=new Ys(3e4,6e4);function _$(n,e){return e?Wi(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ed=class extends Ju{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return KC(e,this._buildIdpRequest())}_linkToIdToken(e,t){return KC(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return KC(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function y$(n){return pA(n.auth,new ed(n),n.bypassAuthState)}function v$(n){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),X9(t,new ed(n),n.bypassAuthState)}function w$(n){return C(this,null,function*(){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),J9(t,new ed(n),n.bypassAuthState)})}var hb=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y$;case"linkViaPopup":case"linkViaRedirect":return w$;case"reauthViaPopup":case"reauthViaRedirect":return v$;default:ai(this.auth,"internal-error")}}resolve(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ece=new Ys(2e3,1e4);var C$="pendingRedirect",dg=new Map,fb=class n extends hb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=dg.get(this.auth._key());if(!e){try{let r=(yield b$(this.resolver,this.auth))?yield ho(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}dg.set(this.auth._key(),e)}return this.bypassAuthState||dg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return ho(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ho(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function b$(n,e){return C(this,null,function*(){let t=x$(e),r=I$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function E$(n,e){dg.set(n._key(),e)}function I$(n){return Wi(n._redirectPersistence)}function x$(n){return ug(C$,n.config.apiKey,n.name)}function S$(n,e,t=!1){return C(this,null,function*(){if(An(n.app))return Promise.reject(Gi(n));let r=Js(n),i=_$(r,e),s=yield new fb(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var T$=10*60*1e3,pb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Qs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T$&&this.cachedEventUids.clear(),this.cachedEventUids.has(BO(e))}saveEventToCache(e){this.cachedEventUids.add(BO(e)),this.lastProcessedEventTime=Date.now()}};function BO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function D$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bA(n);default:return!1}}function M$(t){return C(this,arguments,function*(n,e={}){return Ki(n,"GET","/v1/projects",e)})}var k$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P$=/^https?/;function O$(n){return C(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield M$(n);for(let t of e)try{if(A$(t))return}catch{}ai(n,"unauthorized-domain")})}function A$(n){let e=YC(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!P$.test(t))return!1;if(k$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var R$=new Ys(3e4,6e4);function UO(){let n=si().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function N$(n){return new Promise((e,t)=>{var r,i,o;function s(){UO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UO(),t(Qs(n,"network-request-failed"))},timeout:R$.get()})}if(!((i=(r=si().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=si().gapi)===null||o===void 0)&&o.load)s();else{let a=lA("iframefcb");return si()[a]=()=>{gapi.load?s():t(Qs(n,"network-request-failed"))},cA(`${B9()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw hg=null,e})}var hg=null;function F$(n){return hg=hg||N$(n),hg}var L$=new Ys(5e3,15e3),V$="__/auth/iframe",j$="emulator/auth/iframe",B$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $$(n){let e=n.config;pe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?yb(e,j$):`https://${n.config.authDomain}/${V$}`,r={apiKey:e.apiKey,appName:n.name,v:Fo},i=U$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${$u(r).slice(1)}`}function z$(n){return C(this,null,function*(){let e=yield F$(n),t=si().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:$$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B$,dontclear:!0},r=>new Promise((i,o)=>C(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Qs(n,"network-request-failed"),a=si().setTimeout(()=>{o(s)},L$.get());function c(){si().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var H$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q$=500,W$=600,G$="_blank",K$="http://localhost",Ig=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Q$(n,e,t,r=q$,i=W$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},H$),{width:r.toString(),height:i.toString(),top:o,left:s}),u=zt().toLowerCase();t&&(a=tA(u)?G$:t),XO(u)&&(e=e||K$,c.scrollbars="yes");let d=Object.entries(c).reduce((_,[v,E])=>`${_}${v}=${E},`,"");if(R9(u)&&a!=="_self")return Y$(e||"",a),new Ig(null);let g=window.open(e||"",a,d);pe(g,n,"popup-blocked");try{g.focus()}catch{}return new Ig(g)}function Y$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Z$="__/auth/handler",J$="emulator/auth/handler",X$=encodeURIComponent("fac");function $O(n,e,t,r,i,o){return C(this,null,function*(){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Fo,eventId:i};if(e instanceof wg){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",tO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,g]of Object.entries(o||{}))s[d]=g}if(e instanceof cb){let d=e.getScopes().filter(g=>g!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${X$}=${encodeURIComponent(c)}`:"";return`${ez(n)}?${$u(a).slice(1)}${u}`})}function ez({config:n}){return n.emulator?yb(n,J$):`https://${n.authDomain}/${Z$}`}var QC="webStorageSupport",gb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rb,this._completeRedirectFn=S$,this._overrideRedirectResult=E$}_openPopup(e,t,r,i){return C(this,null,function*(){var o;$o((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield $O(e,t,r,YC(),i);return Q$(e,s,_A())})}_openRedirect(e,t,r,i){return C(this,null,function*(){yield this._originValidation(e);let o=yield $O(e,t,r,YC(),i);return a$(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):($o(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return C(this,null,function*(){let t=yield z$(e),r=new pb(e);return t.register("authEvent",i=>(pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(QC,{type:QC},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[QC];s!==void 0&&t(!!s),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=O$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sA()||eA()||bb()}},EA=gb;var zO="@firebase/auth",HO="1.10.7";var mb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function tz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nz(n){Mr(new Cn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;pe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aA(n)},u=new rb(r,i,o,c);return $9(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Mr(new Cn("auth-internal",e=>{let t=Js(e.getProvider("auth").getImmediate());return(r=>new mb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ct(zO,HO,tz(n)),Ct(zO,HO,"esm2017")}var rz=5*60,iz=EC("authIdTokenMaxAge")||rz,qO=null,oz=n=>e=>C(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>iz)return;let i=t?.token;qO!==i&&(qO=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Nb(n=Ws()){let e=bc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Eb(n,{popupRedirectResolver:EA,persistence:[CA,mA,Rb]}),r=EC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=oz(o.toString());kb(t,s,()=>s(t.currentUser)),Mb(t,a=>s(a))}}let i=CC("auth");return i&&Ib(t,`http://${i}`),t}function sz(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}V9({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Qs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",sz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nz("Browser");var IA="auth",Xs=class{constructor(e){return e}},nd=class{constructor(){return Ic(IA)}};var Fb=new J("angularfire2.auth-instances");function Wz(n,e){let t=qu(IA,n,e);return t&&new Xs(t)}function Gz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Xs(r)}}var Kz={provide:nd,deps:[[new yn,Fb]]},Qz={provide:Xs,useFactory:Wz,deps:[[new yn,Fb],Hi]};function xA(n,...e){return Ct("angularfire",Lo.full,"auth"),qr([Qz,Kz,{provide:Fb,useFactory:Gz(n),multi:!0,deps:[Oe,lt,Vo,Ks,[new yn,xc],...e]}])}var Lb=Tt(Sb,!0,2),SA=Tt(Ab,!0,2);var TA=Tt(Nb,!0);var DA=Tt(Pb,!0);var Vb=Tt(Tb,!0,2);var MA=Tt(Ob,!0,2);var jb=Tt(Db,!0,2);var kA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PA={};var Qi,Bb;(function(){var n;function e(T,b){function x(){}x.prototype=b.prototype,T.D=b.prototype,T.prototype=new x,T.prototype.constructor=T,T.C=function(D,M,A){for(var S=Array(arguments.length-2),Qn=2;Qn<arguments.length;Qn++)S[Qn-2]=arguments[Qn];return b.prototype[M].apply(D,S)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,b,x){x||(x=0);var D=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)D[M]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(M=0;16>M;++M)D[M]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=T.g[0],x=T.g[1],M=T.g[2];var A=T.g[3],S=b+(A^x&(M^A))+D[0]+3614090360&4294967295;b=x+(S<<7&4294967295|S>>>25),S=A+(M^b&(x^M))+D[1]+3905402710&4294967295,A=b+(S<<12&4294967295|S>>>20),S=M+(x^A&(b^x))+D[2]+606105819&4294967295,M=A+(S<<17&4294967295|S>>>15),S=x+(b^M&(A^b))+D[3]+3250441966&4294967295,x=M+(S<<22&4294967295|S>>>10),S=b+(A^x&(M^A))+D[4]+4118548399&4294967295,b=x+(S<<7&4294967295|S>>>25),S=A+(M^b&(x^M))+D[5]+1200080426&4294967295,A=b+(S<<12&4294967295|S>>>20),S=M+(x^A&(b^x))+D[6]+2821735955&4294967295,M=A+(S<<17&4294967295|S>>>15),S=x+(b^M&(A^b))+D[7]+4249261313&4294967295,x=M+(S<<22&4294967295|S>>>10),S=b+(A^x&(M^A))+D[8]+1770035416&4294967295,b=x+(S<<7&4294967295|S>>>25),S=A+(M^b&(x^M))+D[9]+2336552879&4294967295,A=b+(S<<12&4294967295|S>>>20),S=M+(x^A&(b^x))+D[10]+4294925233&4294967295,M=A+(S<<17&4294967295|S>>>15),S=x+(b^M&(A^b))+D[11]+2304563134&4294967295,x=M+(S<<22&4294967295|S>>>10),S=b+(A^x&(M^A))+D[12]+1804603682&4294967295,b=x+(S<<7&4294967295|S>>>25),S=A+(M^b&(x^M))+D[13]+4254626195&4294967295,A=b+(S<<12&4294967295|S>>>20),S=M+(x^A&(b^x))+D[14]+2792965006&4294967295,M=A+(S<<17&4294967295|S>>>15),S=x+(b^M&(A^b))+D[15]+1236535329&4294967295,x=M+(S<<22&4294967295|S>>>10),S=b+(M^A&(x^M))+D[1]+4129170786&4294967295,b=x+(S<<5&4294967295|S>>>27),S=A+(x^M&(b^x))+D[6]+3225465664&4294967295,A=b+(S<<9&4294967295|S>>>23),S=M+(b^x&(A^b))+D[11]+643717713&4294967295,M=A+(S<<14&4294967295|S>>>18),S=x+(A^b&(M^A))+D[0]+3921069994&4294967295,x=M+(S<<20&4294967295|S>>>12),S=b+(M^A&(x^M))+D[5]+3593408605&4294967295,b=x+(S<<5&4294967295|S>>>27),S=A+(x^M&(b^x))+D[10]+38016083&4294967295,A=b+(S<<9&4294967295|S>>>23),S=M+(b^x&(A^b))+D[15]+3634488961&4294967295,M=A+(S<<14&4294967295|S>>>18),S=x+(A^b&(M^A))+D[4]+3889429448&4294967295,x=M+(S<<20&4294967295|S>>>12),S=b+(M^A&(x^M))+D[9]+568446438&4294967295,b=x+(S<<5&4294967295|S>>>27),S=A+(x^M&(b^x))+D[14]+3275163606&4294967295,A=b+(S<<9&4294967295|S>>>23),S=M+(b^x&(A^b))+D[3]+4107603335&4294967295,M=A+(S<<14&4294967295|S>>>18),S=x+(A^b&(M^A))+D[8]+1163531501&4294967295,x=M+(S<<20&4294967295|S>>>12),S=b+(M^A&(x^M))+D[13]+2850285829&4294967295,b=x+(S<<5&4294967295|S>>>27),S=A+(x^M&(b^x))+D[2]+4243563512&4294967295,A=b+(S<<9&4294967295|S>>>23),S=M+(b^x&(A^b))+D[7]+1735328473&4294967295,M=A+(S<<14&4294967295|S>>>18),S=x+(A^b&(M^A))+D[12]+2368359562&4294967295,x=M+(S<<20&4294967295|S>>>12),S=b+(x^M^A)+D[5]+4294588738&4294967295,b=x+(S<<4&4294967295|S>>>28),S=A+(b^x^M)+D[8]+2272392833&4294967295,A=b+(S<<11&4294967295|S>>>21),S=M+(A^b^x)+D[11]+1839030562&4294967295,M=A+(S<<16&4294967295|S>>>16),S=x+(M^A^b)+D[14]+4259657740&4294967295,x=M+(S<<23&4294967295|S>>>9),S=b+(x^M^A)+D[1]+2763975236&4294967295,b=x+(S<<4&4294967295|S>>>28),S=A+(b^x^M)+D[4]+1272893353&4294967295,A=b+(S<<11&4294967295|S>>>21),S=M+(A^b^x)+D[7]+4139469664&4294967295,M=A+(S<<16&4294967295|S>>>16),S=x+(M^A^b)+D[10]+3200236656&4294967295,x=M+(S<<23&4294967295|S>>>9),S=b+(x^M^A)+D[13]+681279174&4294967295,b=x+(S<<4&4294967295|S>>>28),S=A+(b^x^M)+D[0]+3936430074&4294967295,A=b+(S<<11&4294967295|S>>>21),S=M+(A^b^x)+D[3]+3572445317&4294967295,M=A+(S<<16&4294967295|S>>>16),S=x+(M^A^b)+D[6]+76029189&4294967295,x=M+(S<<23&4294967295|S>>>9),S=b+(x^M^A)+D[9]+3654602809&4294967295,b=x+(S<<4&4294967295|S>>>28),S=A+(b^x^M)+D[12]+3873151461&4294967295,A=b+(S<<11&4294967295|S>>>21),S=M+(A^b^x)+D[15]+530742520&4294967295,M=A+(S<<16&4294967295|S>>>16),S=x+(M^A^b)+D[2]+3299628645&4294967295,x=M+(S<<23&4294967295|S>>>9),S=b+(M^(x|~A))+D[0]+4096336452&4294967295,b=x+(S<<6&4294967295|S>>>26),S=A+(x^(b|~M))+D[7]+1126891415&4294967295,A=b+(S<<10&4294967295|S>>>22),S=M+(b^(A|~x))+D[14]+2878612391&4294967295,M=A+(S<<15&4294967295|S>>>17),S=x+(A^(M|~b))+D[5]+4237533241&4294967295,x=M+(S<<21&4294967295|S>>>11),S=b+(M^(x|~A))+D[12]+1700485571&4294967295,b=x+(S<<6&4294967295|S>>>26),S=A+(x^(b|~M))+D[3]+2399980690&4294967295,A=b+(S<<10&4294967295|S>>>22),S=M+(b^(A|~x))+D[10]+4293915773&4294967295,M=A+(S<<15&4294967295|S>>>17),S=x+(A^(M|~b))+D[1]+2240044497&4294967295,x=M+(S<<21&4294967295|S>>>11),S=b+(M^(x|~A))+D[8]+1873313359&4294967295,b=x+(S<<6&4294967295|S>>>26),S=A+(x^(b|~M))+D[15]+4264355552&4294967295,A=b+(S<<10&4294967295|S>>>22),S=M+(b^(A|~x))+D[6]+2734768916&4294967295,M=A+(S<<15&4294967295|S>>>17),S=x+(A^(M|~b))+D[13]+1309151649&4294967295,x=M+(S<<21&4294967295|S>>>11),S=b+(M^(x|~A))+D[4]+4149444226&4294967295,b=x+(S<<6&4294967295|S>>>26),S=A+(x^(b|~M))+D[11]+3174756917&4294967295,A=b+(S<<10&4294967295|S>>>22),S=M+(b^(A|~x))+D[2]+718787259&4294967295,M=A+(S<<15&4294967295|S>>>17),S=x+(A^(M|~b))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(M+(S<<21&4294967295|S>>>11))&4294967295,T.g[2]=T.g[2]+M&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var x=b-this.blockSize,D=this.B,M=this.h,A=0;A<b;){if(M==0)for(;A<=x;)i(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<b;)if(D[M++]=T.charCodeAt(A++),M==this.blockSize){i(this,D),M=0;break}}else for(;A<b;)if(D[M++]=T[A++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var x=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=x&255,x/=256;for(this.u(T),T=Array(16),b=x=0;4>b;++b)for(var D=0;32>D;D+=8)T[x++]=this.g[b]>>>D&255;return T};function o(T,b){var x=a;return Object.prototype.hasOwnProperty.call(x,T)?x[T]:x[T]=b(T)}function s(T,b){this.h=b;for(var x=[],D=!0,M=T.length-1;0<=M;M--){var A=T[M]|0;D&&A==b||(x[M]=A,D=!1)}this.g=x}var a={};function c(T){return-128<=T&&128>T?o(T,function(b){return new s([b|0],0>b?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return R(u(-T));for(var b=[],x=1,D=0;T>=x;D++)b[D]=T/x|0,x*=4294967296;return new s(b,0)}function d(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return R(d(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=u(Math.pow(b,8)),D=g,M=0;M<T.length;M+=8){var A=Math.min(8,T.length-M),S=parseInt(T.substring(M,M+A),b);8>A?(A=u(Math.pow(b,A)),D=D.j(A).add(u(S))):(D=D.j(x),D=D.add(u(S)))}return D}var g=c(0),_=c(1),v=c(16777216);n=s.prototype,n.m=function(){if(P(this))return-R(this).m();for(var T=0,b=1,x=0;x<this.g.length;x++){var D=this.i(x);T+=(0<=D?D:4294967296+D)*b,b*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(P(this))return"-"+R(this).toString(T);for(var b=u(Math.pow(T,6)),x=this,D="";;){var M=he(x,b).g;x=K(x,M.j(b));var A=((0<x.g.length?x.g[0]:x.h)>>>0).toString(T);if(x=M,E(x))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function P(T){return T.h==-1}n.l=function(T){return T=K(this,T),P(T)?-1:E(T)?0:1};function R(T){for(var b=T.g.length,x=[],D=0;D<b;D++)x[D]=~T.g[D];return new s(x,~T.h).add(_)}n.abs=function(){return P(this)?R(this):this},n.add=function(T){for(var b=Math.max(this.g.length,T.g.length),x=[],D=0,M=0;M<=b;M++){var A=D+(this.i(M)&65535)+(T.i(M)&65535),S=(A>>>16)+(this.i(M)>>>16)+(T.i(M)>>>16);D=S>>>16,A&=65535,S&=65535,x[M]=S<<16|A}return new s(x,x[x.length-1]&-2147483648?-1:0)};function K(T,b){return T.add(R(b))}n.j=function(T){if(E(this)||E(T))return g;if(P(this))return P(T)?R(this).j(R(T)):R(R(this).j(T));if(P(T))return R(this.j(R(T)));if(0>this.l(v)&&0>T.l(v))return u(this.m()*T.m());for(var b=this.g.length+T.g.length,x=[],D=0;D<2*b;D++)x[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<T.g.length;M++){var A=this.i(D)>>>16,S=this.i(D)&65535,Qn=T.i(M)>>>16,oo=T.i(M)&65535;x[2*D+2*M]+=S*oo,X(x,2*D+2*M),x[2*D+2*M+1]+=A*oo,X(x,2*D+2*M+1),x[2*D+2*M+1]+=S*Qn,X(x,2*D+2*M+1),x[2*D+2*M+2]+=A*Qn,X(x,2*D+2*M+2)}for(D=0;D<b;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=b;D<2*b;D++)x[D]=0;return new s(x,0)};function X(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function te(T,b){this.g=T,this.h=b}function he(T,b){if(E(b))throw Error("division by zero");if(E(T))return new te(g,g);if(P(T))return b=he(R(T),b),new te(R(b.g),R(b.h));if(P(b))return b=he(T,R(b)),new te(R(b.g),b.h);if(30<T.g.length){if(P(T)||P(b))throw Error("slowDivide_ only works with positive integers.");for(var x=_,D=b;0>=D.l(T);)x=ot(x),D=ot(D);var M=ke(x,1),A=ke(D,1);for(D=ke(D,2),x=ke(x,2);!E(D);){var S=A.add(D);0>=S.l(T)&&(M=M.add(x),A=S),D=ke(D,1),x=ke(x,1)}return b=K(T,M.j(b)),new te(M,b)}for(M=g;0<=T.l(b);){for(x=Math.max(1,Math.floor(T.m()/b.m())),D=Math.ceil(Math.log(x)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=u(x),S=A.j(b);P(S)||0<S.l(T);)x-=D,A=u(x),S=A.j(b);E(A)&&(A=_),M=M.add(A),T=K(T,S)}return new te(M,T)}n.A=function(T){return he(this,T).h},n.and=function(T){for(var b=Math.max(this.g.length,T.g.length),x=[],D=0;D<b;D++)x[D]=this.i(D)&T.i(D);return new s(x,this.h&T.h)},n.or=function(T){for(var b=Math.max(this.g.length,T.g.length),x=[],D=0;D<b;D++)x[D]=this.i(D)|T.i(D);return new s(x,this.h|T.h)},n.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),x=[],D=0;D<b;D++)x[D]=this.i(D)^T.i(D);return new s(x,this.h^T.h)};function ot(T){for(var b=T.g.length+1,x=[],D=0;D<b;D++)x[D]=T.i(D)<<1|T.i(D-1)>>>31;return new s(x,T.h)}function ke(T,b){var x=b>>5;b%=32;for(var D=T.g.length-x,M=[],A=0;A<D;A++)M[A]=0<b?T.i(A+x)>>>b|T.i(A+x+1)<<32-b:T.i(A+x);return new s(M,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bb=PA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Qi=PA.Integer=s}).apply(typeof kA<"u"?kA:typeof self<"u"?self:typeof window<"u"?window:{});var Tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yi={};var Ub,Zz,Dc,$b,rd,Dg,zb,Hb,qb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tg=="object"&&Tg];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var f=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var k=l[w];if(!(k in f))break e;f=f[k]}l=l[l.length-1],w=f[l],h=h(w),h!=w&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var f=0,w=!1,k={next:function(){if(!w&&f<l.length){var L=f++;return{value:h(L,l[L]),done:!1}}return w=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,f){return f})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,f){return l.call.apply(l.bind,arguments)}function g(l,h,f){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,w),l.apply(h,k)}}return function(){return l.apply(h,arguments)}}function _(l,h,f){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,_.apply(null,arguments)}function v(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var w=f.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function E(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(w,k,L){for(var Y=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Y[Je-2]=arguments[Je];return h.prototype[k].apply(w,Y)}}function P(l){let h=l.length;if(0<h){let f=Array(h);for(let w=0;w<h;w++)f[w]=l[w];return f}return[]}function R(l,h){for(let f=1;f<arguments.length;f++){let w=arguments[f];if(c(w)){let k=l.length||0,L=w.length||0;l.length=k+L;for(let Y=0;Y<L;Y++)l[k+Y]=w[Y]}else l.push(w)}}class K{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function X(l){return/^[\s\xa0]*$/.test(l)}function te(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function he(l){return he[" "](l),l}he[" "]=function(){};var ot=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function ke(l,h,f){for(let w in l)h.call(f,l[w],w,l)}function T(l,h){for(let f in l)h.call(void 0,l[f],f,l)}function b(l){let h={};for(let f in l)h[f]=l[f];return h}let x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,h){let f,w;for(let k=1;k<arguments.length;k++){w=arguments[k];for(f in w)l[f]=w[f];for(let L=0;L<x.length;L++)f=x[L],Object.prototype.hasOwnProperty.call(w,f)&&(l[f]=w[f])}}function M(l){var h=1;l=l.split(":");let f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function A(l){a.setTimeout(()=>{throw l},0)}function S(){var l=Fe;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Qn{constructor(){this.h=this.g=null}add(h,f){let w=oo.get();w.set(h,f),this.h?this.h.next=w:this.g=w,this.h=w}}var oo=new K(()=>new ne,l=>l.reset());class ne{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let re,se=!1,Fe=new Qn,It=()=>{let l=a.Promise.resolve(void 0);re=()=>{l.then(Yn)}};var Yn=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(f){A(f)}var h=oo;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}se=!1};function mt(){this.s=this.s,this.C=this.C}mt.prototype.s=!1,mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return l}();function so(l,h){if(st.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(ot){e:{try{he(h.nodeName);var k=!0;break e}catch{}k=!1}k||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:K_[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&so.aa.h.call(this)}}E(so,st);var K_={2:"touch",3:"pen",4:"mouse"};so.prototype.h=function(){so.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),Ei=0;function In(l,h,f,w,k){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!w,this.ha=k,this.key=++Ei,this.da=this.fa=!1}function Ii(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ao(l){this.src=l,this.g={},this.h=0}ao.prototype.add=function(l,h,f,w,k){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var Y=Y_(l,h,w,k);return-1<Y?(h=l[Y],f||(h.fa=!1)):(h=new In(h,this.src,L,!!w,k),h.fa=f,l.push(h)),h};function Q_(l,h){var f=h.type;if(f in l.g){var w=l.g[f],k=Array.prototype.indexOf.call(w,h,void 0),L;(L=0<=k)&&Array.prototype.splice.call(w,k,1),L&&(Ii(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Y_(l,h,f,w){for(var k=0;k<l.length;++k){var L=l[k];if(!L.da&&L.listener==h&&L.capture==!!f&&L.ha==w)return k}return-1}var Z_="closure_lm_"+(1e6*Math.random()|0),J_={};function uS(l,h,f,w,k){if(w&&w.once)return hS(l,h,f,w,k);if(Array.isArray(h)){for(var L=0;L<h.length;L++)uS(l,h[L],f,w,k);return null}return f=ny(f),l&&l[_t]?l.K(h,f,u(w)?!!w.capture:!!w,k):dS(l,h,f,!1,w,k)}function dS(l,h,f,w,k,L){if(!h)throw Error("Invalid event type");var Y=u(k)?!!k.capture:!!k,Je=ey(l);if(Je||(l[Z_]=Je=new ao(l)),f=Je.add(h,f,w,Y,L),f.proxy)return f;if(w=mL(),f.proxy=w,w.src=l,w.listener=f,l.addEventListener)at||(k=Y),k===void 0&&(k=!1),l.addEventListener(h.toString(),w,k);else if(l.attachEvent)l.attachEvent(pS(h.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return f}function mL(){function l(f){return h.call(l.src,l.listener,f)}let h=_L;return l}function hS(l,h,f,w,k){if(Array.isArray(h)){for(var L=0;L<h.length;L++)hS(l,h[L],f,w,k);return null}return f=ny(f),l&&l[_t]?l.L(h,f,u(w)?!!w.capture:!!w,k):dS(l,h,f,!0,w,k)}function fS(l,h,f,w,k){if(Array.isArray(h))for(var L=0;L<h.length;L++)fS(l,h[L],f,w,k);else w=u(w)?!!w.capture:!!w,f=ny(f),l&&l[_t]?(l=l.i,h=String(h).toString(),h in l.g&&(L=l.g[h],f=Y_(L,f,w,k),-1<f&&(Ii(L[f]),Array.prototype.splice.call(L,f,1),L.length==0&&(delete l.g[h],l.h--)))):l&&(l=ey(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Y_(h,f,w,k)),(f=-1<l?h[l]:null)&&X_(f))}function X_(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[_t])Q_(h.i,l);else{var f=l.type,w=l.proxy;h.removeEventListener?h.removeEventListener(f,w,l.capture):h.detachEvent?h.detachEvent(pS(f),w):h.addListener&&h.removeListener&&h.removeListener(w),(f=ey(h))?(Q_(f,l),f.h==0&&(f.src=null,h[Z_]=null)):Ii(l)}}}function pS(l){return l in J_?J_[l]:J_[l]="on"+l}function _L(l,h){if(l.da)l=!0;else{h=new so(h,this);var f=l.listener,w=l.ha||l.src;l.fa&&X_(l),l=f.call(w,h)}return l}function ey(l){return l=l[Z_],l instanceof ao?l:null}var ty="__closure_events_fn_"+(1e9*Math.random()>>>0);function ny(l){return typeof l=="function"?l:(l[ty]||(l[ty]=function(h){return l.handleEvent(h)}),l[ty])}function Jt(){mt.call(this),this.i=new ao(this),this.M=this,this.F=null}E(Jt,mt),Jt.prototype[_t]=!0,Jt.prototype.removeEventListener=function(l,h,f,w){fS(this,l,h,f,w)};function pn(l,h){var f,w=l.F;if(w)for(f=[];w;w=w.F)f.push(w);if(l=l.M,w=h.type||h,typeof h=="string")h=new st(h,l);else if(h instanceof st)h.target=h.target||l;else{var k=h;h=new st(w,l),D(h,k)}if(k=!0,f)for(var L=f.length-1;0<=L;L--){var Y=h.g=f[L];k=Gd(Y,w,!0,h)&&k}if(Y=h.g=l,k=Gd(Y,w,!0,h)&&k,k=Gd(Y,w,!1,h)&&k,f)for(L=0;L<f.length;L++)Y=h.g=f[L],k=Gd(Y,w,!1,h)&&k}Jt.prototype.N=function(){if(Jt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],w=0;w<f.length;w++)Ii(f[w]);delete l.g[h],l.h--}}this.F=null},Jt.prototype.K=function(l,h,f,w){return this.i.add(String(l),h,!1,f,w)},Jt.prototype.L=function(l,h,f,w){return this.i.add(String(l),h,!0,f,w)};function Gd(l,h,f,w){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var k=!0,L=0;L<h.length;++L){var Y=h[L];if(Y&&!Y.da&&Y.capture==f){var Je=Y.listener,Qt=Y.ha||Y.src;Y.fa&&Q_(l.i,Y),k=Je.call(Qt,w)!==!1&&k}}return k&&!w.defaultPrevented}function gS(l,h,f){if(typeof l=="function")f&&(l=_(l,f));else if(l&&typeof l.handleEvent=="function")l=_(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function mS(l){l.g=gS(()=>{l.g=null,l.i&&(l.i=!1,mS(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class yL extends mt{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:mS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _l(l){mt.call(this),this.h=l,this.g={}}E(_l,mt);var _S=[];function yS(l){ke(l.g,function(h,f){this.g.hasOwnProperty(f)&&X_(h)},l),l.g={}}_l.prototype.N=function(){_l.aa.N.call(this),yS(this)},_l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ry=a.JSON.stringify,vL=a.JSON.parse,wL=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function iy(){}iy.prototype.h=null;function vS(l){return l.h||(l.h=l.i())}function wS(){}var yl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oy(){st.call(this,"d")}E(oy,st);function sy(){st.call(this,"c")}E(sy,st);var os={},CS=null;function Kd(){return CS=CS||new Jt}os.La="serverreachability";function bS(l){st.call(this,os.La,l)}E(bS,st);function vl(l){let h=Kd();pn(h,new bS(h))}os.STAT_EVENT="statevent";function ES(l,h){st.call(this,os.STAT_EVENT,l),this.stat=h}E(ES,st);function gn(l){let h=Kd();pn(h,new ES(h,l))}os.Ma="timingevent";function IS(l,h){st.call(this,os.Ma,l),this.size=h}E(IS,st);function wl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Cl(){this.g=!0}Cl.prototype.xa=function(){this.g=!1};function CL(l,h,f,w,k,L){l.info(function(){if(l.g)if(L)for(var Y="",Je=L.split("&"),Qt=0;Qt<Je.length;Qt++){var $e=Je[Qt].split("=");if(1<$e.length){var Xt=$e[0];$e=$e[1];var en=Xt.split("_");Y=2<=en.length&&en[1]=="type"?Y+(Xt+"="+$e+"&"):Y+(Xt+"=redacted&")}}else Y=null;else Y=L;return"XMLHTTP REQ ("+w+") [attempt "+k+"]: "+h+`
`+f+`
`+Y})}function bL(l,h,f,w,k,L,Y){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+k+"]: "+h+`
`+f+`
`+L+" "+Y})}function va(l,h,f,w){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+IL(l,f)+(w?" "+w:"")})}function EL(l,h){l.info(function(){return"TIMEOUT: "+h})}Cl.prototype.info=function(){};function IL(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var w=f[l];if(!(2>w.length)){var k=w[1];if(Array.isArray(k)&&!(1>k.length)){var L=k[0];if(L!="noop"&&L!="stop"&&L!="close")for(var Y=1;Y<k.length;Y++)k[Y]=""}}}}return ry(f)}catch{return h}}var Qd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ay;function Yd(){}E(Yd,iy),Yd.prototype.g=function(){return new XMLHttpRequest},Yd.prototype.i=function(){return{}},ay=new Yd;function co(l,h,f,w){this.j=l,this.i=h,this.l=f,this.R=w||1,this.U=new _l(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new SS}function SS(){this.i=null,this.g="",this.h=!1}var TS={},cy={};function ly(l,h,f){l.L=1,l.v=eh(xi(h)),l.m=f,l.P=!0,DS(l,null)}function DS(l,h){l.F=Date.now(),Zd(l),l.A=xi(l.v);var f=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),$S(f.i,"t",w),l.C=0,f=l.j.J,l.h=new SS,l.g=sT(l.j,f?h:null,!l.m),0<l.O&&(l.M=new yL(_(l.Y,l,l.g),l.O)),h=l.U,f=l.g,w=l.ca;var k="readystatechange";Array.isArray(k)||(k&&(_S[0]=k.toString()),k=_S);for(var L=0;L<k.length;L++){var Y=uS(f,k[L],w||h.handleEvent,!1,h.h||h);if(!Y)break;h.g[Y.key]=Y}h=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),vl(),CL(l.i,l.u,l.A,l.l,l.R,l.m)}co.prototype.ca=function(l){l=l.target;let h=this.M;h&&Si(l)==3?h.j():this.Y(l)},co.prototype.Y=function(l){try{if(l==this.g)e:{let en=Si(this.g);var h=this.g.Ba();let ba=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||QS(this.g)))){this.J||en!=4||h==7||(h==8||0>=ba?vl(3):vl(2)),uy(this);var f=this.g.Z();this.X=f;t:if(MS(this)){var w=QS(this.g);l="";var k=w.length,L=Si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),bl(this);var Y="";break t}this.h.i=new a.TextDecoder}for(h=0;h<k;h++)this.h.h=!0,l+=this.h.i.decode(w[h],{stream:!(L&&h==k-1)});w.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=f==200,bL(this.i,this.u,this.A,this.l,this.R,en,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Qt=this.g;if((Je=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Je)){var $e=Je;break t}}$e=null}if(f=$e)va(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dy(this,f);else{this.o=!1,this.s=3,gn(12),ss(this),bl(this);break e}}if(this.P){f=!0;let pr;for(;!this.J&&this.C<Y.length;)if(pr=xL(this,Y),pr==cy){en==4&&(this.s=4,gn(14),f=!1),va(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==TS){this.s=4,gn(15),va(this.i,this.l,Y,"[Invalid Chunk]"),f=!1;break}else va(this.i,this.l,pr,null),dy(this,pr);if(MS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||Y.length!=0||this.h.h||(this.s=1,gn(16),f=!1),this.o=this.o&&f,!f)va(this.i,this.l,Y,"[Invalid Chunked Response]"),ss(this),bl(this);else if(0<Y.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),_y(Xt),Xt.M=!0,gn(11))}}else va(this.i,this.l,Y,null),dy(this,Y);en==4&&ss(this),this.o&&!this.J&&(en==4?nT(this.j,this):(this.o=!1,Zd(this)))}else $L(this.g),f==400&&0<Y.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),ss(this),bl(this)}}}catch{}finally{}};function MS(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function xL(l,h){var f=l.C,w=h.indexOf(`
`,f);return w==-1?cy:(f=Number(h.substring(f,w)),isNaN(f)?TS:(w+=1,w+f>h.length?cy:(h=h.slice(w,w+f),l.C=w+f,h)))}co.prototype.cancel=function(){this.J=!0,ss(this)};function Zd(l){l.S=Date.now()+l.I,kS(l,l.I)}function kS(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=wl(_(l.ba,l),h)}function uy(l){l.B&&(a.clearTimeout(l.B),l.B=null)}co.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(EL(this.i,this.A),this.L!=2&&(vl(),gn(17)),ss(this),this.s=2,bl(this)):kS(this,this.S-l)};function bl(l){l.j.G==0||l.J||nT(l.j,l)}function ss(l){uy(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,yS(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function dy(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||hy(f.h,l))){if(!l.K&&hy(f.h,l)&&f.G==3){try{var w=f.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var k=w;if(k[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)oh(f),rh(f);else break e;my(f),gn(18)}}else f.za=k[1],0<f.za-f.T&&37500>k[2]&&f.F&&f.v==0&&!f.C&&(f.C=wl(_(f.Za,f),6e3));if(1>=AS(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else cs(f,11)}else if((l.K||f.g==l)&&oh(f),!X(h))for(k=f.Da.g.parse(h),h=0;h<k.length;h++){let $e=k[h];if(f.T=$e[0],$e=$e[1],f.G==2)if($e[0]=="c"){f.K=$e[1],f.ia=$e[2];let Xt=$e[3];Xt!=null&&(f.la=Xt,f.j.info("VER="+f.la));let en=$e[4];en!=null&&(f.Aa=en,f.j.info("SVER="+f.Aa));let ba=$e[5];ba!=null&&typeof ba=="number"&&0<ba&&(w=1.5*ba,f.L=w,f.j.info("backChannelRequestTimeoutMs_="+w)),w=f;let pr=l.g;if(pr){let ah=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ah){var L=w.h;L.g||ah.indexOf("spdy")==-1&&ah.indexOf("quic")==-1&&ah.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(fy(L,L.h),L.h=null))}if(w.D){let yy=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;yy&&(w.ya=yy,ct(w.I,w.D,yy))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),w=f;var Y=l;if(w.qa=oT(w,w.J?w.ia:null,w.W),Y.K){RS(w.h,Y);var Je=Y,Qt=w.L;Qt&&(Je.I=Qt),Je.B&&(uy(Je),Zd(Je)),w.g=Y}else eT(w);0<f.i.length&&ih(f)}else $e[0]!="stop"&&$e[0]!="close"||cs(f,7);else f.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?cs(f,7):gy(f):$e[0]!="noop"&&f.l&&f.l.ta($e),f.v=0)}}vl(4)}catch{}}var SL=class{constructor(l,h){this.g=l,this.map=h}};function PS(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function OS(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function AS(l){return l.h?1:l.g?l.g.size:0}function hy(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function fy(l,h){l.g?l.g.add(h):l.h=h}function RS(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}PS.prototype.cancel=function(){if(this.i=NS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function NS(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let f of l.g.values())h=h.concat(f.D);return h}return P(l.i)}function TL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,w=0;w<f;w++)h.push(l[w]);return h}h=[],f=0;for(w in l)h[f++]=l[w];return h}function DL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(let w in l)h[f++]=w;return h}}}function FS(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=DL(l),w=TL(l),k=w.length,L=0;L<k;L++)h.call(void 0,w[L],f&&f[L],l)}var LS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ML(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var w=l[f].indexOf("="),k=null;if(0<=w){var L=l[f].substring(0,w);k=l[f].substring(w+1)}else L=l[f];h(L,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function as(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof as){this.h=l.h,Jd(this,l.j),this.o=l.o,this.g=l.g,Xd(this,l.s),this.l=l.l;var h=l.i,f=new xl;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),VS(this,f),this.m=l.m}else l&&(h=String(l).match(LS))?(this.h=!1,Jd(this,h[1]||"",!0),this.o=El(h[2]||""),this.g=El(h[3]||"",!0),Xd(this,h[4]),this.l=El(h[5]||"",!0),VS(this,h[6]||"",!0),this.m=El(h[7]||"")):(this.h=!1,this.i=new xl(null,this.h))}as.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Il(h,jS,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Il(h,jS,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Il(f,f.charAt(0)=="/"?OL:PL,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Il(f,RL)),l.join("")};function xi(l){return new as(l)}function Jd(l,h,f){l.j=f?El(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Xd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function VS(l,h,f){h instanceof xl?(l.i=h,NL(l.i,l.h)):(f||(h=Il(h,AL)),l.i=new xl(h,l.h))}function ct(l,h,f){l.i.set(h,f)}function eh(l){return ct(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function El(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Il(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,kL),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function kL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var jS=/[#\/\?@]/g,PL=/[#\?:]/g,OL=/[#\?]/g,AL=/[#\?@]/g,RL=/#/g;function xl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function lo(l){l.g||(l.g=new Map,l.h=0,l.i&&ML(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=xl.prototype,n.add=function(l,h){lo(this),this.i=null,l=wa(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function BS(l,h){lo(l),h=wa(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function US(l,h){return lo(l),h=wa(l,h),l.g.has(h)}n.forEach=function(l,h){lo(this),this.g.forEach(function(f,w){f.forEach(function(k){l.call(h,k,w,this)},this)},this)},n.na=function(){lo(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let w=0;w<h.length;w++){let k=l[w];for(let L=0;L<k.length;L++)f.push(h[w])}return f},n.V=function(l){lo(this);let h=[];if(typeof l=="string")US(this,l)&&(h=h.concat(this.g.get(wa(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},n.set=function(l,h){return lo(this),this.i=null,l=wa(this,l),US(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function $S(l,h,f){BS(l,h),0<f.length&&(l.i=null,l.g.set(wa(l,h),P(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var w=h[f];let L=encodeURIComponent(String(w)),Y=this.V(w);for(w=0;w<Y.length;w++){var k=L;Y[w]!==""&&(k+="="+encodeURIComponent(String(Y[w]))),l.push(k)}}return this.i=l.join("&")};function wa(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function NL(l,h){h&&!l.j&&(lo(l),l.i=null,l.g.forEach(function(f,w){var k=w.toLowerCase();w!=k&&(BS(this,w),$S(this,k,f))},l)),l.j=h}function FL(l,h){let f=new Cl;if(a.Image){let w=new Image;w.onload=v(uo,f,"TestLoadImage: loaded",!0,h,w),w.onerror=v(uo,f,"TestLoadImage: error",!1,h,w),w.onabort=v(uo,f,"TestLoadImage: abort",!1,h,w),w.ontimeout=v(uo,f,"TestLoadImage: timeout",!1,h,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else h(!1)}function LL(l,h){let f=new Cl,w=new AbortController,k=setTimeout(()=>{w.abort(),uo(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:w.signal}).then(L=>{clearTimeout(k),L.ok?uo(f,"TestPingServer: ok",!0,h):uo(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(k),uo(f,"TestPingServer: error",!1,h)})}function uo(l,h,f,w,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),w(f)}catch{}}function VL(){this.g=new wL}function jL(l,h,f){let w=f||"";try{FS(l,function(k,L){let Y=k;u(k)&&(Y=ry(k)),h.push(w+L+"="+encodeURIComponent(Y))})}catch(k){throw h.push(w+"type="+encodeURIComponent("_badmap")),k}}function Sl(l){this.l=l.Ub||null,this.j=l.eb||!1}E(Sl,iy),Sl.prototype.g=function(){return new th(this.l,this.j)},Sl.prototype.i=function(l){return function(){return l}}({});function th(l,h){Jt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(th,Jt),n=th.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Dl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Dl(this)),this.g&&(this.readyState=3,Dl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zS(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function zS(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Tl(this):Dl(this),this.readyState==3&&zS(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Tl(this))},n.Qa=function(l){this.g&&(this.response=l,Tl(this))},n.ga=function(){this.g&&Tl(this)};function Tl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Dl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function Dl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function HS(l){let h="";return ke(l,function(f,w){h+=w,h+=":",h+=f,h+=`\r
`}),h}function py(l,h,f){e:{for(w in f){var w=!1;break e}w=!0}w||(f=HS(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):ct(l,h,f))}function yt(l){Jt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(yt,Jt);var BL=/^https?$/i,UL=["POST","PUT"];n=yt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,f,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ay.g(),this.v=this.o?vS(this.o):vS(ay),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(L){qS(this,L);return}if(l=f||"",f=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var k in w)f.set(k,w[k]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(let L of w.keys())f.set(L,w.get(L));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(f.keys()).find(L=>L.toLowerCase()=="content-type"),k=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(UL,h,void 0))||w||k||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[L,Y]of f)this.g.setRequestHeader(L,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KS(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){qS(this,L)}};function qS(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,WS(l),nh(l)}function WS(l){l.A||(l.A=!0,pn(l,"complete"),pn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,pn(this,"complete"),pn(this,"abort"),nh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nh(this,!0)),yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?GS(this):this.bb())},n.bb=function(){GS(this)};function GS(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Si(l)!=4||l.Z()!=2)){if(l.u&&Si(l)==4)gS(l.Ea,0,l);else if(pn(l,"readystatechange"),Si(l)==4){l.h=!1;try{let Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var w;if(w=Y===0){var k=String(l.D).match(LS)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),w=!BL.test(k?k.toLowerCase():"")}f=w}if(f)pn(l,"complete"),pn(l,"success");else{l.m=6;try{var L=2<Si(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",WS(l)}}finally{nh(l)}}}}function nh(l,h){if(l.g){KS(l);let f=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||pn(l,"ready");try{f.onreadystatechange=w}catch{}}}function KS(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Si(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Si(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),vL(h)}};function QS(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function $L(l){let h={};l=(l.g&&2<=Si(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(X(l[w]))continue;var f=M(l[w]);let k=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let L=h[k]||[];h[k]=L,L.push(f)}T(h,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ml(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function YS(l){this.Aa=0,this.i=[],this.j=new Cl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ml("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ml("baseRetryDelayMs",5e3,l),this.cb=Ml("retryDelaySeedMs",1e4,l),this.Wa=Ml("forwardChannelMaxRetries",2,l),this.wa=Ml("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new PS(l&&l.concurrentRequestLimit),this.Da=new VL,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=YS.prototype,n.la=8,n.G=1,n.connect=function(l,h,f,w){gn(0),this.W=l,this.H=h||{},f&&w!==void 0&&(this.H.OSID=f,this.H.OAID=w),this.F=this.X,this.I=oT(this,null,this.W),ih(this)};function gy(l){if(ZS(l),l.G==3){var h=l.U++,f=xi(l.I);if(ct(f,"SID",l.K),ct(f,"RID",h),ct(f,"TYPE","terminate"),kl(l,f),h=new co(l,l.j,h),h.L=2,h.v=eh(xi(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=sT(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Zd(h)}iT(l)}function rh(l){l.g&&(_y(l),l.g.cancel(),l.g=null)}function ZS(l){rh(l),l.u&&(a.clearTimeout(l.u),l.u=null),oh(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function ih(l){if(!OS(l.h)&&!l.s){l.s=!0;var h=l.Ga;re||It(),se||(re(),se=!0),Fe.add(h,l),l.B=0}}function zL(l,h){return AS(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=wl(_(l.Ga,l,h),rT(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let k=new co(this,this.j,l),L=this.o;if(this.S&&(L?(L=b(L),D(L,this.S)):L=this.S),this.m!==null||this.O||(k.H=L,L=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var w=this.i[f];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=XS(this,k,h),f=xi(this.I),ct(f,"RID",l),ct(f,"CVER",22),this.D&&ct(f,"X-HTTP-Session-Id",this.D),kl(this,f),L&&(this.O?h="headers="+encodeURIComponent(String(HS(L)))+"&"+h:this.m&&py(f,this.m,L)),fy(this.h,k),this.Ua&&ct(f,"TYPE","init"),this.P?(ct(f,"$req",h),ct(f,"SID","null"),k.T=!0,ly(k,f,null)):ly(k,f,h),this.G=2}}else this.G==3&&(l?JS(this,l):this.i.length==0||OS(this.h)||JS(this))};function JS(l,h){var f;h?f=h.l:f=l.U++;let w=xi(l.I);ct(w,"SID",l.K),ct(w,"RID",f),ct(w,"AID",l.T),kl(l,w),l.m&&l.o&&py(w,l.m,l.o),f=new co(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=XS(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),fy(l.h,f),ly(f,w,h)}function kl(l,h){l.H&&ke(l.H,function(f,w){ct(h,w,f)}),l.l&&FS({},function(f,w){ct(h,w,f)})}function XS(l,h,f){f=Math.min(l.i.length,f);var w=l.l?_(l.l.Na,l.l,l):null;e:{var k=l.i;let L=-1;for(;;){let Y=["count="+f];L==-1?0<f?(L=k[0].g,Y.push("ofs="+L)):L=0:Y.push("ofs="+L);let Je=!0;for(let Qt=0;Qt<f;Qt++){let $e=k[Qt].g,Xt=k[Qt].map;if($e-=L,0>$e)L=Math.max(0,k[Qt].g-100),Je=!1;else try{jL(Xt,Y,"req"+$e+"_")}catch{w&&w(Xt)}}if(Je){w=Y.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,w}function eT(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;re||It(),se||(re(),se=!0),Fe.add(h,l),l.v=0}}function my(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=wl(_(l.Fa,l),rT(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,tT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=wl(_(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gn(10),rh(this),tT(this))};function _y(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function tT(l){l.g=new co(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=xi(l.qa);ct(h,"RID","rpc"),ct(h,"SID",l.K),ct(h,"AID",l.T),ct(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ct(h,"TO",l.ja),ct(h,"TYPE","xmlhttp"),kl(l,h),l.m&&l.o&&py(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=eh(xi(h)),f.m=null,f.P=!0,DS(f,l)}n.Za=function(){this.C!=null&&(this.C=null,rh(this),my(this),gn(19))};function oh(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function nT(l,h){var f=null;if(l.g==h){oh(l),_y(l),l.g=null;var w=2}else if(hy(l.h,h))f=h.D,RS(l.h,h),w=1;else return;if(l.G!=0){if(h.o)if(w==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var k=l.B;w=Kd(),pn(w,new IS(w,f)),ih(l)}else eT(l);else if(k=h.s,k==3||k==0&&0<h.X||!(w==1&&zL(l,h)||w==2&&my(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),k){case 1:cs(l,5);break;case 4:cs(l,10);break;case 3:cs(l,6);break;default:cs(l,2)}}}function rT(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function cs(l,h){if(l.j.info("Error code "+h),h==2){var f=_(l.fb,l),w=l.Xa;let k=!w;w=new as(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Jd(w,"https"),eh(w),k?FL(w.toString(),f):LL(w.toString(),f)}else gn(2);l.G=0,l.l&&l.l.sa(h),iT(l),ZS(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function iT(l){if(l.G=0,l.ka=[],l.l){let h=NS(l.h);(h.length!=0||l.i.length!=0)&&(R(l.ka,h),R(l.ka,l.i),l.h.i.length=0,P(l.i),l.i.length=0),l.l.ra()}}function oT(l,h,f){var w=f instanceof as?xi(f):new as(f);if(w.g!="")h&&(w.g=h+"."+w.g),Xd(w,w.s);else{var k=a.location;w=k.protocol,h=h?h+"."+k.hostname:k.hostname,k=+k.port;var L=new as(null);w&&Jd(L,w),h&&(L.g=h),k&&Xd(L,k),f&&(L.l=f),w=L}return f=l.D,h=l.ya,f&&h&&ct(w,f,h),ct(w,"VER",l.la),kl(l,w),w}function sT(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new yt(new Sl({eb:f})):new yt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function aT(){}n=aT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function sh(){}sh.prototype.g=function(l,h){return new Fn(l,h)};function Fn(l,h){Jt.call(this),this.g=new YS(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!X(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!X(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ca(this)}E(Fn,Jt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){gy(this.g)},Fn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=ry(l),l=f);h.i.push(new SL(h.Ya++,l)),h.G==3&&ih(h)},Fn.prototype.N=function(){this.g.l=null,delete this.j,gy(this.g),delete this.g,Fn.aa.N.call(this)};function cT(l){oy.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(cT,oy);function lT(){sy.call(this),this.status=1}E(lT,sy);function Ca(l){this.g=l}E(Ca,aT),Ca.prototype.ua=function(){pn(this.g,"a")},Ca.prototype.ta=function(l){pn(this.g,new cT(l))},Ca.prototype.sa=function(l){pn(this.g,new lT)},Ca.prototype.ra=function(){pn(this.g,"b")},sh.prototype.createWebChannel=sh.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,qb=Yi.createWebChannelTransport=function(){return new sh},Hb=Yi.getStatEventTarget=function(){return Kd()},zb=Yi.Event=os,Dg=Yi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qd.NO_ERROR=0,Qd.TIMEOUT=8,Qd.HTTP_ERROR=6,rd=Yi.ErrorCode=Qd,xS.COMPLETE="complete",$b=Yi.EventType=xS,wS.EventType=yl,yl.OPEN="a",yl.CLOSE="b",yl.ERROR="c",yl.MESSAGE="d",Jt.prototype.listen=Jt.prototype.K,Dc=Yi.WebChannel=wS,Zz=Yi.FetchXmlHttpFactory=Sl,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,Ub=Yi.XhrIo=yt}).apply(typeof Tg<"u"?Tg:typeof self<"u"?self:typeof window<"u"?window:{});var OA="@firebase/firestore",AA="4.7.17";var Ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");var Zc="11.9.0";var ra=new ii("@firebase/firestore");function Mc(){return ra.logLevel}function ee(n,...e){if(ra.logLevel<=Le.DEBUG){let t=e.map(OI);ra.debug(`Firestore (${Zc}): ${n}`,...t)}}function Zi(n,...e){if(ra.logLevel<=Le.ERROR){let t=e.map(OI);ra.error(`Firestore (${Zc}): ${n}`,...t)}}function Fc(n,...e){if(ra.logLevel<=Le.WARN){let t=e.map(OI);ra.warn(`Firestore (${Zc}): ${n}`,...t)}}function OI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ue(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,bR(n,r,t)}function bR(n,e,t){let r=`FIRESTORE (${Zc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Zi(r),new Error(r)}function Ge(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||bR(e,i,r)}function ve(n,e){return n}var H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ie=class extends Wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ci=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Ng=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Yb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}},Zb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Jb=class{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ci,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>C(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ci)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new Ng(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}},Xb=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},eE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Xb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Fg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},tE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);let r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fg(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Jz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function ER(){return new TextEncoder}var Lg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Jz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Re(n,e){return n<e?-1:n>e?1:0}function nE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Re(r,i);{let o=ER(),s=Xz(o.encode(RA(n,t)),o.encode(RA(e,t)));return s!==0?s:Re(r,i)}}t+=r>65535?2:1}return Re(n.length,e.length)}function RA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Xz(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Re(n[t],e[t]);return Re(n.length,e.length)}function Lc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var NA=-62135596800,FA=1e6,Ut=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*FA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<NA)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FA}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-NA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ie=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ut(0,0))}static max(){return new n(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var LA="__name__",Vg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Re(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):nE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}},bt=class n extends Vg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},eH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kn=class n extends Vg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return eH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LA}static keyField(){return new n([LA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ie(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ie(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var de=class n{constructor(e){this.path=e}static fromPath(e){return new n(bt.fromString(e))}static fromName(e){return new n(bt.fromString(e).popFirst(5))}static empty(){return new n(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new bt(e.slice()))}};var ld=-1,rE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};rE.UNKNOWN_ID=-1;function tH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Ut(t+1,0):new Ut(t,r));return new ia(i,de.empty(),e)}function nH(n){return new ia(n.readTime,n.key,ld)}var ia=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Ie.min(),de.empty(),ld)}static max(){return new n(Ie.max(),de.empty(),ld)}};function rH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=de.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}var iH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",iE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Jc(n){return C(this,null,function*(){if(n.code!==H.FAILED_PRECONDITION||n.message!==iH)throw n;ee("LocalStore","Unexpectedly lost primary lease")})}var G=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function oH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xc(n){return n.name==="IndexedDbTransactionError"}var AI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),RI=-1;function ym(n){return n==null}function ud(n){return n===0&&1/n==-1/0}function sH(n){return typeof n=="number"&&Number.isInteger(n)&&!ud(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var IR="";function aH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VA(e)),e=cH(n.get(t),e);return VA(e)}function cH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case IR:t+="";break;default:t+=o}}return t}function VA(n){return n+IR+""}var lH="remoteDocuments",xR="owner";var SR="mutationQueues";var TR="mutations";var DR="documentMutations",uH="remoteDocumentsV14";var MR="remoteDocumentGlobal";var kR="targets";var PR="targetDocuments";var OR="targetGlobal",AR="collectionParents";var RR="clientMetadata";var NR="bundles";var FR="namedQueries";var dH="indexConfiguration";var hH="indexState";var fH="indexEntries";var LR="documentOverlays";var pH="globals";var gH=[SR,TR,DR,lH,kR,xR,OR,PR,RR,MR,AR,NR,FR],Xce=[...gH,LR],mH=[SR,TR,DR,uH,kR,xR,OR,PR,RR,MR,AR,NR,FR,LR],_H=mH,yH=[..._H,dH,hH,fH];var ele=[...yH,pH];function jA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ko(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Et=class n{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}},Ac=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},li=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}};li.EMPTY=null,li.RED=!0,li.BLACK=!1;li.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new li(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var qt=class n{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jg(this.data.getIterator())}getIteratorFrom(e){return new jg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},jg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ar=class n{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new n([])}unionWith(e){let t=new qt(Kn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Bg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var hn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bg("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};hn.EMPTY_BYTE_STRING=new hn("");var vH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(n){if(Ge(!!n,39018),typeof n=="string"){let e=0,t=vH.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xi(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}var jR="server_timestamp",BR="__type__",UR="__previous_value__",$R="__local_write_time__";function NI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[BR])===null||t===void 0?void 0:t.stringValue)===jR}function vm(n){let e=n.mapValue.fields[UR];return NI(e)?vm(e):e}function dd(n){let e=Ji(n.mapValue.fields[$R].timestampValue);return new Ut(e.seconds,e.nanos)}var oE=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},Ug="(default)",$g=class n{constructor(e,t){this.projectId=e,this.database=t||Ug}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Ug}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var FI="__type__",zR="__max__",Mg={mapValue:{fields:{__type__:{stringValue:zR}}}},LI="__vector__",Vc="value";function qo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?NI(n)?4:qR(n)?9007199254740991:HR(n)?10:11:ue(28295,{value:n})}function fi(n,e){if(n===e)return!0;let t=qo(n);if(t!==qo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dd(n).isEqual(dd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ji(i.timestampValue),a=Ji(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Xi(i.bytesValue).isEqual(Xi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?ud(s)===ud(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Lc(n.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(jA(s)!==jA(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!fi(s[c],a[c])))return!1;return!0}(n,e);default:return ue(52216,{left:n})}}function hd(n,e){return(n.values||[]).find(t=>fi(t,e))!==void 0}function jc(n,e){if(n===e)return 0;let t=qo(n),r=qo(e);if(t!==r)return Re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ft(o.integerValue||o.doubleValue),c=ft(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return BA(n.timestampValue,e.timestampValue);case 4:return BA(dd(n),dd(e));case 5:return nE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Xi(o),c=Xi(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Re(a[u],c[u]);if(d!==0)return d}return Re(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Re(ft(o.latitude),ft(s.latitude));return a!==0?a:Re(ft(o.longitude),ft(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return UA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let g=o.fields||{},_=s.fields||{},v=(a=g[Vc])===null||a===void 0?void 0:a.arrayValue,E=(c=_[Vc])===null||c===void 0?void 0:c.arrayValue,P=Re(((u=v?.values)===null||u===void 0?void 0:u.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return P!==0?P:UA(v,E)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Mg.mapValue&&s===Mg.mapValue)return 0;if(o===Mg.mapValue)return 1;if(s===Mg.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let g=0;g<c.length&&g<d.length;++g){let _=nE(c[g],d[g]);if(_!==0)return _;let v=jc(a[c[g]],u[d[g]]);if(v!==0)return v}return Re(c.length,d.length)}(n.mapValue,e.mapValue);default:throw ue(23264,{Pe:t})}}function BA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);let t=Ji(n),r=Ji(e),i=Re(t.seconds,r.seconds);return i!==0?i:Re(t.nanos,r.nanos)}function UA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=jc(t[i],r[i]);if(o)return o}return Re(t.length,r.length)}function Bc(n){return sE(n)}function sE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Ji(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return de.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=sE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${sE(t.fields[s])}`;return i+"}"}(n.mapValue):ue(61005,{value:n})}function Og(n){switch(qo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=vm(n);return e?16+Og(e):16;case 5:return 2*n.stringValue.length;case 6:return Xi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Og(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ko(r.fields,(o,s)=>{i+=o.length+Og(s)}),i}(n.mapValue);default:throw ue(13486,{value:n})}}function aE(n){return!!n&&"integerValue"in n}function VI(n){return!!n&&"arrayValue"in n}function $A(n){return!!n&&"nullValue"in n}function zA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ag(n){return!!n&&"mapValue"in n}function HR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[FI])===null||t===void 0?void 0:t.stringValue)===LI}function od(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ko(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=od(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=od(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}var nle={mapValue:{fields:{[FI]:{stringValue:LI},[Vc]:{arrayValue:{}}}}};var Gn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ag(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=od(t)}setAll(e){let t=Kn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=od(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Ag(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ag(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ko(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(od(this.value))}};function WR(n){let e=[];return Ko(n.fields,(t,r)=>{let i=new Kn([t]);if(Ag(r)){let o=WR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new ar(e)}var Pr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Ie.min(),Ie.min(),Ie.min(),Gn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Ie.min(),Ie.min(),Gn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Ie.min(),Ie.min(),Gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Uc=class{constructor(e,t){this.position=e,this.inclusive=t}};function HA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=de.comparator(de.fromName(s.referenceValue),t.key):r=jc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function qA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fi(n.position[t],e.position[t]))return!1;return!0}var $c=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function wH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var zg=class{},Bt=class n extends zg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lE(e,t,r):t==="array-contains"?new hE(e,r):t==="in"?new fE(e,r):t==="not-in"?new pE(e,r):t==="array-contains-any"?new gE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new uE(e,r):new dE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(jc(t,this.value)):t!==null&&qo(this.value)===qo(t)&&this.matchesComparison(jc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pi=class n extends zg{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return GR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function GR(n){return n.op==="and"}function KR(n){return CH(n)&&GR(n)}function CH(n){for(let e of n.filters)if(e instanceof pi)return!1;return!0}function cE(n){if(n instanceof Bt)return n.field.canonicalString()+n.op.toString()+Bc(n.value);if(KR(n))return n.filters.map(e=>cE(e)).join(",");{let e=n.filters.map(t=>cE(t)).join(",");return`${n.op}(${e})`}}function QR(n,e){return n instanceof Bt?function(r,i){return i instanceof Bt&&r.op===i.op&&r.field.isEqual(i.field)&&fi(r.value,i.value)}(n,e):n instanceof pi?function(r,i){return i instanceof pi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&QR(s,i.filters[a]),!0):!1}(n,e):void ue(19439)}function YR(n){return n instanceof Bt?function(t){return`${t.field.canonicalString()} ${t.op} ${Bc(t.value)}`}(n):n instanceof pi?function(t){return t.op.toString()+" {"+t.getFilters().map(YR).join(" ,")+"}"}(n):"Filter"}var lE=class extends Bt{constructor(e,t,r){super(e,t,r),this.key=de.fromName(r.referenceValue)}matches(e){let t=de.comparator(e.key,this.key);return this.matchesComparison(t)}},uE=class extends Bt{constructor(e,t){super(e,"in",t),this.keys=ZR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},dE=class extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=ZR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function ZR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>de.fromName(r.referenceValue))}var hE=class extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return VI(t)&&hd(t.arrayValue,this.value)}},fE=class extends Bt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&hd(this.value.arrayValue,t)}},pE=class extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hd(this.value.arrayValue,t)}},gE=class extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!VI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hd(this.value.arrayValue,r))}};var mE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function WA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new mE(n,e,t,r,i,o,s)}function jI(n){let e=ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ym(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bc(r)).join(",")),e.Ie=t}return e.Ie}function BI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qA(n.startAt,e.startAt)&&qA(n.endAt,e.endAt)}function _E(n){return de.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var zc=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function bH(n,e,t,r,i,o,s,a){return new zc(n,e,t,r,i,o,s,a)}function wm(n){return new zc(n)}function GA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function EH(n){return n.collectionGroup!==null}function sd(n){let e=ve(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new qt(Kn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new $c(o,r))}),t.has(Kn.keyField().canonicalString())||e.Ee.push(new $c(Kn.keyField(),r))}return e.Ee}function ui(n){let e=ve(n);return e.de||(e.de=IH(e,sd(n))),e.de}function IH(n,e){if(n.limitType==="F")return WA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new $c(i.field,o)});let t=n.endAt?new Uc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Uc(n.startAt.position,n.startAt.inclusive):null;return WA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yE(n,e,t){return new zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cm(n,e){return BI(ui(n),ui(e))&&n.limitType===e.limitType}function JR(n){return`${jI(ui(n))}|lt:${n.limitType}`}function kc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>YR(i)).join(", ")}]`),ym(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Bc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Bc(i)).join(",")),`Target(${r})`}(ui(n))}; limitType=${n.limitType})`}function bm(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):de.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of sd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=HA(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,sd(r),i)||r.endAt&&!function(s,a,c){let u=HA(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,sd(r),i))}(n,e)}function xH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XR(n){return(e,t)=>{let r=!1;for(let i of sd(n)){let o=SH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function SH(n,e,t){let r=n.field.isKeyField()?de.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?jc(c,u):ue(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:n.dir})}}var eo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return VR(this.inner)}size(){return this.innerSize}};var TH=new Et(de.comparator);function to(){return TH}var eN=new Et(de.comparator);function id(...n){let e=eN;for(let t of n)e=e.insert(t.key,t);return e}function tN(n){let e=eN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ea(){return ad()}function nN(){return ad()}function ad(){return new eo(n=>n.toString(),(n,e)=>n.isEqual(e))}var DH=new Et(de.comparator),MH=new qt(de.comparator);function je(...n){let e=MH;for(let t of n)e=e.add(t);return e}var kH=new qt(Re);function PH(){return kH}function UI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function rN(n){return{integerValue:""+n}}function OH(n,e){return sH(e)?rN(e):UI(n,e)}var Hc=class{constructor(){this._=void 0}};function AH(n,e,t){return n instanceof qc?function(i,o){let s={fields:{[BR]:{stringValue:jR},[$R]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&NI(o)&&(o=vm(o)),o&&(s.fields[UR]=o),{mapValue:s}}(t,e):n instanceof oa?oN(n,e):n instanceof sa?sN(n,e):function(i,o){let s=iN(i,o),a=KA(s)+KA(i.Re);return aE(s)&&aE(i.Re)?rN(a):UI(i.serializer,a)}(n,e)}function RH(n,e,t){return n instanceof oa?oN(n,e):n instanceof sa?sN(n,e):t}function iN(n,e){return n instanceof Wc?function(r){return aE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var qc=class extends Hc{},oa=class extends Hc{constructor(e){super(),this.elements=e}};function oN(n,e){let t=aN(e);for(let r of n.elements)t.some(i=>fi(i,r))||t.push(r);return{arrayValue:{values:t}}}var sa=class extends Hc{constructor(e){super(),this.elements=e}};function sN(n,e){let t=aN(e);for(let r of n.elements)t=t.filter(i=>!fi(i,r));return{arrayValue:{values:t}}}var Wc=class extends Hc{constructor(e,t){super(),this.serializer=e,this.Re=t}};function KA(n){return ft(n.integerValue||n.doubleValue)}function aN(n){return VI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function NH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof oa&&i instanceof oa||r instanceof sa&&i instanceof sa?Lc(r.elements,i.elements,fi):r instanceof Wc&&i instanceof Wc?fi(r.Re,i.Re):r instanceof qc&&i instanceof qc}(n.transform,e.transform)}var vE=class{constructor(e,t){this.version=e,this.transformResults=t}},di=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Rg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Gc=class{};function cN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fd(n.key,di.none()):new aa(n.key,n.data,di.none());{let t=n.data,r=Gn.empty(),i=new qt(Kn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new gi(n.key,r,new ar(i.toArray()),di.none())}}function FH(n,e,t){n instanceof aa?function(i,o,s){let a=i.value.clone(),c=YA(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof gi?function(i,o,s){if(!Rg(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=YA(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(lN(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function cd(n,e,t,r){return n instanceof aa?function(o,s,a,c){if(!Rg(o.precondition,s))return a;let u=o.value.clone(),d=ZA(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof gi?function(o,s,a,c){if(!Rg(o.precondition,s))return a;let u=ZA(o.fieldTransforms,c,s),d=s.data;return d.setAll(lN(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,a){return Rg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function LH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=iN(r.transform,i||null);o!=null&&(t===null&&(t=Gn.empty()),t.set(r.field,o))}return t||null}function QA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lc(r,i,(o,s)=>NH(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var aa=class extends Gc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},gi=class extends Gc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function lN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function YA(n,e,t){let r=new Map;Ge(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,RH(s,a,t[i]))}return r}function ZA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,AH(o,s,e))}return r}var fd=class extends Gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wE=class extends Gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var CE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&FH(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=cd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=cd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=nN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=cN(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&Lc(this.mutations,e.mutations,(t,r)=>QA(t,r))&&Lc(this.baseMutations,e.baseMutations,(t,r)=>QA(t,r))}},bE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ge(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return DH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var EE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var IE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ot,Ue;function VH(n){switch(n){case H.OK:return ue(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return ue(15467,{code:n})}}function uN(n){if(n===void 0)return Zi("GRPC error has no .code"),H.UNKNOWN;switch(n){case Ot.OK:return H.OK;case Ot.CANCELLED:return H.CANCELLED;case Ot.UNKNOWN:return H.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return H.INTERNAL;case Ot.UNAVAILABLE:return H.UNAVAILABLE;case Ot.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Ot.NOT_FOUND:return H.NOT_FOUND;case Ot.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Ot.ABORTED:return H.ABORTED;case Ot.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Ot.DATA_LOSS:return H.DATA_LOSS;default:return ue(39323,{code:n})}}(Ue=Ot||(Ot={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";var JA=null;var jH=new Qi([4294967295,4294967295],0);function XA(n){let e=ER().encode(n),t=new Bb;return t.update(e),new Uint8Array(t.digest())}function eR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qi([t,r],0),new Qi([i,o],0)]}var xE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ta(`Invalid padding: ${t}`);if(r<0)throw new ta(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ta(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ta(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Qi.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Qi.fromNumber(r)));return i.compare(jH)===1&&(i=new Qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=XA(e),[r,i]=eR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=XA(e),[r,i]=eR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ta=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Hg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Ie.min(),i,new Et(Re),to(),je())}},pd=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,je(),je(),je())}};var Rc=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},qg=class{constructor(e,t){this.targetId=e,this.Ce=t}},Wg=class{constructor(e,t,r=hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Gg=class{constructor(){this.Fe=0,this.Me=tR(),this.xe=hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=je(),t=je(),r=je();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ue(38017,{changeType:o})}}),new pd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=tR()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},SE=class{constructor(e){this.ze=e,this.je=new Map,this.He=to(),this.Je=kg(),this.Ye=kg(),this.Ze=new Et(Re)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(_E(o))if(r===0){let s=new de(o.path);this.tt(t,s,Pr.newNoDocument(s,Ie.min()))}else Ge(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,u)}JA?.ht(function(d,g,_,v,E){var P,R,K,X,te,he;let ot={localCacheCount:d,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},ke=g.unchangedNames;return ke&&(ot.bloomFilter={applied:E===0,hashCount:(P=ke?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(X=(K=(R=ke?.bits)===null||R===void 0?void 0:R.bitmap)===null||K===void 0?void 0:K.length)!==null&&X!==void 0?X:0,padding:(he=(te=ke?.bits)===null||te===void 0?void 0:te.padding)!==null&&he!==void 0?he:0,mightContain:T=>{var b;return(b=v?.mightContain(T))!==null&&b!==void 0&&b}}),ot}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Xi(r).toUint8Array()}catch(c){if(c instanceof Bg)return Fc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new xE(s,i,o)}catch(c){return Fc(c instanceof ta?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&_E(a.target)){let c=new de(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Pr.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=je();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Hg(e,t,this.Ze,this.He,r);return this.He=to(),this.Je=kg(),this.Ye=kg(),this.Ze=new Et(Re),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Gg,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new qt(Re),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new qt(Re),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||ee("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Gg),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function kg(){return new Et(de.comparator)}function tR(){return new Et(de.comparator)}var BH={asc:"ASCENDING",desc:"DESCENDING"},UH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$H={and:"AND",or:"OR"},TE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function DE(n,e){return n.useProto3Json||ym(e)?e:{value:e}}function Kg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zH(n,e){return Kg(n,e.toTimestamp())}function hi(n){return Ge(!!n,49232),Ie.fromTimestamp(function(t){let r=Ji(t);return new Ut(r.seconds,r.nanos)}(n))}function $I(n,e){return ME(n,e).canonicalString()}function ME(n,e){let t=function(i){return new bt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function hN(n){let e=bt.fromString(n);return Ge(_N(e),10190,{key:e.toString()}),e}function kE(n,e){return $I(n.databaseId,e.path)}function Wb(n,e){let t=hN(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new de(pN(t))}function fN(n,e){return $I(n.databaseId,e)}function HH(n){let e=hN(n);return e.length===4?bt.emptyPath():pN(e)}function PE(n){return new bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pN(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nR(n,e,t){return{name:kE(n,e),fields:t.value.mapValue.fields}}function qH(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Ge(d===void 0||typeof d=="string",58123),hn.fromBase64String(d||"")):(Ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),hn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?H.UNKNOWN:uN(u.code);return new ie(d,u.message||"")}(s);t=new Wg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Wb(n,r.document.name),o=hi(r.document.updateTime),s=r.document.createTime?hi(r.document.createTime):Ie.min(),a=new Gn({mapValue:{fields:r.document.fields}}),c=Pr.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Rc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Wb(n,r.document),o=r.readTime?hi(r.readTime):Ie.min(),s=Pr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Rc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Wb(n,r.document),o=r.removedTargetIds||[];t=new Rc([],o,i,null)}else{if(!("filter"in e))return ue(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new IE(i,o),a=r.targetId;t=new qg(a,s)}}return t}function WH(n,e){let t;if(e instanceof aa)t={update:nR(n,e.key,e.value)};else if(e instanceof fd)t={delete:kE(n,e.key)};else if(e instanceof gi)t={update:nR(n,e.key,e.data),updateMask:tq(e.fieldMask)};else{if(!(e instanceof wE))return ue(16599,{ft:e.type});t={verify:kE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof qc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof sa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wc)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw ue(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:zH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ue(27497)}(n,e.precondition)),t}function GH(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?hi(i.updateTime):hi(o);return s.isEqual(Ie.min())&&(s=hi(o)),new vE(s,i.transformResults||[])}(t,e))):[]}function KH(n,e){return{documents:[fN(n,e.path)]}}function QH(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fN(n,i);let o=function(u){if(u.length!==0)return mN(pi.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(_){return{field:Pc(_.field),direction:JH(_.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=DE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:t,parent:i}}function YH(n){let e=HH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ge(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(g){let _=gN(g);return _ instanceof pi&&KR(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(_=>function(E){return new $c(Oc(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,ym(_)?null:_}(t.limit));let c=null;t.startAt&&(c=function(g){let _=!!g.before,v=g.values||[];return new Uc(v,_)}(t.startAt));let u=null;return t.endAt&&(u=function(g){let _=!g.before,v=g.values||[];return new Uc(v,_)}(t.endAt)),bH(e,i,s,o,a,"F",c,u)}function ZH(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Oc(t.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Oc(t.unaryFilter.field);return Bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Oc(t.unaryFilter.field);return Bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Oc(t.unaryFilter.field);return Bt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(n):n.fieldFilter!==void 0?function(t){return Bt.create(Oc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pi.create(t.compositeFilter.filters.map(r=>gN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(t.compositeFilter.op))}(n):ue(30097,{filter:n})}function JH(n){return BH[n]}function XH(n){return UH[n]}function eq(n){return $H[n]}function Pc(n){return{fieldPath:n.canonicalString()}}function Oc(n){return Kn.fromServerFormat(n.fieldPath)}function mN(n){return n instanceof Bt?function(t){if(t.op==="=="){if(zA(t.value))return{unaryFilter:{field:Pc(t.field),op:"IS_NAN"}};if($A(t.value))return{unaryFilter:{field:Pc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zA(t.value))return{unaryFilter:{field:Pc(t.field),op:"IS_NOT_NAN"}};if($A(t.value))return{unaryFilter:{field:Pc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pc(t.field),op:XH(t.op),value:t.value}}}(n):n instanceof pi?function(t){let r=t.getFilters().map(i=>mN(i));return r.length===1?r[0]:{compositeFilter:{op:eq(t.op),filters:r}}}(n):ue(54877,{filter:n})}function tq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _N(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var gd=class n{constructor(e,t,r,i,o=Ie.min(),s=Ie.min(),a=hn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var OE=class{constructor(e){this.wt=e}};function nq(n){let e=YH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yE(e,e.limit,"L"):e}var Qg=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ft(e.integerValue));else if("doubleValue"in e){let r=ft(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),ud(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Ji(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Xi(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?qR(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):HR(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ue(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Vc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(ft(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),de.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Qg.Wt=new Qg;var AE=class{constructor(){this.Cn=new RE}addToCollectionParentIndex(e,t){return this.Cn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(ia.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}},RE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qt(bt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(bt.comparator)).toArray()}};var rle=new Uint8Array(0);var rR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yN=41943040,sr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(yN,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);var md=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var iR="LruGarbageCollector",rq=1048576;function oR([n,e],[t,r]){let i=Re(n,t);return i===0?Re(e,r):i}var NE=class{constructor(e){this.Er=e,this.buffer=new qt(oR),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();oR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},FE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ee(iR,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xc(t)?ee(iR,"Ignoring IndexedDB error during garbage collection: ",t):yield Jc(t)}yield this.mr(3e5)}))}},LE=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(AI.le);let r=new NE(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(rR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rR):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),Mc()<=Le.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${g} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function iq(n,e){return new LE(n,e)}var VE=class{constructor(){this.changes=new eo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var BE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&cd(r.mutation,i,ar.empty(),Ut.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=je()){let i=ea();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=id();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ea();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,je()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=to(),s=ad(),a=function(){return ad()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof gi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),cd(d.mutation,u,d.mutation.getFieldMask(),Ut.now())):s.set(u.key,ar.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var g;return a.set(u,new jE(d,(g=s.get(u))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ad(),i=new Et((s,a)=>s-a),o=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||ar.empty();d=a.applyToLocalView(u,d),r.set(c,d);let g=(i.get(a.batchId)||je()).add(c);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,g=nN();d.forEach(_=>{if(!o.has(_)){let v=cN(t.get(_),r.get(_));v!==null&&g.set(_,v),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,g))}return G.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):EH(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):G.resolve(ea()),a=ld,c=o;return s.next(u=>G.forEach(u,(d,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(d)?G.resolve():this.remoteDocumentCache.getEntry(e,d).next(_=>{c=c.insert(d,_)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,je())).next(d=>({batchId:a,changes:tN(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new de(t)).next(r=>{let i=id();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=id();return this.indexManager.getCollectionParents(e,o).next(a=>G.forEach(a,c=>{let u=function(g,_){return new zc(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Pr.newInvalidDocument(d)))});let a=id();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&cd(d.mutation,u,ar.empty(),Ut.now()),bm(t,u)&&(a=a.insert(c,u))}),a})}};var UE=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return G.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:hi(i.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:nq(i.bundledQuery),readTime:hi(i.readTime)}}(t)),G.resolve()}};var $E=class{constructor(){this.overlays=new Et(de.comparator),this.Qr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ea();return G.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),G.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){let i=ea(),o=t.length+1,s=new de(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return G.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Et((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=ea(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=ea(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return G.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new EE(t,r));let o=this.Qr.get(t);o===void 0&&(o=je(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var zE=class{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}};var _d=class{constructor(){this.$r=new qt(At.Ur),this.Kr=new qt(At.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new At(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new At(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new de(new bt([])),r=new At(t,e),i=new At(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new de(new bt([])),r=new At(t,e),i=new At(t,e+1),o=je();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new At(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},At=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return de.comparator(e.key,t.key)||Re(e.Zr,t.Zr)}static Wr(e,t){return Re(e.Zr,t.Zr)||de.comparator(e.key,t.key)}};var HE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new qt(At.Ur)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new CE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new At(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(s)}lookupMutationBatch(e,t){return G.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?RI:this.nr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new At(t,0),i=new At(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qt(Re);return t.forEach(i=>{let o=new At(i,0),s=new At(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),G.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;de.isDocumentKey(o)||(o=o.child(""));let s=new At(new de(o),0),a=new qt(Re);return this.Xr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Zr)),!0)},s),G.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ge(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return G.forEach(t.mutations,i=>{let o=new At(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new At(t,0),i=this.Xr.firstAfterOrEqual(r);return G.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var qE=class{constructor(e){this.ii=e,this.docs=function(){return new Et(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():Pr.newInvalidDocument(t))}getEntries(e,t){let r=to();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pr.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=to(),s=t.path,a=new de(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||rH(nH(d),r)<=0||(i.has(d.key)||bm(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ue(9500)}si(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new WE(this)}getSize(e){return G.resolve(this.size)}},WE=class extends VE{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var GE=class{constructor(e){this.persistence=e,this.oi=new eo(t=>jI(t),BI),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new _d,this.targetCount=0,this.ui=md.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),G.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new md(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Tr(t),G.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),G.waitFor(o).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),G.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.ai.containsKey(t))}};var Yg=class{constructor(e,t){this.ci={},this.overlays={},this.li=new AI(0),this.hi=!1,this.hi=!0,this.Pi=new zE,this.referenceDelegate=e(this),this.Ti=new GE(this),this.indexManager=new AE,this.remoteDocumentCache=function(i){return new qE(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new OE(t),this.Ei=new UE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $E,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new HE(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ee("MemoryPersistence","Starting transaction:",e);let i=new KE(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return G.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},KE=class extends iE{constructor(e){super(),this.currentSequenceNumber=e}},QE=class n{constructor(e){this.persistence=e,this.Vi=new _d,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw ue(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),G.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.gi,r=>{let i=de.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,Ie.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return G.or([()=>G.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Zg=class n{constructor(e,t){this.persistence=e,this.yi=new eo(r=>aH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=iq(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return G.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?G.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),G.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Og(e.data.value)),t}Dr(e,t,r){return G.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var YE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=je(),i=je();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var ZE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var JE=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return XP()?8:oH(zt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new ZE;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Mc()<=Le.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",kc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),G.resolve()):(Mc()<=Le.DEBUG&&ee("QueryEngine","Query:",kc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Mc()<=Le.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",kc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(t))):G.resolve())}ws(e,t){if(GA(t))return G.resolve(null);let r=ui(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=yE(t,null,"F"),r=ui(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=je(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.vs(t,a);return this.Cs(t,u,s,c.readTime)?this.ws(e,yE(t,null,"F")):this.Fs(e,u,t,c)}))})))}bs(e,t,r,i){return GA(t)||i.isEqual(Ie.min())?G.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?G.resolve(null):(Mc()<=Le.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kc(t)),this.Fs(e,s,t,tH(i,ld)).next(a=>a))})}vs(e,t){let r=new qt(XR(e));return t.forEach((i,o)=>{bm(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Mc()<=Le.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",kc(t)),this.ys.getDocumentsMatchingQuery(e,t,ia.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var zI="LocalStore",oq=3e8,XE=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Et(Re),this.Os=new eo(o=>jI(o),BI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BE(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function sq(n,e,t,r){return new XE(n,e,t,r)}function vN(n,e){return C(this,null,function*(){let t=ve(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=je();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})})}function aq(n,e){let t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let g=u.batch,_=g.keys(),v=G.resolve();return _.forEach(E=>{v=v.next(()=>d.getEntry(c,E)).next(P=>{let R=u.docVersions.get(E);Ge(R!==null,48541),P.version.compareTo(R)<0&&(g.applyToRemoteDocument(P,u),P.isValidDocument()&&(P.setReadTime(u.commitVersion),d.addEntry(P)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=je();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function wN(n){let e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function cq(n,e){let t=ve(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((d,g)=>{let _=i.get(g);if(!_)return;a.push(t.Ti.removeMatchingKeys(o,d.removedDocuments,g).next(()=>t.Ti.addMatchingKeys(o,d.addedDocuments,g)));let v=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(hn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(g,v),function(P,R,K){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=oq?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(_,v,d)&&a.push(t.Ti.updateTargetData(o,v))});let c=to(),u=je();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(lq(o,s,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(Ie.min())){let d=t.Ti.getLastRemoteSnapshotVersion(o).next(g=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return G.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.xs=i,o))}function lq(n,e,t){let r=je(),i=je();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=to();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ie.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ee(zI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function uq(n,e){let t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=RI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dq(n,e){let t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,G.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new gd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function eI(n,e,t){return C(this,null,function*(){let r=ve(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Xc(s))throw s;ee(zI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function sR(n,e,t){let r=ve(n),i=Ie.min(),o=je();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let g=ve(c),_=g.Os.get(d);return _!==void 0?G.resolve(g.xs.get(_)):g.Ti.getTargetData(u,d)}(r,s,ui(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:Ie.min(),t?o:je())).next(a=>(hq(r,xH(e),a),{documents:a,$s:o})))}function hq(n,e,t){let r=n.Ns.get(e)||Ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Jg=class{constructor(){this.activeTargetIds=PH()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var tI=class{constructor(){this.xo=new Jg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Jg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var nI=class{No(e){}shutdown(){}};var aR="ConnectivityMonitor",Xg=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ee(aR,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){ee(aR,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Pg=null;function rI(){return Pg===null?Pg=function(){return 268435456+Math.round(2147483648*Math.random())}():Pg++,"0x"+Pg.toString(16)}var Gb="RestConnection",fq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},iI=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Ug?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=rI(),a=this.jo(e,t.toUriEncodedString());ee(Gb,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);let{host:u}=new URL(a),d=Ro(u);return this.Jo(e,a,c,r,d).then(g=>(ee(Gb,`Received RPC '${e}' ${s}: `,g),g),g=>{throw Fc(Gb,`RPC '${e}' ${s} failed with error: `,g,"url: ",a,"request:",r),g})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=fq[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var oI=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var dn="WebChannelConnection",sI=class extends iI{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=rI();return new Promise((a,c)=>{let u=new Ub;u.setWithCredentials(!0),u.listenOnce($b.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rd.NO_ERROR:let g=u.getResponseJson();ee(dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case rd.TIMEOUT:ee(dn,`RPC '${e}' ${s} timed out`),c(new ie(H.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:let _=u.getStatus();if(ee(dn,`RPC '${e}' ${s} failed with status:`,_,"response text:",u.getResponseText()),_>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);let E=v?.error;if(E&&E.status&&E.message){let P=function(K){let X=K.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(X)>=0?X:H.UNKNOWN}(E.status);c(new ie(P,E.message))}else c(new ie(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ie(H.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{ee(dn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);ee(dn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}I_(e,t,r){let i=rI(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qb(),a=Hb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");ee(dn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let g=s.createWebChannel(d,c);this.E_(g);let _=!1,v=!1,E=new oI({Zo:R=>{v?ee(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(_||(ee(dn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ee(dn,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},Xo:()=>g.close()}),P=(R,K,X)=>{R.listen(K,te=>{try{X(te)}catch(he){setTimeout(()=>{throw he},0)}})};return P(g,Dc.EventType.OPEN,()=>{v||(ee(dn,`RPC '${e}' stream ${i} transport opened.`),E.__())}),P(g,Dc.EventType.CLOSE,()=>{v||(v=!0,ee(dn,`RPC '${e}' stream ${i} transport closed`),E.u_(),this.d_(g))}),P(g,Dc.EventType.ERROR,R=>{v||(v=!0,Fc(dn,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),E.u_(new ie(H.UNAVAILABLE,"The operation could not be completed")))}),P(g,Dc.EventType.MESSAGE,R=>{var K;if(!v){let X=R.data[0];Ge(!!X,16349);let te=X,he=te?.error||((K=te[0])===null||K===void 0?void 0:K.error);if(he){ee(dn,`RPC '${e}' stream ${i} received error:`,he);let ot=he.status,ke=function(x){let D=Ot[x];if(D!==void 0)return uN(D)}(ot),T=he.message;ke===void 0&&(ke=H.INTERNAL,T="Unknown error status: "+ot+" with message "+he.message),v=!0,E.u_(new ie(ke,T)),g.close()}else ee(dn,`RPC '${e}' stream ${i} received:`,X),E.c_(X)}}),P(a,zb.STAT_EVENT,R=>{R.stat===Dg.PROXY?ee(dn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Dg.NOPROXY&&ee(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function Kb(){return typeof document<"u"?document:null}function Em(n){return new TE(n,!0)}var em=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var cR="PersistentStream",tm=class{constructor(e,t,r,i,o,s,a,c){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new em(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return C(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return C(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return C(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(Zi(t.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new ie(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>C(this,null,function*(){this.state=0,this.start()}))}j_(e){return ee(cR,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ee(cR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},aI=class extends tm{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=qH(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Ie.min():s.readTime?hi(s.readTime):Ie.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=PE(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=_E(c)?{documents:KH(o,c)}:{query:QH(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=dN(o,s.resumeToken);let u=DE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ie.min())>0){a.readTime=Kg(o,s.snapshotVersion.toTimestamp());let u=DE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=ZH(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=PE(this.serializer),t.removeTarget=e,this.Q_(t)}},cI=class extends tm{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=GH(e.writeResults,e.commitTime),r=hi(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=PE(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>WH(this.serializer,r))};this.Q_(t)}};var lI=class{},uI=class extends lI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,ME(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(H.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,ME(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(H.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},dI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Zi(t),this.ua=!1):ee("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var ca="RemoteStore",hI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>C(this,null,function*(){la(this)&&(ee(ca,"Restarting streams for network reachability change."),yield function(c){return C(this,null,function*(){let u=ve(c);u.da.add(4),yield bd(u),u.Va.set("Unknown"),u.da.delete(4),yield Im(u)})}(this))}))}),this.Va=new dI(r,i)}};function Im(n){return C(this,null,function*(){if(la(n))for(let e of n.Aa)yield e(!0)})}function bd(n){return C(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function CN(n,e){let t=ve(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),GI(t)?WI(t):el(t).N_()&&qI(t,e))}function HI(n,e){let t=ve(n),r=el(t);t.Ea.delete(e),r.N_()&&bN(t,e),t.Ea.size===0&&(r.N_()?r.k_():la(t)&&t.Va.set("Unknown"))}function qI(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(n).Z_(e)}function bN(n,e){n.ma.Ke(e),el(n).X_(e)}function WI(n){n.ma=new SE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),el(n).start(),n.Va.ca()}function GI(n){return la(n)&&!el(n).O_()&&n.Ea.size>0}function la(n){return ve(n).da.size===0}function EN(n){n.ma=void 0}function pq(n){return C(this,null,function*(){n.Va.set("Online")})}function gq(n){return C(this,null,function*(){n.Ea.forEach((e,t)=>{qI(n,e)})})}function mq(n,e){return C(this,null,function*(){EN(n),GI(n)?(n.Va.Pa(e),WI(n)):n.Va.set("Unknown")})}function _q(n,e,t){return C(this,null,function*(){if(n.Va.set("Online"),e instanceof Wg&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){ee(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nm(n,r)}else if(e instanceof Rc?n.ma.Xe(e):e instanceof qg?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ie.min()))try{let r=yield wN(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ea.get(u);d&&o.Ea.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ea.get(c);if(!d)return;o.Ea.set(c,d.withResumeToken(hn.EMPTY_BYTE_STRING,d.snapshotVersion)),bN(o,c);let g=new gd(d.target,c,u,d.sequenceNumber);qI(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ee(ca,"Failed to raise snapshot:",r),yield nm(n,r)}})}function nm(n,e,t){return C(this,null,function*(){if(!Xc(e))throw e;n.da.add(1),yield bd(n),n.Va.set("Offline"),t||(t=()=>wN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(null,null,function*(){ee(ca,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield Im(n)}))})}function IN(n,e){return e().catch(t=>nm(n,t,e))}function xm(n){return C(this,null,function*(){let e=ve(n),t=Wo(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:RI;for(;yq(e);)try{let i=yield uq(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,vq(e,i)}catch(i){yield nm(e,i)}xN(e)&&SN(e)})}function yq(n){return la(n)&&n.Ia.length<10}function vq(n,e){n.Ia.push(e);let t=Wo(n);t.N_()&&t.ea&&t.ta(e.mutations)}function xN(n){return la(n)&&!Wo(n).O_()&&n.Ia.length>0}function SN(n){Wo(n).start()}function wq(n){return C(this,null,function*(){Wo(n).ia()})}function Cq(n){return C(this,null,function*(){let e=Wo(n);for(let t of n.Ia)e.ta(t.mutations)})}function bq(n,e,t){return C(this,null,function*(){let r=n.Ia.shift(),i=bE.from(r,e,t);yield IN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield xm(n)})}function Eq(n,e){return C(this,null,function*(){e&&Wo(n).ea&&(yield function(r,i){return C(this,null,function*(){if(function(s){return VH(s)&&s!==H.ABORTED}(i.code)){let o=r.Ia.shift();Wo(r).L_(),yield IN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield xm(r)}})}(n,e)),xN(n)&&SN(n)})}function lR(n,e){return C(this,null,function*(){let t=ve(n);t.asyncQueue.verifyOperationInProgress(),ee(ca,"RemoteStore received new credentials");let r=la(t);t.da.add(3),yield bd(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield Im(t)})}function Iq(n,e){return C(this,null,function*(){let t=ve(n);e?(t.da.delete(2),yield Im(t)):e||(t.da.add(2),yield bd(t),t.Va.set("Unknown"))})}function el(n){return n.fa||(n.fa=function(t,r,i){let o=ve(t);return o.oa(),new aI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:pq.bind(null,n),n_:gq.bind(null,n),i_:mq.bind(null,n),Y_:_q.bind(null,n)}),n.Aa.push(e=>C(null,null,function*(){e?(n.fa.L_(),GI(n)?WI(n):n.Va.set("Unknown")):(yield n.fa.stop(),EN(n))}))),n.fa}function Wo(n){return n.ga||(n.ga=function(t,r,i){let o=ve(t);return o.oa(),new cI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:wq.bind(null,n),i_:Eq.bind(null,n),na:Cq.bind(null,n),ra:bq.bind(null,n)}),n.Aa.push(e=>C(null,null,function*(){e?(n.ga.L_(),yield xm(n)):(yield n.ga.stop(),n.Ia.length>0&&(ee(ca,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var fI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function KI(n,e){if(Zi("AsyncQueue",`${e}: ${n}`),Xc(n))return new ie(H.UNAVAILABLE,`${e}: ${n}`);throw n}var rm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||de.comparator(t.key,r.key):(t,r)=>de.comparator(t.key,r.key),this.keyedMap=id(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var im=class{constructor(){this.pa=new Et(de.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):ue(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},Kc=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,rm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var pI=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},gI=class{constructor(){this.queries=uR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=ve(t),o=i.queries;i.queries=uR(),o.forEach((s,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new ie(H.ABORTED,"Firestore shutting down"))}};function uR(){return new eo(n=>JR(n),Cm)}function TN(n,e){return C(this,null,function*(){let t=ve(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new pI,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=KI(s,`Initialization of query '${kc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&QI(t)})}function DN(n,e){return C(this,null,function*(){let t=ve(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function xq(n,e){let t=ve(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&QI(t)}function Sq(n,e,t){let r=ve(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function QI(n){n.Ca.forEach(e=>{e.next()})}var mI,dR;(dR=mI||(mI={})).xa="default",dR.Cache="cache";var om=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==mI.Cache}};var sm=class{constructor(e){this.key=e}},am=class{constructor(e){this.key=e}},_I=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.Za=XR(e),this.Xa=new rm(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new im,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,g)=>{let _=i.get(d),v=bm(this.query,g)?g:null,E=!!_&&this.mutatedKeys.has(_.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;_&&v?_.data.isEqual(v.data)?E!==P&&(r.track({type:3,doc:v}),R=!0):this.ru(_,v)||(r.track({type:2,doc:v}),R=!0,(c&&this.Za(v,c)>0||u&&this.Za(v,u)<0)&&(a=!0)):!_&&v?(r.track({type:0,doc:v}),R=!0):_&&!v&&(r.track({type:1,doc:_}),R=!0,(c||u)&&(a=!0)),R&&(v?(s=s.add(v),o=P?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((d,g)=>function(v,E){let P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{Vt:R})}};return P(v)-P(E)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Ja;return this.Ja=c,s.length!==0||u?{snapshot:new Kc(this.query,e.Xa,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new im,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=je(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new am(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new sm(r))}),t}au(e){this.Ha=e.$s,this.Ya=je();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Kc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},YI="SyncEngine",yI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},vI=class{constructor(e){this.key=e,this.cu=!1}},wI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new eo(a=>JR(a),Cm),this.Pu=new Map,this.Tu=new Set,this.Iu=new Et(de.comparator),this.Eu=new Map,this.du=new _d,this.Au={},this.Ru=new Map,this.Vu=md.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function Tq(n,e,t=!0){return C(this,null,function*(){let r=RN(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield MN(r,e,t,!0),i})}function Dq(n,e){return C(this,null,function*(){let t=RN(n);yield MN(t,e,!0,!1)})}function MN(n,e,t,r){return C(this,null,function*(){let i=yield dq(n.localStore,ui(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Mq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&CN(n.remoteStore,i),a})}function Mq(n,e,t,r,i){return C(this,null,function*(){n.fu=(g,_,v)=>function(P,R,K,X){return C(this,null,function*(){let te=R.view.tu(K);te.Cs&&(te=yield sR(P.localStore,R.query,!1).then(({documents:T})=>R.view.tu(T,te)));let he=X&&X.targetChanges.get(R.targetId),ot=X&&X.targetMismatches.get(R.targetId)!=null,ke=R.view.applyChanges(te,P.isPrimaryClient,he,ot);return fR(P,R.targetId,ke.ou),ke.snapshot})}(n,g,_,v);let o=yield sR(n.localStore,e,!0),s=new _I(e,o.$s),a=s.tu(o.documents),c=pd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);fR(n,t,u.ou);let d=new yI(e,t,s);return n.hu.set(e,d),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),u.snapshot})}function kq(n,e,t){return C(this,null,function*(){let r=ve(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Cm(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield eI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&HI(r.remoteStore,i.targetId),CI(r,i.targetId)}).catch(Jc))):(CI(r,i.targetId),yield eI(r.localStore,i.targetId,!0))})}function Pq(n,e){return C(this,null,function*(){let t=ve(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),HI(t.remoteStore,r.targetId))})}function Oq(n,e,t){return C(this,null,function*(){let r=jq(n);try{let i=yield function(s,a){let c=ve(s),u=Ut.now(),d=a.reduce((v,E)=>v.add(E.key),je()),g,_;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=to(),P=je();return c.Bs.getEntries(v,d).next(R=>{E=R,E.forEach((K,X)=>{X.isValidDocument()||(P=P.add(K))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(R=>{g=R;let K=[];for(let X of a){let te=LH(X,g.get(X.key).overlayedDocument);te!=null&&K.push(new gi(X.key,te,WR(te.value.mapValue),di.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,K,a)}).next(R=>{_=R;let K=R.applyToLocalDocumentSet(g,P);return c.documentOverlayCache.saveOverlays(v,R.batchId,K)})}).then(()=>({batchId:_.batchId,changes:tN(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Au[s.currentUser.toKey()];u||(u=new Et(Re)),u=u.insert(a,c),s.Au[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Ed(r,i.changes),yield xm(r.remoteStore)}catch(i){let o=KI(i,"Failed to persist write");t.reject(o)}})}function kN(n,e){return C(this,null,function*(){let t=ve(n);try{let r=yield cq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Ge(s.cu,14607):i.removedDocuments.size>0&&(Ge(s.cu,42227),s.cu=!1))}),yield Ed(t,r,e)}catch(r){yield Jc(r)}})}function hR(n,e,t){let r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ve(s);c.onlineState=a;let u=!1;c.queries.forEach((d,g)=>{for(let _ of g.Sa)_.Fa(a)&&(u=!0)}),u&&QI(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Aq(n,e,t){return C(this,null,function*(){let r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Et(de.comparator);s=s.insert(o,Pr.newNoDocument(o,Ie.min()));let a=je().add(o),c=new Hg(Ie.min(),new Map,new Et(Re),s,a);yield kN(r,c),r.Iu=r.Iu.remove(o),r.Eu.delete(e),ZI(r)}else yield eI(r.localStore,e,!1).then(()=>CI(r,e,t)).catch(Jc)})}function Rq(n,e){return C(this,null,function*(){let t=ve(n),r=e.batch.batchId;try{let i=yield aq(t.localStore,e);ON(t,r,null),PN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ed(t,i)}catch(i){yield Jc(i)}})}function Nq(n,e,t){return C(this,null,function*(){let r=ve(n);try{let i=yield function(s,a){let c=ve(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(g=>(Ge(g!==null,37113),d=g.keys(),c.mutationQueue.removeMutationBatch(u,g))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);ON(r,e,t),PN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ed(r,i)}catch(i){yield Jc(i)}})}function PN(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function ON(n,e,t){let r=ve(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function CI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||AN(n,r)})}function AN(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(HI(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),ZI(n))}function fR(n,e,t){for(let r of t)r instanceof sm?(n.du.addReference(r.key,e),Fq(n,r)):r instanceof am?(ee(YI,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||AN(n,r.key)):ue(19791,{pu:r})}function Fq(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(ee(YI,"New document in limbo: "+t),n.Tu.add(r),ZI(n))}function ZI(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new de(bt.fromString(e)),r=n.Vu.next();n.Eu.set(r,new vI(t)),n.Iu=n.Iu.insert(t,r),CN(n.remoteStore,new gd(ui(wm(t.path)),r,"TargetPurposeLimboResolution",AI.le))}}function Ed(n,e,t){return C(this,null,function*(){let r=ve(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,c)=>{s.push(r.fu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let g=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(u){i.push(u);let g=YE.Rs(c.targetId,u);o.push(g)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(c,u){return C(this,null,function*(){let d=ve(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(u,_=>G.forEach(_.ds,v=>d.persistence.referenceDelegate.addReference(g,_.targetId,v)).next(()=>G.forEach(_.As,v=>d.persistence.referenceDelegate.removeReference(g,_.targetId,v)))))}catch(g){if(!Xc(g))throw g;ee(zI,"Failed to update sequence numbers: "+g)}for(let g of u){let _=g.targetId;if(!g.fromCache){let v=d.xs.get(_),E=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(E);d.xs=d.xs.insert(_,P)}}})}(r.localStore,o))})}function Lq(n,e){return C(this,null,function*(){let t=ve(n);if(!t.currentUser.isEqual(e)){ee(YI,"User change. New user:",e.toKey());let r=yield vN(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(c=>{c.reject(new ie(H.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ed(t,r.ks)}})}function Vq(n,e){let t=ve(n),r=t.Eu.get(e);if(r&&r.cu)return je().add(r.key);{let i=je(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function RN(n){let e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Aq.bind(null,e),e.lu.Y_=xq.bind(null,e.eventManager),e.lu.gu=Sq.bind(null,e.eventManager),e}function jq(n){let e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nq.bind(null,e),e}var NN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Em(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return sq(this.persistence,new JE,t.initialUser,this.serializer)}Su(t){return new Yg(QE.fi,this.serializer)}bu(t){return new tI}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),bI=class extends NN{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ge(this.persistence.referenceDelegate instanceof Zg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new FE(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new Yg(r=>Zg.fi(r,t),this.serializer)}};var Bq=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lq.bind(null,this.syncEngine),yield Iq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new gI}()}createDatastore(t){let r=Em(t.databaseInfo.databaseId),i=function(s){return new sI(s)}(t.databaseInfo);return function(s,a,c,u){return new uI(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new hI(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>hR(this.syncEngine,r,0),function(){return Xg.C()?new Xg:new nI}())}createSyncEngine(t,r){return function(o,s,a,c,u,d,g){let _=new wI(o,s,a,c,u,d);return g&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield function(o){return C(this,null,function*(){let s=ve(o);ee(ca,"RemoteStore shutting down."),s.da.add(5),yield bd(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var cm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Go="FirestoreClient",EI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=Lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){ee(Go,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ee(Go,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=KI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Qb(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ee(Go,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(null,null,function*(){r.isEqual(i)||(yield vN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function pR(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Uq(n);ee(Go,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>lR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>lR(e.remoteStore,i)),n._onlineComponents=e})}function Uq(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ee(Go,"Using user provided OfflineComponentProvider");try{yield Qb(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Fc("Error using user provided cache. Falling back to memory cache: "+t),yield Qb(n,new NN)}}else ee(Go,"Using default OfflineComponentProvider"),yield Qb(n,new bI(void 0));return n._offlineComponents})}function FN(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ee(Go,"Using user provided OnlineComponentProvider"),yield pR(n,n._uninitializedComponentsProvider._online)):(ee(Go,"Using default OnlineComponentProvider"),yield pR(n,new Bq))),n._onlineComponents})}function $q(n){return FN(n).then(e=>e.syncEngine)}function II(n){return C(this,null,function*(){let e=yield FN(n),t=e.eventManager;return t.onListen=Tq.bind(null,e.syncEngine),t.onUnlisten=kq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Dq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Pq.bind(null,e.syncEngine),t})}function zq(n,e,t={}){let r=new ci;return n.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return function(o,s,a,c,u){let d=new cm({next:_=>{d.xu(),s.enqueueAndForget(()=>DN(o,g));let v=_.docs.has(a);!v&&_.fromCache?u.reject(new ie(H.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&c&&c.source==="server"?u.reject(new ie(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(_)},error:_=>u.reject(_)}),g=new om(wm(a.path),d,{includeMetadataChanges:!0,Qa:!0});return TN(o,g)}(yield II(n),n.asyncQueue,e,t,r)})),r.promise}function LN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var gR=new Map;function VN(n,e,t){if(!t)throw new ie(H.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Hq(n,e,t,r){if(e===!0&&r===!0)throw new ie(H.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mR(n){if(!de.isDocumentKey(n))throw new ie(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _R(n){if(de.isDocumentKey(n))throw new ie(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ue(12329,{type:typeof n})}function cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=JI(n);throw new ie(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var jN="firestore.googleapis.com",yR=!0,lm=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jN,this.ssl=yR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:yR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rq)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Qc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Yb;switch(r.type){case"firstParty":return new eE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=gR.get(t);r&&(ee("ComponentProvider","Removing Datastore"),gR.delete(t),r.terminate())}(this),Promise.resolve()}};function BN(n,e,t,r={}){var i;n=cr(n,Qc);let o=Ro(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(tg(`https://${c}`),ng("Firestore",!0)),s.host!==jN&&s.host!==c&&Fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!ri(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=Ht.MOCK_USER;else{d=GP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ie(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ht(_)}n._authCredentials=new Zb(new Ng(d,g))}}var um=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},bn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ho=class n extends um{constructor(e,t,r){super(e,t,wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new de(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function UN(n,e,...t){if(n=gt(n),VN("collection","path",e),n instanceof Qc){let r=bt.fromString(e,...t);return _R(r),new Ho(n,null,r)}{if(!(n instanceof bn||n instanceof Ho))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(bt.fromString(e,...t));return _R(r),new Ho(n.firestore,null,r)}}function XI(n,e,...t){if(n=gt(n),arguments.length===1&&(e=Lg.newId()),VN("doc","path",e),n instanceof Qc){let r=bt.fromString(e,...t);return mR(r),new bn(n,null,new de(r))}{if(!(n instanceof bn||n instanceof Ho))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(bt.fromString(e,...t));return mR(r),new bn(n.firestore,n instanceof Ho?n.converter:null,new de(r))}}var vR="AsyncQueue",dm=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new em(this,"async_queue_retry"),this.rc=()=>{let r=Kb();r&&ee(vR,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=Kb();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=Kb();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new ci;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return C(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Xc(e))throw e;ee(vR,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Zi("INTERNAL UNHANDLED ERROR: ",wR(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=fI.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&ue(47125,{cc:wR(this.Xu)})}verifyOperationInProgress(){}lc(){return C(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function wR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function CR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var mi=class extends Qc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new dm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new dm(e),this._firestoreClient=void 0,yield e}})}};function $N(n,e){let t=typeof n=="object"?n:Ws(),r=typeof n=="string"?n:e||Ug,i=bc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=WP("firestore");o&&BN(i,...o)}return i}function ex(n){if(n._terminated)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qq(n),n._firestoreClient}function qq(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,u,d){return new oE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,LN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new EI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var yd=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(hn.fromBase64String(e))}catch(t){throw new ie(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Yc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var vd=class{constructor(e){this._methodName=e}};var wd=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}};var Cd=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Wq=/^__.*__$/,xI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new gi(e,this.data,this.fieldMask,t,this.fieldTransforms):new aa(e,this.data,t,this.fieldTransforms)}},hm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new gi(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function zN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ic:n})}}var SI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return pm(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(zN(this.Ic)&&Wq.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},TI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Em(e)}bc(e,t,r,i=!1){return new SI({Ic:e,methodName:t,wc:r,path:Kn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function tx(n){let e=n._freezeSettings(),t=Em(n._databaseId);return new TI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HN(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);nx("Data must be an object, but it was:",s,r);let a=qN(r,s),c,u;if(o.merge)c=new ar(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let g of o.mergeFields){let _=DI(e,g,t);if(!s.contains(_))throw new ie(H.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);GN(d,_)||d.push(_)}c=new ar(d),u=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,u=s.fieldTransforms;return new xI(new Gn(a),c,u)}var fm=class n extends vd{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Gq(n,e,t,r){let i=n.bc(1,e,t);nx("Data must be an object, but it was:",i,r);let o=[],s=Gn.empty();Ko(r,(c,u)=>{let d=rx(e,c,t);u=gt(u);let g=i.mc(d);if(u instanceof fm)o.push(d);else{let _=Sm(u,g);_!=null&&(o.push(d),s.set(d,_))}});let a=new ar(o);return new hm(s,a,i.fieldTransforms)}function Kq(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[DI(e,r,t)],c=[i];if(o.length%2!=0)throw new ie(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(DI(e,o[_])),c.push(o[_+1]);let u=[],d=Gn.empty();for(let _=a.length-1;_>=0;--_)if(!GN(u,a[_])){let v=a[_],E=c[_];E=gt(E);let P=s.mc(v);if(E instanceof fm)u.push(v);else{let R=Sm(E,P);R!=null&&(u.push(v),d.set(v,R))}}let g=new ar(u);return new hm(d,g,s.fieldTransforms)}function Sm(n,e){if(WN(n=gt(n)))return nx("Unsupported field value:",e,n),qN(n,e);if(n instanceof vd)return function(r,i){if(!zN(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Sm(a,i.fc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ut.fromDate(r);return{timestampValue:Kg(i.serializer,o)}}if(r instanceof Ut){let o=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kg(i.serializer,o)}}if(r instanceof wd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yd)return{bytesValue:dN(i.serializer,r._byteString)};if(r instanceof bn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$I(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cd)return function(s,a){return{mapValue:{fields:{[FI]:{stringValue:LI},[Vc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return UI(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${JI(r)}`)}(n,e)}function qN(n,e){let t={};return VR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(n,(r,i)=>{let o=Sm(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function WN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof wd||n instanceof yd||n instanceof bn||n instanceof vd||n instanceof Cd)}function nx(n,e,t){if(!WN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=JI(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function DI(n,e,t){if((e=gt(e))instanceof Yc)return e._internalPath;if(typeof e=="string")return rx(n,e);throw pm("Field path arguments must be of type string or ",n,!1,void 0,t)}var Qq=new RegExp("[~\\*/\\[\\]]");function rx(n,e,t){if(e.search(Qq)>=0)throw pm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yc(...e.split("."))._internalPath}catch{throw pm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pm(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ie(H.INVALID_ARGUMENT,a+n+c)}function GN(n,e){return n.some(t=>t.isEqual(e))}var gm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(KN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},MI=class extends gm{data(){return super.data()}};function KN(n,e){return typeof e=="string"?rx(n,e):e instanceof Yc?e._internalPath:e._delegate._internalPath}function Yq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ie(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kI=class{convertValue(e,t="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ko(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Vc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ft(s.doubleValue));return new Cd(o)}convertGeoPoint(e){return new wd(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=vm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){let t=Ji(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=bt.fromString(e);Ge(_N(r),9688,{name:e});let i=new $g(r.get(1),r.get(3)),o=new de(r.popFirst(5));return i.isEqual(t)||Zi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function QN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var na=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},mm=class extends gm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(KN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Nc=class extends mm{data(e={}){return super.data(e)}},PI=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nc(this._firestore,this._userDataWriter,r.key,r,new na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Zq(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Zq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:n})}}function YN(n){n=cr(n,bn);let e=cr(n.firestore,mi);return zq(ex(e),n._key).then(t=>n2(e,n,t))}var _m=class extends kI{constructor(e){super(),this.firestore=e}convertBytes(e){return new yd(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}};function ZN(n,e,t){n=cr(n,bn);let r=cr(n.firestore,mi),i=QN(n.converter,e,t);return Tm(r,[HN(tx(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,di.none())])}function JN(n,e,t,...r){n=cr(n,bn);let i=cr(n.firestore,mi),o=tx(i),s;return s=typeof(e=gt(e))=="string"||e instanceof Yc?Kq(o,"updateDoc",n._key,e,t,r):Gq(o,"updateDoc",n._key,e),Tm(i,[s.toMutation(n._key,di.exists(!0))])}function XN(n){return Tm(cr(n.firestore,mi),[new fd(n._key,di.none())])}function e2(n,e){let t=cr(n.firestore,mi),r=XI(n),i=QN(n.converter,e);return Tm(t,[HN(tx(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then(()=>r)}function t2(n,...e){var t,r,i;n=gt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||CR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(CR(e[s])){let g=e[s];e[s]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[s+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,u,d;if(n instanceof bn)u=cr(n.firestore,mi),d=wm(n._key.path),c={next:g=>{e[s]&&e[s](n2(u,n,g))},error:e[s+1],complete:e[s+2]};else{let g=cr(n,um);u=cr(g.firestore,mi),d=g._query;let _=new _m(u);c={next:v=>{e[s]&&e[s](new PI(u,_,g,v))},error:e[s+1],complete:e[s+2]},Yq(n._query)}return function(_,v,E,P){let R=new cm(P),K=new om(v,R,E);return _.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return TN(yield II(_),K)})),()=>{R.xu(),_.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return DN(yield II(_),K)}))}}(ex(u),d,a,c)}function Tm(n,e){return function(r,i){let o=new ci;return r.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return Oq(yield $q(r),i,o)})),o.promise}(ex(n),e)}function n2(n,e,t){let r=t.docs.get(e._key),i=new _m(n);return new mm(n,i,e._key,r,new na(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Zc=i})(Fo),Mr(new Cn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new mi(new Jb(r.getProvider("auth-internal")),new tE(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $g(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ct(OA,AA,e),Ct(OA,AA,"esm2017")})();var Or=class{constructor(e){return e}},r2="firestore",ix=class{constructor(){return Ic(r2)}};var ox=new J("angularfire2.firestore-instances");function Jq(n,e){let t=qu(r2,n,e);return t&&new Or(t)}function Xq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Or(r)}}var eW={provide:ix,deps:[[new yn,ox]]},tW={provide:Or,useFactory:Jq,deps:[[new yn,ox],Hi]};function i2(n,...e){return Ct("angularfire",Lo.full,"fst"),qr([tW,eW,{provide:ox,useFactory:Xq(n),multi:!0,deps:[Oe,lt,Vo,Ks,[new yn,nd],[new yn,xc],...e]}])}var Id=Tt(e2,!0,2);var tl=Tt(UN,!0,2);var xd=Tt(XN,!0,2);var _i=Tt(XI,!0,2);var Dm=Tt(YN,!0);var o2=Tt($N,!0);var Sd=Tt(t2,!0);var sx=Tt(ZN,!0,2);var Td=Tt(JN,!0,2);var Wt=class n{constructor(e,t,r){this.auth=e;this.firestore=t;this.router=r;DA(this.auth,i=>{this.currentUserSubject.next(i),this.authInitialized.value||this.authInitialized.next(!0)})}currentUserSubject=new nt(null);authInitialized=new nt(!1);currentUser$=this.currentUserSubject.asObservable();authInitialized$=this.authInitialized.asObservable();signUp(e,t,r){return C(this,null,function*(){try{let o=(yield Lb(this.auth,e,t)).user;yield jb(o,{displayName:r});let s={uid:o.uid,email:o.email,displayName:r,createdAt:new Date};return yield sx(_i(this.firestore,"users",o.uid),s),{success:!0}}catch(i){return{success:!1,message:this.getErrorMessage(i.code)}}})}signIn(e,t){return C(this,null,function*(){try{return yield Vb(this.auth,e,t),{success:!0}}catch(r){return{success:!1,message:this.getErrorMessage(r.code)}}})}signInAsGuest(){return C(this,null,function*(){try{return yield Vb(this.auth,"guest@join.com","Guest123!"),{success:!0}}catch{try{let r=(yield Lb(this.auth,"guest@join.com","Guest123!")).user;yield jb(r,{displayName:"Guest User"});let i={uid:r.uid,email:r.email,displayName:"Guest User",createdAt:new Date};return yield sx(_i(this.firestore,"users",r.uid),i),{success:!0}}catch(t){return{success:!1,message:this.getErrorMessage(t.code)}}}})}signOutUser(){return C(this,null,function*(){yield MA(this.auth),this.router.navigate(["/login"])})}getCurrentUserData(){return C(this,null,function*(){let e=this.auth.currentUser;if(!e)return null;let t=yield Dm(_i(this.firestore,"users",e.uid));return t.exists()?t.data():null})}isLoggedIn(){return this.auth.currentUser!==null}getCurrentUser(){return this.auth.currentUser}getErrorMessage(e){switch(e){case"auth/user-not-found":return"User not found.";case"auth/wrong-password":return"Wrong password.";case"auth/email-already-in-use":return"Email address is already in use.";case"auth/weak-password":return"Password is too weak.";case"auth/invalid-email":return"Invalid email address.";case"auth/user-disabled":return"User account has been disabled.";case"auth/too-many-requests":return"Too many login attempts. Please try again later.";case"auth/network-request-failed":return"Network error. Please check your internet connection.";default:return"An error occurred. Please try again."}}deleteAccount(){return C(this,null,function*(){let e=this.auth.currentUser;if(!e)return{success:!1,message:"No user is currently signed in."};try{return yield SA(e),{success:!0}}catch(t){return{success:!1,message:this.getErrorMessage(t.code)}}})}static \u0275fac=function(t){return new(t||n)(Z(Xs),Z(Or),Z(qe))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function s2(n){let e=n.value;return typeof e=="string"&&e.trim().length===0?{whitespace:!0}:null}var Rt=class n{constructor(e,t){this.firestore=e;this.authService=t}selectedContactSubject=new nt(null);selectedContact$=this.selectedContactSubject.asObservable();showFormSubject=new nt(!1);showForm$=this.showFormSubject.asObservable();editContactSubject=new nt(null);editContact$=this.editContactSubject.asObservable();avatarColors=["#9C27B0","#2196F3","#FF9800","#4CAF50","#F44336","#00BCD4","#c44314ff","#5191daff","#E91E63","#3F51B5","#b3c511ff","#FF5722","#388E3C","#1976D2","#5c0582ff","#c90d0dff","#c303aaff","#0118acff","#0288D1","#C2185B","#049484ff","#FFA000","#084c6bff","#6bb604ff"];getContactsRef(){return tl(this.firestore,"contacts")}getSingleContactsRef(e){return _i(this.getContactsRef(),e)}getContacts(){return new fe(e=>{let t=this.getContactsRef(),r=Sd(t,i=>{let o=[];i.forEach(s=>{o.push(q({id:s.id},s.data()))}),e.next(o)},i=>{e.error(i)});return()=>r()})}addContact(e){return C(this,null,function*(){try{let t=this.getContactsRef(),r=yield Id(t,e);return q({id:r.id},e)}catch(t){return console.error(t),null}})}updateContact(e,t){return C(this,null,function*(){let r=this.getSingleContactsRef(e);yield Td(r,this.getCleanJson(t)).catch(i=>{console.error(i)})})}getCleanJson(e){return{name:e.name,email:e.email,phone:e.phone}}selectContact(e){this.selectedContactSubject.next(e)}clearSelection(){this.selectedContactSubject.next(null)}showAddForm(){this.showFormSubject.next(!0)}showEditForm(e){this.editContactSubject.next(e),this.showFormSubject.next(!0)}hideForm(){this.showFormSubject.next(!1),this.editContactSubject.next(null)}deleteContact(e){return C(this,null,function*(){yield xd(this.getSingleContactsRef(e)).catch(t=>{console.log(t)})})}getContactColor(e){let t=0;for(let r=0;r<e.length;r++)t+=e.charCodeAt(r);return this.avatarColors[t%this.avatarColors.length]}getInitials(e){if(!e)return"?";let t=e.trim().split(" ");return t.length===1?t[0][0].toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()}getContactById(e){return C(this,null,function*(){let t=this.getSingleContactsRef(e);return Dm(t).then(r=>r.exists()?q({id:r.id},r.data()):null)})}static \u0275fac=function(t){return new(t||n)(Z(Or),Z(Wt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function nW(n,e){n&1&&(m(0,"p",13),y(1,"Me"),p())}function rW(n,e){if(n&1){let t=ce();m(0,"div",7),V("click",function(){let i=U(t).$implicit,o=F(2);return $(o.onContactSelect(i))}),m(1,"div",8),y(2),p(),Q(3,nW,2,0,"p",9),m(4,"div",10)(5,"div",11),y(6),p(),m(7,"div",12),y(8),p()()()}if(n&2){let t=e.$implicit,r=F(2);ze("selected",r.isSelected(t)),I(),kt("background-color",r.contactService.getContactColor(t.name)),I(),Ye(" ",r.contactService.getInitials(t==null?null:t.name)," "),I(),O("ngIf",(t==null?null:t.email)===r.currentUserEmail),I(3),Ye(" ",(t==null?null:t.name)||"Unbekannt"," "),I(2),me((t==null?null:t.email)||"Keine E-Mail")}}function iW(n,e){if(n&1&&(m(0,"div")(1,"h4"),y(2),p(),Q(3,rW,9,8,"div",6),p()),n&2){let t=e.$implicit;I(2),me(t.key),I(),O("ngForOf",t.value)}}var Mm=class n{constructor(e,t){this.contactService=e;this.authService=t}ngOnInit(){this.subscribeToContacts(),this.getCurrentUser()}subscribeToContacts(){this.contactsSubscription=this.contactService.getContacts().subscribe({next:e=>this.handleContactsLoaded(e),error:e=>this.handleContactsError(e)})}handleContactsLoaded(e){if(this.groupedContacts=this.groupByInitial(e),this.currentUserEmail){let t=e.find(r=>r.email===this.currentUserEmail);t&&this.onContactSelect(t)}}handleContactsError(e){console.error("Error loading contacts:",e)}getCurrentUser(){let e=this.authService.getCurrentUser();this.currentUser=e?.displayName||null,this.currentUserEmail=e?.email||null,this.selectionSubscription=this.contactService.selectedContact$.subscribe(t=>this.selectedContact=t)}groupedContacts={};selectedContact=null;currentUserEmail=null;currentUser=null;contactsSubscription=new Be;selectionSubscription=new Be;contactSelected=new oe;ngOnDestroy(){this.contactsSubscription.unsubscribe(),this.selectionSubscription.unsubscribe()}isCurrentUser(e){return typeof e.email=="string"&&e.email===this.currentUserEmail}onContactSelect(e){this.contactService.selectContact(e),this.contactSelected.emit()}isSelected(e){return this.selectedContact?.id===e.id}onAddNewContact(){this.contactService.showAddForm()}groupByInitial(e){return e.filter(r=>r&&r.name).reduce((r,i)=>{let o=i.name.charAt(0).toUpperCase();return r[o]=r[o]||[],r[o].push(i),r[o].sort((s,a)=>s.name.localeCompare(a.name)),r},{})}keyAsc=(e,t)=>e.key.localeCompare(t.key);getInitials(e){return this.contactService.getInitials(e)}static \u0275fac=function(t){return new(t||n)(B(Rt),B(Wt))};static \u0275cmp=Ee({type:n,selectors:[["app-contact-list"]],outputs:{contactSelected:"contactSelected"},decls:8,vars:4,consts:[[1,"contact-list"],[1,"add-button",3,"click"],[4,"ngFor","ngForOf"],[1,"fab-container"],[1,"fab",3,"click"],["src","assets/img/svg/add-person.svg","alt","Add Contact"],["class","contact-entry",3,"selected","click",4,"ngFor","ngForOf"],[1,"contact-entry",3,"click"],[1,"avatar"],["class","active-user",4,"ngIf"],[1,"info"],[1,"name"],[1,"email"],[1,"active-user"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"button",1),V("click",function(){return r.onAddNewContact()}),y(2," Add new contact "),p(),Q(3,iW,4,2,"div",2),sc(4,"keyvalue"),p(),m(5,"div",3)(6,"button",4),V("click",function(){return r.onAddNewContact()}),j(7,"img",5),p()()),t&2&&(I(3),O("ngForOf",tp(4,1,r.groupedContacts,r.keyAsc)))},dependencies:[We,ac,Ke,Mw],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.contact-list[_ngcontent-%COMP%]{width:100%;max-width:456px;height:calc(100dvh - 140px);max-height:none;overflow-y:auto;margin-top:-9px;padding-bottom:80px;background-color:var(--background-light);scrollbar-color:var(--background-default-dark) transparent}.contact-list[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{cursor:pointer;height:56px;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);gap:8px;border-radius:10px;border:unset;background-color:unset;background-color:var(--background-dark);color:var(--text-color-light);font-family:Inter;font-weight:700;font-size:clamp(18px,.27vw + 17.14px,21px);width:calc(100% - clamp(12px,3vw,24px));max-width:352px;height:clamp(48px,12vw,56px);margin-top:22.5px;display:flex;align-items:center;justify-content:center;gap:clamp(12px,2.5vw,16px);transition:background-color .2s ease}.contact-list[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:hover{background-color:var(--accent-primary-color)}.contact-list[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:after{content:"";width:clamp(20px,4vw,24px);height:clamp(20px,4vw,24px);background-image:url("./media/add-person-2DBMWLXW.svg");background-size:contain;background-repeat:no-repeat;background-position:center}.contact-list[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:clamp(8px,2vw,16px);font-family:Inter,sans-serif;font-weight:400;font-size:clamp(14px,3vw,20px);color:#000;padding:clamp(8px,1.5vw,17px) clamp(12px,3vw,36px);gap:8px;border-bottom:1px solid var(--background-default-dark);margin-bottom:clamp(4px,1vw,8px);max-width:352px}.contact-list[_ngcontent-%COMP%]   .contact-entry[_ngcontent-%COMP%]{display:flex;align-items:center;margin:clamp(4px,1vw,8px) 0;padding:clamp(8px,1.5vw,15px) clamp(8px,2vw,24px);gap:clamp(12px,2vw,24px);flex-wrap:wrap;position:relative;cursor:pointer;transition:background-color .2s;border-radius:10px}.contact-list[_ngcontent-%COMP%]   .contact-entry[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.contact-list[_ngcontent-%COMP%]   .contact-entry.selected[_ngcontent-%COMP%]{background-color:#2a3647}.contact-list[_ngcontent-%COMP%]   .contact-entry.selected[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#fff}.contact-list[_ngcontent-%COMP%]   .contact-entry.selected[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border:2px solid #ffffff}.contact-list[_ngcontent-%COMP%]   .contact-entry[_ngcontent-%COMP%]   .active-user[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:12px;position:absolute;top:8px;right:8px;color:var(--text-color-dark);border-radius:50%;background-color:var(--background-light);border:2px solid var(--text-color-error);padding:4px}.contact-list[_ngcontent-%COMP%]   .contact-entry[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:45px;background-color:#ccc;display:flex;align-items:center;justify-content:center;margin-right:10px;font-family:Inter,sans-serif;font-weight:400;font-size:12px;color:#fff;border:2px solid transparent;transition:border .2s ease}.contact-list[_ngcontent-%COMP%]   .contact-entry[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:1;min-width:0}.contact-list[_ngcontent-%COMP%]   .contact-entry[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:400;font-size:clamp(14px,3vw,20px);color:#000;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.contact-list[_ngcontent-%COMP%]   .contact-entry[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-weight:400;font-size:clamp(12px,2.5vw,16px);color:#007cee;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 1000px){.contact-list[_ngcontent-%COMP%]{height:calc(100dvh - 190px)}}@media (max-width: 780px){.contact-list[_ngcontent-%COMP%]{width:100%;max-width:none;margin:0}.contact-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.contact-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.contact-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:--background-default-dark;border-radius:4px}.contact-list[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{display:none}.contact-list[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{max-width:none;width:100%}.contact-list[_ngcontent-%COMP%]   .contact-entry[_ngcontent-%COMP%]{width:100%;max-width:none}.fab-container[_ngcontent-%COMP%]{display:block!important;bottom:100px!important;right:20px!important}.fab[_ngcontent-%COMP%]{width:56px;height:56px}.fab[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:21px}}.fab-container[_ngcontent-%COMP%]{position:fixed;bottom:80px;right:20px;z-index:1000;display:none}.fab[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:46px;background-color:#2a3647;border:none;box-shadow:0 4px 12px #0000004d;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.fab[_ngcontent-%COMP%]:hover{background-color:#29abe2;border:none;box-shadow:0 6px 16px #0006;transform:scale(1.1)}.fab[_ngcontent-%COMP%]:active{transform:scale(.95)}.fab[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:21px;filter:brightness(0) invert(1)}']})};var we=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(we||{}),lr="*";function fn(n,e){return{type:we.Trigger,name:n,definitions:e,options:{}}}function ut(n,e=null){return{type:we.Animate,styles:e,timings:n}}function a2(n,e=null){return{type:we.Sequence,steps:n,options:e}}function Ne(n){return{type:we.Style,styles:n,offset:null}}function vi(n,e,t){return{type:we.State,name:n,styles:e,options:t}}function dt(n,e,t=null){return{type:we.Transition,expr:n,animation:e,options:t}}var yi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},ua=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},nl="!";function oW(n,e){if(n&1){let t=ce();m(0,"div",9)(1,"div",10)(2,"div",11)(3,"p"),y(4),p()(),m(5,"div",12)(6,"p"),y(7),p(),m(8,"div",13)(9,"div",14),V("click",function(){U(t);let i=F();return $(i.onEditContact())}),j(10,"img",15)(11,"img",16),m(12,"p"),y(13,"Edit"),p()(),m(14,"div",14),V("click",function(){U(t);let i=F();return $(i.onDeleteContact())}),j(15,"img",17)(16,"img",18),m(17,"p"),y(18,"Delete"),p()()()()(),m(19,"div",19)(20,"h3"),y(21,"Contact Information"),p(),m(22,"div",20)(23,"p",21),y(24,"Email"),p(),m(25,"p",22),y(26),p()(),m(27,"div",23)(28,"p",21),y(29,"Phone"),p(),m(30,"p",22),y(31),p()()()()}if(n&2){let t=F();O("@slideInFromRight",t.animationState)("@.disabled",t.isAnimationDisabled),I(2),kt("background-color",t.getContactColor(t.contact.name)),I(2),me(t.getInitials(t.contact.name)),I(3),me(t.contact.name||"Unbekannt"),I(19),me(t.contact.email||"Keine E-Mail"),I(5),Ye(" ",t.contact.phone||"Keine Telefonnummer"," ")}}function sW(n,e){if(n&1){let t=ce();m(0,"div",24),V("click",function(){U(t);let i=F();return $(i.toggleMobileMenu())}),j(1,"img",25)(2,"img",26),p()}}function aW(n,e){if(n&1){let t=ce();m(0,"div",27)(1,"div",28),V("click",function(){U(t);let i=F();return $(i.onEditContact())}),j(2,"img",15)(3,"img",16),m(4,"p"),y(5,"Edit"),p()(),m(6,"div",28),V("click",function(){U(t);let i=F();return $(i.onDeleteContact())}),j(7,"img",17)(8,"img",18),m(9,"p"),y(10,"Delete"),p()()()}n&2&&O("@slideInOut",void 0)}var km=class n{constructor(e,t){this.contactService=e;this.elementRef=t}contactVisible=!1;contact;animationState=0;isDeleting=!1;isEditing=!1;menuOpen=!1;isMobile=window.innerWidth<768;subscription;firstLoad=!0;backToList=new oe;noContactVisible=new oe;onDocumentClick(e){let t=e.target,r=this.elementRef.nativeElement.querySelector(".mobile-menu"),i=this.elementRef.nativeElement.querySelector(".mobile-options-btn");this.menuOpen&&!r?.contains(t)&&!i?.contains(t)&&(this.menuOpen=!1)}onResize(e){let t=e.target.innerWidth;this.isMobile=t<781,!this.isMobile&&this.menuOpen&&(this.menuOpen=!1)}toggleMobileMenu(){this.isMobile&&(this.menuOpen=!this.menuOpen)}get isAnimationDisabled(){return this.isDeleting||this.isEditing}ngOnInit(){this.subscribeToSelectedContact()}subscribeToSelectedContact(){this.subscription=Mi([this.contactService.selectedContact$,this.contactService.getContacts()]).pipe(xe(([e,t])=>this.resolveSelectedContact(e,t))).subscribe({next:e=>this.handleContactChange(e)})}resolveSelectedContact(e,t){return e?t.find(r=>r.id===e.id)||e:null}handleContactChange(e){let t=!this.contact,r=e&&e!==this.contact;if(this.contact=e||void 0,!e){this.resetContactState();return}r&&this.prepareContactTransition(t)}resetContactState(){this.isDeleting=!1,this.isEditing=!1,this.contactVisible=!1,setTimeout(()=>{this.noContactVisible.emit()},100)}prepareContactTransition(e){this.isEditing=!1,!this.isDeleting&&(this.firstLoad||e)&&(this.contactVisible=!1,setTimeout(()=>{this.contactVisible=!0,this.animationState++,this.firstLoad=!1},10))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}onEditContact(){this.contact&&(this.isEditing=!0,this.contactService.showEditForm(this.contact),this.menuOpen=!1)}onDeleteContact(){this.contact?.id&&(this.isDeleting=!0,this.menuOpen=!1,this.contactService.deleteContact(this.contact.id),this.contactService.clearSelection())}getInitials(e){return this.contactService.getInitials(e)}getContactColor(e){return e?this.contactService.getContactColor(e):"#9E9E9E"}closeContactDetails(){this.contactVisible=!1}onBackToList(){this.backToList.emit()}static \u0275fac=function(t){return new(t||n)(B(Rt),B(wt))};static \u0275cmp=Ee({type:n,selectors:[["app-contact-details"]],hostBindings:function(t,r){t&1&&V("click",function(o){return r.onDocumentClick(o)},!1,xo)("resize",function(o){return r.onResize(o)},!1,Bf)},outputs:{backToList:"backToList",noContactVisible:"noContactVisible"},decls:13,vars:3,consts:[[1,"contact-detail-section"],[1,"contact-detail-content"],[1,"contact-header"],[1,"header-divider"],[1,"mobile-back-btn",3,"click"],["src","assets/img/icons/arrow-left-line.png","alt","Zur\xFCck zur Kontaktliste"],["class","contact-content",4,"ngIf"],["class","mobile-options-btn",3,"click",4,"ngIf"],["class","mobile-menu",4,"ngIf"],[1,"contact-content"],[1,"contact-container"],[1,"user-logo"],[1,"user-name"],[1,"user-options"],[1,"option-item",3,"click"],["src","assets/img/icons/edit-single2.png","alt","Kontakt bearbeiten Icon",1,"default-icon"],["src","assets/img/icons/edit-single-hover.png","alt","Kontakt bearbeiten Icon (Hover)",1,"hover-icon"],["src","assets/img/icons/delete.png","alt","Kontakt l\xF6schen Icon",1,"default-icon"],["src","assets/img/icons/delete-hover.png","alt","Kontakt l\xF6schen Icon (Hover)",1,"hover-icon"],[1,"contact-info"],[1,"contact-item","email-item"],[1,"contact-label"],[1,"contact-value"],[1,"contact-item"],[1,"mobile-options-btn",3,"click"],["src","assets/img/icons/contact-detail-menubtn.png","alt","Kontaktoptionen \xF6ffnen",1,"default-icon"],["src","assets/img/icons/contact-detail-menubtn-light.png","alt","Kontaktoptionen \xF6ffnen (Hover)",1,"hover-icon"],[1,"mobile-menu"],[1,"mobile-option-item",3,"click"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),y(4,"Contacts"),p(),j(5,"div",3),m(6,"p"),y(7,"Better with a team"),p(),m(8,"div",4),V("click",function(){return r.onBackToList()}),j(9,"img",5),p()(),Q(10,oW,32,8,"div",6)(11,sW,3,0,"div",7)(12,aW,11,1,"div",8),p()()),t&2&&(I(10),O("ngIf",r.contact&&r.contactVisible),I(),O("ngIf",r.contact&&r.contactVisible),I(),O("ngIf",r.menuOpen&&r.contact))},dependencies:[We,Ke],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.mobile-back-btn[_ngcontent-%COMP%]{display:none;position:absolute;width:35px;height:35px;top:20px;right:20px;border-radius:50%;transition:background-color .2s,transform .2s;z-index:1;cursor:pointer;justify-content:center;align-items:center}.mobile-back-btn[_ngcontent-%COMP%]:hover{background-color:var(--text-color-medium);transform:scale(1.1)}.mobile-back-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}.mobile-options-btn[_ngcontent-%COMP%]{display:none;position:fixed;bottom:100px;right:20px;cursor:pointer;transition:transform .1s ease}.mobile-options-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:contain}.mobile-options-btn[_ngcontent-%COMP%]   .hover-icon[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0}.mobile-options-btn[_ngcontent-%COMP%]:hover   .default-icon[_ngcontent-%COMP%]{opacity:0}.mobile-options-btn[_ngcontent-%COMP%]:hover   .hover-icon[_ngcontent-%COMP%]{display:block}.mobile-menu[_ngcontent-%COMP%]{position:fixed;bottom:100px;right:20px;flex-direction:column;width:120px;height:auto;background-color:var(--background-light);box-shadow:0 5px 5px #0003;padding:10px;gap:8px;border-radius:20px 20px 0;z-index:99;font-family:Inter;font-weight:400;font-size:16px}.mobile-option-item[_ngcontent-%COMP%]{width:70px;display:flex;align-items:center;gap:6px;cursor:pointer;padding:5px}.mobile-option-item[_ngcontent-%COMP%]   .hover-icon[_ngcontent-%COMP%]{display:none}.mobile-option-item[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:var(--accent-primary-color);font-weight:700}.mobile-option-item[_ngcontent-%COMP%]:hover   .default-icon[_ngcontent-%COMP%]{display:none}.mobile-option-item[_ngcontent-%COMP%]:hover   .hover-icon[_ngcontent-%COMP%]{display:block}.mobile-option-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px}.mobile-option-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-width:fit-content;margin:0;font-family:var(--font-primary);font-size:15px;color:#000;transition:color .2s,font-size .2s}@media (max-width: 780px){.mobile-back-btn[_ngcontent-%COMP%]{display:flex!important}.mobile-options-btn[_ngcontent-%COMP%]{display:block}.mobile-menu[_ngcontent-%COMP%]{display:flex}}.contact-detail-section[_ngcontent-%COMP%]{width:100%;min-height:100vh;margin-top:-17px}.contact-detail-content[_ngcontent-%COMP%]{max-width:1000px;width:100%;margin-left:0;margin-right:auto;display:flex;flex-direction:column;padding-left:clamp(15px,3vw,50px);padding-right:clamp(15px,3vw,50px);min-height:100vh;overflow-y:auto}.contact-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding-top:clamp(40px,8vh,80px);min-height:200px}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:clamp(1.5rem,5vw,3.5rem);font-weight:600;margin:0;color:var(--text-color-dark)}.contact-header[_ngcontent-%COMP%]   .header-divider[_ngcontent-%COMP%]{width:3px;height:clamp(40px,8vh,60px);background-color:var(--accent-primary-color);border-radius:2px}.contact-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:clamp(1rem,3vw,1.5rem);font-weight:400;margin:0;color:#000}.contact-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:clamp(10px,3vw,20px);overflow-x:hidden;width:100%}.contact-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:clamp(10px,3vw,40px)}.user-logo[_ngcontent-%COMP%]{width:clamp(60px,12vw,110px);height:clamp(60px,12vw,110px);display:flex;justify-content:center;align-items:center;border:2px solid white;border-radius:50%}.user-logo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:clamp(18px,4vmin,38px);font-weight:500;color:#fff;text-align:center;width:300px}.user-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;max-width:60%}.user-name[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:clamp(18px,5vw,42px);font-weight:500;margin:0;width:100%;height:auto;overflow-wrap:break-word;word-break:normal;line-break:auto}.user-options[_ngcontent-%COMP%]{display:flex;gap:4px}.user-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{width:70px;display:flex;align-items:center;gap:6px;cursor:pointer;padding:5px}.user-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .hover-icon[_ngcontent-%COMP%]{display:none}.user-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:var(--accent-primary-color);font-weight:700}.user-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:hover   .default-icon[_ngcontent-%COMP%]{display:none}.user-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:hover   .hover-icon[_ngcontent-%COMP%]{display:block}.user-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px}.user-options[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-width:fit-content;margin:0;font-family:var(--font-primary);font-size:15px;color:#000;transition:color .2s,font-size .2s}.contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:clamp(15px,3vw,30px);gap:clamp(10px,2vw,20px)}.contact-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:clamp(14px,2.5vw,18px);font-weight:300;color:#000;margin:0 0 8px}.contact-info[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.contact-info[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   .contact-label[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:clamp(11px,2vw,14px);font-weight:700;color:#000;margin:0}.contact-info[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   .contact-value[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:clamp(11px,2vw,14px);font-weight:400;color:#000;margin:0;word-break:break-all}.contact-info[_ngcontent-%COMP%]   .contact-item.email-item[_ngcontent-%COMP%]   .contact-value[_ngcontent-%COMP%]{color:var(--accent-primary-color)}@media (max-width: 1210px){.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.5rem,2.5vw,3.5rem)}.contact-header[_ngcontent-%COMP%]   .header-divider[_ngcontent-%COMP%]{height:clamp(40px,3vw,60px)}.contact-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(1rem,1.5vw,1.5rem)}.user-name[_ngcontent-%COMP%]{gap:10px}.user-name[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:clamp(18px,2.5vw,42px)}.user-logo[_ngcontent-%COMP%]{width:clamp(60px,8vw,110px);height:clamp(60px,8vw,110px)}.user-logo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(18px,3vmin,38px);font-weight:500}}@media (max-width: 780px){.contact-detail-section[_ngcontent-%COMP%]{width:100vw;min-height:100vh;margin:0;padding:0}.contact-detail-content[_ngcontent-%COMP%]{max-width:none;width:100%;margin:0;padding-left:20px;padding-right:20px;height:calc(100dvh - 180px)}.contact-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px;min-height:auto;width:100%;padding:32px 0}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.contact-header[_ngcontent-%COMP%]   .header-divider[_ngcontent-%COMP%]{display:none}.contact-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;padding-bottom:15px;position:relative;width:auto}.contact-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:60px;height:3px;background-color:var(--accent-primary-color)}.user-options[_ngcontent-%COMP%]{display:none}.contact-content[_ngcontent-%COMP%]{width:100%;gap:25px}.contact-container[_ngcontent-%COMP%]{width:100%;gap:20px}.user-logo[_ngcontent-%COMP%]{width:80px;height:80px}.user-logo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:28px}.user-name[_ngcontent-%COMP%]{gap:15px}.user-name[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:28px}.contact-info[_ngcontent-%COMP%]{width:100%;margin-top:25px;gap:18px}.contact-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}.contact-info[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]{gap:8px}.contact-info[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   .contact-label[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   .contact-value[_ngcontent-%COMP%]{font-size:16px}}'],data:{animation:[fn("slideInFromRight",[dt(":enter",[Ne({transform:"translateX(100%)",opacity:0}),ut("250ms ease-in-out",Ne({transform:"translateX(0%)",opacity:1}))]),dt(":increment",[Ne({transform:"translateX(100%)",opacity:0}),ut("250ms ease-in-out",Ne({transform:"translateX(0%)",opacity:1}))])]),fn("slideInOut",[dt(":enter",[Ne({transform:"translateX(100%)",opacity:0}),ut("200ms ease-out",Ne({transform:"translateX(0)",opacity:1}))]),dt(":leave",[ut("200ms ease-in",Ne({transform:"translateX(100%)",opacity:0}))])])]}})};var m2=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(B(br),B(wt))};static \u0275dir=rt({type:n})}return n})(),_2=(()=>{class n extends m2{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})();static \u0275dir=rt({type:n,features:[er]})}return n})(),Um=new J(""),cW={provide:Um,useExisting:Hr(()=>Rd),multi:!0},Rd=(()=>{class n extends _2{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})();static \u0275dir=rt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ir([cW]),er]})}return n})(),lW={provide:Um,useExisting:Hr(()=>ur),multi:!0};function uW(){let n=nr()?nr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var dW=new J(""),ur=(()=>{class n extends m2{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!uW())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(B(br),B(wt),B(dW,8))};static \u0275dir=rt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&V("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ir([lW]),er]})}return n})();function dx(n){return n==null||hx(n)===0}function hx(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var $m=new J(""),zm=new J(""),hW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,pt=class{static min(e){return fW(e)}static max(e){return pW(e)}static required(e){return gW(e)}static requiredTrue(e){return mW(e)}static email(e){return _W(e)}static minLength(e){return yW(e)}static maxLength(e){return vW(e)}static pattern(e){return wW(e)}static nullValidator(e){return y2()}static compose(e){return I2(e)}static composeAsync(e){return x2(e)}};function fW(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function pW(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function gW(n){return dx(n.value)?{required:!0}:null}function mW(n){return n.value===!0?null:{required:!0}}function _W(n){return dx(n.value)||hW.test(n.value)?null:{email:!0}}function yW(n){return e=>{let t=e.value?.length??hx(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function vW(n){return e=>{let t=e.value?.length??hx(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function wW(n){if(!n)return y2;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(dx(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function y2(n){return null}function v2(n){return n!=null}function w2(n){return So(n)?Xe(n):n}function C2(n){let e={};return n.forEach(t=>{e=t!=null?q(q({},e),t):e}),Object.keys(e).length===0?null:e}function b2(n,e){return e.map(t=>t(n))}function CW(n){return!n.validate}function E2(n){return n.map(e=>CW(e)?e:t=>e.validate(t))}function I2(n){if(!n)return null;let e=n.filter(v2);return e.length==0?null:function(t){return C2(b2(t,e))}}function fx(n){return n!=null?I2(E2(n)):null}function x2(n){if(!n)return null;let e=n.filter(v2);return e.length==0?null:function(t){let r=b2(t,e).map(w2);return Zy(r).pipe(xe(C2))}}function px(n){return n!=null?x2(E2(n)):null}function c2(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function S2(n){return n._rawValidators}function T2(n){return n._rawAsyncValidators}function cx(n){return n?Array.isArray(n)?n:[n]:[]}function Om(n,e){return Array.isArray(n)?n.includes(e):n===e}function l2(n,e){let t=cx(e);return cx(n).forEach(i=>{Om(t,i)||t.push(i)}),t}function u2(n,e){return cx(e).filter(t=>!Om(n,t))}var Am=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=px(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ro=class extends Am{name;get formDirective(){return null}get path(){return null}},da=class extends Am{_parent=null;name=null;valueAccessor=null},Rm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},yde=_e(q({},bW),{"[class.ng-submitted]":"isSubmitted"}),dr=(()=>{class n extends Rm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(B(da,2))};static \u0275dir=rt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ze("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[er]})}return n})(),Zo=(()=>{class n extends Rm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(B(ro,10))};static \u0275dir=rt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ze("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[er]})}return n})();var Dd="VALID",Pm="INVALID",rl="PENDING",Md="DISABLED",Yo=class{},Nm=class extends Yo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Pd=class extends Yo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Od=class extends Yo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},il=class extends Yo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Fm=class extends Yo{source;constructor(e){super(),this.source=e}},Lm=class extends Yo{source;constructor(e){super(),this.source=e}};function gx(n){return(Hm(n)?n.validators:n)||null}function EW(n){return Array.isArray(n)?fx(n):n||null}function mx(n,e){return(Hm(e)?e.asyncValidators:n)||null}function IW(n){return Array.isArray(n)?px(n):n||null}function Hm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function D2(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new W(1e3,"");if(!r[t])throw new W(1001,"")}function M2(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new W(1002,"")})}var ol=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return zn(this.statusReactive)}set status(e){zn(()=>this.statusReactive.set(e))}_status=Rs(()=>this.statusReactive());statusReactive=Gr(void 0);get valid(){return this.status===Dd}get invalid(){return this.status===Pm}get pending(){return this.status==rl}get disabled(){return this.status===Md}get enabled(){return this.status!==Md}errors;get pristine(){return zn(this.pristineReactive)}set pristine(e){zn(()=>this.pristineReactive.set(e))}_pristine=Rs(()=>this.pristineReactive());pristineReactive=Gr(!0);get dirty(){return!this.pristine}get touched(){return zn(this.touchedReactive)}set touched(e){zn(()=>this.touchedReactive.set(e))}_touched=Rs(()=>this.touchedReactive());touchedReactive=Gr(!1);get untouched(){return!this.touched}_events=new ge;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(l2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(l2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(u2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(u2(e,this._rawAsyncValidators))}hasValidator(e){return Om(this._rawValidators,e)}hasAsyncValidator(e){return Om(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(_e(q({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Od(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Od(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(_e(q({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Pd(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Pd(!0,r))}markAsPending(e={}){this.status=rl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new il(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(_e(q({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Md,this.errors=null,this._forEachChild(i=>{i.disable(_e(q({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nm(this.value,r)),this._events.next(new il(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_e(q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Dd,this._forEachChild(r=>{r.enable(_e(q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(_e(q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dd||this.status===rl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nm(this.value,t)),this._events.next(new il(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(_e(q({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Md:Dd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=rl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=w2(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new il(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new oe,this.statusChanges=new oe}_calculateStatus(){return this._allControlsDisabled()?Md:this.errors?Pm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rl)?rl:this._anyControlsHaveStatus(Pm)?Pm:Dd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Pd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Od(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=EW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=IW(this._rawAsyncValidators)}},sl=class extends ol{constructor(e,t,r){super(gx(t),mx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){M2(this,!0,e),Object.keys(e).forEach(r=>{D2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var lx=class extends sl{};var Nd=new J("",{providedIn:"root",factory:()=>qm}),qm="always";function k2(n,e){return[...e.path,n]}function Vm(n,e,t=qm){_x(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),SW(n,e),DW(n,e),TW(n,e),xW(n,e)}function d2(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Bm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xW(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function _x(n,e){let t=S2(n);e.validator!==null?n.setValidators(c2(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=T2(n);e.asyncValidator!==null?n.setAsyncValidators(c2(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();jm(e._rawValidators,i),jm(e._rawAsyncValidators,i)}function Bm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=S2(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=T2(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return jm(e._rawValidators,r),jm(e._rawAsyncValidators,r),t}function SW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&P2(n,e)})}function TW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&P2(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function P2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function DW(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function O2(n,e){n==null,_x(n,e)}function MW(n,e){return Bm(n,e)}function A2(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function kW(n){return Object.getPrototypeOf(n.constructor)===_2}function R2(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function N2(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===ur?t=o:kW(o)?r=o:i=o}),i||r||t||null}function PW(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var OW={provide:ro,useExisting:Hr(()=>yx)},kd=Promise.resolve(),yx=(()=>{class n extends ro{callSetDisabledState;get submitted(){return zn(this.submittedReactive)}_submitted=Rs(()=>this.submittedReactive());submittedReactive=Gr(!1);_directives=new Set;form;ngSubmit=new oe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new sl({},fx(t),px(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){kd.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Vm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){kd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){kd.then(()=>{let r=this._findContainer(t.path),i=new sl({});O2(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){kd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){kd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),R2(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Fm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Lm(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(B($m,10),B(zm,10),B(Nd,8))};static \u0275dir=rt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&V("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ir([OW]),er]})}return n})();function h2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function f2(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ad=class extends ol{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(gx(t),mx(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(f2(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){h2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){h2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){f2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var AW=n=>n instanceof Ad;var RW={provide:da,useExisting:Hr(()=>ha)},p2=Promise.resolve(),ha=(()=>{class n extends da{_changeDetectorRef;callSetDisabledState;control=new Ad;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new oe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=N2(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),A2(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Vm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){p2.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&$n(r);p2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?k2(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(B(ro,9),B($m,10),B(zm,10),B(Um,10),B(Un,8),B(Nd,8))};static \u0275dir=rt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ir([RW]),er,vn]})}return n})();var Jo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var F2=new J("");var NW={provide:ro,useExisting:Hr(()=>fa)},fa=(()=>{class n extends ro{callSetDisabledState;get submitted(){return zn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Rs(()=>this._submittedReactive());_submittedReactive=Gr(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new oe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Vm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){d2(t.control||null,t,!1),PW(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),R2(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Fm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Lm(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(d2(r||null,t),AW(i)&&(Vm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);O2(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&MW(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_x(this.form,this),this._oldForm&&Bm(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(B($m,10),B(zm,10),B(Nd,8))};static \u0275dir=rt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&V("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ir([NW]),er,vn]})}return n})();var FW={provide:da,useExisting:Hr(()=>pa)},pa=(()=>{class n extends da{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new oe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=N2(this,o)}ngOnChanges(t){this._added||this._setUpControl(),A2(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return k2(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(B(ro,13),B($m,10),B(zm,10),B(Um,10),B(F2,8))};static \u0275dir=rt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ir([FW]),er,vn]})}return n})();var L2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=Vn({})}return n})(),ux=class extends ol{constructor(e,t,r){super(gx(t),mx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){M2(this,!1,e),e.forEach((r,i)=>{D2(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function g2(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var al=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return g2(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new sl(i,o)}record(t,r=null){let i=this._reduceControls(t);return new lx(i,r)}control(t,r,i){let o={};return this.useNonNullable?(g2(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ad(t,_e(q({},o),{nonNullable:!0}))):new Ad(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new ux(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Ad)return t;if(t instanceof ol)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Nd,useValue:t.callSetDisabledState??qm}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=Vn({imports:[L2]})}return n})(),cl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:F2,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Nd,useValue:t.callSetDisabledState??qm}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bn({type:n});static \u0275inj=Vn({imports:[L2]})}return n})();var vx=n=>({colorError:n});function LW(n,e){n&1&&(m(0,"h1"),y(1,"Add contact"),p())}function VW(n,e){n&1&&(m(0,"h1"),y(1,"Edit contact"),p())}function jW(n,e){n&1&&(m(0,"p",35),y(1,"Tasks are better with a team!"),p())}function BW(n,e){n&1&&j(0,"img",36)}function UW(n,e){if(n&1&&(m(0,"p",37),y(1),p()),n&2){let t=F();I(),me(t.contactService.getInitials(t.contactToEdit.name))}}function $W(n,e){n&1&&(m(0,"p",38),y(1,"Oops! Please add a name."),p())}function zW(n,e){n&1&&(m(0,"p",38),y(1,"Oops! This email seems invalid or missing."),p())}function HW(n,e){n&1&&(m(0,"p",38),y(1,"Oh! Don\xB4t forget the phone number."),p())}function qW(n,e){if(n&1){let t=ce();m(0,"button",39),V("click",function(){U(t);let i=F();return $(i.onClose())}),y(1," Cancel "),an(),m(2,"svg",2)(3,"mask",3),j(4,"rect",4),p(),m(5,"g",5),j(6,"path",6),p()()()}}function WW(n,e){if(n&1){let t=ce();m(0,"button",40),V("click",function(){U(t);let i=F();return $(i.deleteContact())}),y(1," Delete "),p()}}function GW(n,e){if(n&1&&(m(0,"button",41),y(1," Create contact "),j(2,"img",42),p()),n&2){let t=F();O("disabled",t.contactForm.invalid)}}function KW(n,e){if(n&1&&(m(0,"button",43),y(1," Save "),j(2,"img",42),p()),n&2){let t=F();O("disabled",t.contactForm.invalid)}}var Wm=class n{constructor(e,t){this.form=e;this.contactService=t}addedContact=new oe;closeOverlay=new oe;contactForm;contactToEdit;editContactSubscription;ngOnInit(){this.contactForm=this.form.group({name:["",[pt.required,s2]],email:["",[pt.required,pt.email]],phone:["",[pt.required,pt.min(10),pt.pattern(/^\d+$/)]]}),this.editContactSubscription=this.contactService.editContact$.subscribe(this.getDataToEdit)}getDataToEdit=e=>{this.contactToEdit=e||void 0,this.contactToEdit&&this.contactForm.patchValue({name:this.contactToEdit.name,email:this.contactToEdit.email,phone:this.contactToEdit.phone})};ngOnDestroy(){this.editContactSubscription&&this.editContactSubscription.unsubscribe()}onClose(){this.contactService.hideForm(),this.contactForm.reset(),this.closeOverlay.emit("closed")}onSubmit(){return C(this,null,function*(){if(!this.contactForm.valid)return;let e=this.buildContactFromForm();this.isEditMode()?this.updateContact(e):yield this.addNewContact(e),this.finalizeSubmission()})}buildContactFromForm(){let{name:e,email:t,phone:r}=this.contactForm.value;return{name:e.trim(),email:t.trim(),phone:r.trim()}}isEditMode(){return!!this.contactToEdit?.id}updateContact(e){this.contactToEdit&&this.contactToEdit.id&&this.contactService.updateContact(this.contactToEdit.id,e)}addNewContact(e){return C(this,null,function*(){let t=yield this.contactService.addContact(e);t&&this.addedContact.emit(t)})}finalizeSubmission(){this.clearInputs(),this.onClose()}clearInputs(){this.contactForm.reset()}deleteContact(){this.contactToEdit?.id&&(this.contactService.deleteContact(this.contactToEdit.id),this.onClose())}static \u0275fac=function(t){return new(t||n)(B(al),B(Rt))};static \u0275cmp=Ee({type:n,selectors:[["app-contact-form"]],outputs:{addedContact:"addedContact",closeOverlay:"closeOverlay"},decls:43,vars:24,consts:[[1,"close-btn-wrapper"],[1,"btn-close",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","mask0_331509_883","maskUnits","userSpaceOnUse","x","0","y","0","width","24","height","24",2,"mask-type","alpha"],["width","24","height","24","fill","#D9D9D9"],["mask","url(#mask0_331509_883)"],["d","M12 13.4L7.10005 18.3C6.91672 18.4834 6.68338 18.575 6.40005 18.575C6.11672 18.575 5.88338 18.4834 5.70005 18.3C5.51672 18.1167 5.42505 17.8834 5.42505 17.6C5.42505 17.3167 5.51672 17.0834 5.70005 16.9L10.6 12L5.70005 7.10005C5.51672 6.91672 5.42505 6.68338 5.42505 6.40005C5.42505 6.11672 5.51672 5.88338 5.70005 5.70005C5.88338 5.51672 6.11672 5.42505 6.40005 5.42505C6.68338 5.42505 6.91672 5.51672 7.10005 5.70005L12 10.6L16.9 5.70005C17.0834 5.51672 17.3167 5.42505 17.6 5.42505C17.8834 5.42505 18.1167 5.51672 18.3 5.70005C18.4834 5.88338 18.575 6.11672 18.575 6.40005C18.575 6.68338 18.4834 6.91672 18.3 7.10005L13.4 12L18.3 16.9C18.4834 17.0834 18.575 17.3167 18.575 17.6C18.575 17.8834 18.4834 18.1167 18.3 18.3C18.1167 18.4834 17.8834 18.575 17.6 18.575C17.3167 18.575 17.0834 18.4834 16.9 18.3L12 13.4Z","fill","#2A3647"],[1,"left-frame"],["src","assets/img/logo/logo.png","alt","Join Logo",1,"logo"],[4,"ngIf"],["class","sub-heading",4,"ngIf"],[1,"separator"],[1,"right-frame"],[1,"form-wrapper"],[1,"img-user-wrapper"],["class","img-user","src","assets/img/svg/person.svg","alt","User Image",4,"ngIf"],["class","contact-initials",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group-wrapper"],[1,"form-group",3,"ngClass"],["for","name"],["id","name","type","text","placeholder","Name","formControlName","name"],["src","assets/img/icons/person.png","alt","Person Icon",1,"input-icon"],["class","error-message",4,"ngIf"],["for","email"],["id","email","type","text","placeholder","Email","formControlName","email"],["src","assets/img/icons/mail.png","alt","Mail Icon",1,"input-icon"],["for","phone"],["id","phone","type","text","placeholder","Phone","formControlName","phone"],["src","assets/img/icons/phone.png","alt","Phone Icon",1,"input-icon"],[1,"btn-wrapper"],["class","btn-cancel","type","reset",3,"click",4,"ngIf"],["class","btn-delete",3,"click",4,"ngIf"],["class","btn-save","type","submit",3,"disabled",4,"ngIf"],["class","btn-edit","type","submit",3,"disabled",4,"ngIf"],[1,"sub-heading"],["src","assets/img/svg/person.svg","alt","User Image",1,"img-user"],[1,"contact-initials"],[1,"error-message"],["type","reset",1,"btn-cancel",3,"click"],[1,"btn-delete",3,"click"],["type","submit",1,"btn-save",3,"disabled"],["src","assets/img/icons/check-light.png","alt","Checked Icon"],["type","submit",1,"btn-edit",3,"disabled"]],template:function(t,r){if(t&1&&(m(0,"section")(1,"div",0)(2,"button",1),V("click",function(){return r.onClose()}),an(),m(3,"svg",2)(4,"mask",3),j(5,"rect",4),p(),m(6,"g",5),j(7,"path",6),p()()()(),jn(),m(8,"div",7),j(9,"img",8),Q(10,LW,2,0,"h1",9)(11,VW,2,0,"h1",9)(12,jW,2,0,"p",10),j(13,"div",11),p(),m(14,"div",12)(15,"div",13)(16,"div",14),Q(17,BW,1,0,"img",15)(18,UW,2,1,"p",16),p(),m(19,"form",17),V("ngSubmit",function(){return r.onSubmit()}),m(20,"div",18)(21,"div",19),j(22,"label",20)(23,"input",21)(24,"img",22),p(),Q(25,$W,2,0,"p",23),p(),m(26,"div",18)(27,"div",19),j(28,"label",24)(29,"input",25)(30,"img",26),p(),Q(31,zW,2,0,"p",23),p(),m(32,"div",18)(33,"div",19),j(34,"label",27)(35,"input",28)(36,"img",29),p(),Q(37,HW,2,0,"p",23),p(),m(38,"div",30),Q(39,qW,7,0,"button",31)(40,WW,2,0,"button",32)(41,GW,3,1,"button",33)(42,KW,3,1,"button",34),p()()()()()),t&2){let i,o,s,a,c,u;I(10),O("ngIf",!r.contactToEdit),I(),O("ngIf",r.contactToEdit),I(),O("ngIf",!r.contactToEdit),I(4),kt("background-color",r.contactToEdit?r.contactService.getContactColor(r.contactToEdit.name):"#d1d1d1"),I(),O("ngIf",!r.contactToEdit),I(),O("ngIf",r.contactToEdit),I(),O("formGroup",r.contactForm),I(2),O("ngClass",cn(18,vx,((i=r.contactForm.get("name"))==null?null:i.invalid)&&((i=r.contactForm.get("name"))==null?null:i.touched))),I(4),O("ngIf",((o=r.contactForm.get("name"))==null?null:o.invalid)&&((o=r.contactForm.get("name"))==null?null:o.touched)),I(2),O("ngClass",cn(20,vx,((s=r.contactForm.get("email"))==null?null:s.invalid)&&((s=r.contactForm.get("email"))==null?null:s.touched))),I(4),O("ngIf",((a=r.contactForm.get("email"))==null?null:a.invalid)&&((a=r.contactForm.get("email"))==null?null:a.touched)),I(2),O("ngClass",cn(22,vx,((c=r.contactForm.get("phone"))==null?null:c.invalid)&&((c=r.contactForm.get("phone"))==null?null:c.touched))),I(4),O("ngIf",((u=r.contactForm.get("phone"))==null?null:u.invalid)&&((u=r.contactForm.get("phone"))==null?null:u.touched)),I(2),O("ngIf",!r.contactToEdit),I(),O("ngIf",r.contactToEdit),I(),O("ngIf",!r.contactToEdit),I(),O("ngIf",r.contactToEdit)}},dependencies:[We,Ns,Ke,cl,Jo,ur,dr,Zo,fa,pa,Xo],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}section[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;border-radius:30px;position:relative;flex-wrap:wrap;padding:8px}@media (max-width: 1000px){section[_ngcontent-%COMP%]{padding:0;flex-direction:column;align-items:center;height:760px;max-width:390px;min-width:320px}}@media (max-width: 768px){section[_ngcontent-%COMP%]{height:90dvh}}.left-frame[_ngcontent-%COMP%]{flex:1 1 40%;min-width:315px;width:600px;height:530px;background-color:var(--background-dark);border-radius:30px 0 0 30px;display:flex;flex-direction:column;justify-content:center;padding:clamp(16px,2.86vw + 6.85px,48px);gap:12px;color:var(--text-color-light)}@media (max-width: 1000px){.left-frame[_ngcontent-%COMP%]{border-radius:30px 30px 0 0;width:100%}}@media (max-width: 330px){.left-frame[_ngcontent-%COMP%]{width:95%}}.close-btn-wrapper[_ngcontent-%COMP%]{position:absolute;top:4%;right:45%;translate:50% 0;width:80%;height:fit-content;display:flex;justify-content:flex-end}@media (min-width: 1000px){.close-btn-wrapper[_ngcontent-%COMP%]{width:95%;top:8%;right:51%}}.btn-close[_ngcontent-%COMP%]{cursor:pointer;height:56px;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);gap:8px;border-radius:10px;border:unset;background-color:unset;width:26px;height:26px;padding:0}.btn-close[_ngcontent-%COMP%]:hover{background-color:var(--background-default-light);border-radius:50%}@media (max-width: 1000px){.btn-close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--text-color-light)}.btn-close[_ngcontent-%COMP%]:hover{background-color:var(--accent-primary-color);border-radius:50%}}h1[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:clamp(40px,1.875vw + 34px,61px)}.sub-heading[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:clamp(18px,.8vw + 15.5px,27px)}.logo[_ngcontent-%COMP%]{width:55px;height:65px}@media (max-width: 1000px){.logo[_ngcontent-%COMP%]{display:none}}.separator[_ngcontent-%COMP%]{width:90px;height:3px;background-color:var(--accent-primary-color)}.right-frame[_ngcontent-%COMP%]{flex:1 1 60%;height:530px;width:390px;min-width:315px;display:flex;justify-content:flex-end;align-items:center;padding:clamp(16px,2.86vw + 6.85px,48px);gap:60px;border-radius:0 30px 30px 0;background-color:var(--background-light)}@media (max-width: 1000px){.right-frame[_ngcontent-%COMP%]{border-radius:0 0 30px 30px;position:relative;width:100%}}@media (max-width: 330px){.right-frame[_ngcontent-%COMP%]{width:95%}}.form-wrapper[_ngcontent-%COMP%]{width:100%;height:fit-content;display:flex;justify-content:flex-end;align-items:center;gap:10%}@media (max-width: 1000px){.form-wrapper[_ngcontent-%COMP%]{flex-direction:column;flex:1;justify-content:flex-start}}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:clamp(12px,1.56vw + 7px,32px);flex:1}@media (max-width: 1000px){form[_ngcontent-%COMP%]{margin-top:80px}}@media (max-width: 400px){form[_ngcontent-%COMP%]{margin-top:30px}}.form-group-wrapper[_ngcontent-%COMP%]{height:50px;width:100%}.form-group[_ngcontent-%COMP%]{height:fit-content;width:clamp(350px,6.43vw + 142.6px,422px);border-radius:10px;border:1px solid var(--background-default-dark);padding:clamp(8px,.45vw + 6.56px,13px) clamp(18px,.27vw + 17.14px,21px);display:flex;justify-content:space-between;align-items:center;font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);width:100%}.form-group[_ngcontent-%COMP%]:focus-within{border:1px solid var(--accent-primary-color)}.form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);flex:1}.colorError[_ngcontent-%COMP%]{border:1px solid var(--text-color-error)}.error-message[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:12px;color:var(--text-color-error);display:hidden}input[_ngcontent-%COMP%]:focus{border:unset}.btn-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;height:70px;gap:24px}@media (max-width: 1000px){.btn-wrapper[_ngcontent-%COMP%]{justify-content:center}}.btn-cancel[_ngcontent-%COMP%]{cursor:pointer;height:56px;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);gap:8px;border-radius:10px;border:unset;background-color:unset;border:1px solid var(--background-dark);color:var(--text-color-dark);font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);display:flex;justify-content:center;align-items:center}.btn-cancel[_ngcontent-%COMP%]:hover{color:var(--accent-primary-color);border:1px solid var(--accent-primary-color)}.btn-cancel[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--accent-primary-color)}@media (max-width: 1000px){.btn-cancel[_ngcontent-%COMP%]{display:none}}.btn-save[_ngcontent-%COMP%]{cursor:pointer;height:56px;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);gap:8px;border-radius:10px;border:unset;background-color:unset;background-color:var(--background-dark);color:var(--text-color-light);font-family:Inter;font-weight:700;font-size:clamp(18px,.27vw + 17.14px,21px);display:flex;justify-content:center;align-items:center}.btn-save[_ngcontent-%COMP%]:hover{background-color:var(--accent-primary-color)}.btn-edit[_ngcontent-%COMP%]{cursor:pointer;height:56px;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);gap:8px;border-radius:10px;border:unset;background-color:unset;background-color:var(--background-dark);color:var(--text-color-light);font-family:Inter;font-weight:700;font-size:clamp(18px,.27vw + 17.14px,21px);display:flex;justify-content:center;align-items:center}.btn-edit[_ngcontent-%COMP%]:hover{background-color:var(--accent-primary-color)}.btn-delete[_ngcontent-%COMP%]{cursor:pointer;height:56px;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);gap:8px;border-radius:10px;border:unset;background-color:unset;border:1px solid var(--background-dark);color:var(--text-color-dark);font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);display:flex;justify-content:center;align-items:center}.btn-delete[_ngcontent-%COMP%]:hover{color:var(--accent-primary-color);border:1px solid var(--accent-primary-color)}.btn-save[_ngcontent-%COMP%]:disabled{background-color:var(--background-default-dark);cursor:unset}.img-user-wrapper[_ngcontent-%COMP%]{min-width:120px;height:120px;background-color:var(--background-default-dark);border-radius:50%;display:flex;justify-content:center;align-items:center}@media (max-width: 1000px){.img-user-wrapper[_ngcontent-%COMP%]{border:2px solid var(--background-light);position:absolute;top:0;transform:translateY(-50%);margin-bottom:45px}}@media (max-width: 400px){.img-user-wrapper[_ngcontent-%COMP%]{margin-bottom:0}}.img-user[_ngcontent-%COMP%]{width:64px;height:64px}.contact-initials[_ngcontent-%COMP%]{font-family:Inter;font-weight:500;font-size:clamp(37px,.89vw + 33px,47px);color:var(--text-color-light)}.input-icon[_ngcontent-%COMP%]{width:24px;height:24px}']})};function QW(n,e){if(n&1){let t=ce();m(0,"div",7),V("@slideInOut.done",function(i){U(t);let o=F();return $(o.onOverlayAnimationDone(i))}),m(1,"div",8)(2,"app-contact-form",9),V("addedContact",function(i){U(t);let o=F();return $(o.onContactAdded(i))})("closeOverlay",function(i){U(t);let o=F();return $(o.removeBackground(i))}),p()()()}if(n&2){let t=F();ze("backgroundVisible",t.backgroundVisible),O("@slideInOut",t.animationDirection)}}function YW(n,e){if(n&1&&(m(0,"div",10),y(1,` Contact successfully created
`),p()),n&2){let t=F();O("@slideInOut",t.toastAnimationState)}}var Gm=class n{constructor(e){this.contactService=e;this.showForm$=this.contactService.showForm$}animationDirection="right";toastMessageVisible=!1;toastAnimationState="void";backgroundVisible=!1;showForm$;showContactDetails=!1;ngOnInit(){this.setAnimationDirection(window.innerWidth),window.addEventListener("resize",()=>{this.setAnimationDirection(window.innerWidth)})}onContactAdded(e){this.contactService.selectContact(e),this.onContactSelected(),this.startMessageAnimation()}setAnimationDirection(e){this.animationDirection=e<1e3?"bottom":"right"}startMessageAnimation(){this.toastAnimationState=this.animationDirection,this.toastMessageVisible=!0,setTimeout(()=>{this.toastMessageVisible=!1,this.toastAnimationState="void"},3e3)}removeBackground(e){e==="closed"&&(this.backgroundVisible=!1)}onOverlayAnimationDone(e){(e.toState==="right"||e.toState==="bottom")&&setTimeout(()=>{this.backgroundVisible=!0},50)}onBackToList(){this.showContactDetails=!1}onContactSelected(){this.showContactDetails=!0}onNoContactVisible(){window.innerWidth<768&&(this.showContactDetails=!1)}static \u0275fac=function(t){return new(t||n)(B(Rt))};static \u0275cmp=Ee({type:n,selectors:[["app-contacts"]],decls:8,vars:8,consts:[[1,"contacts-layout"],[1,"contact-list-container"],[3,"contactSelected"],[1,"contact-details-wrapper"],[3,"backToList","noContactVisible"],["class","contact-form-overlay",3,"backgroundVisible",4,"ngIf"],["class","toast-message",4,"ngIf"],[1,"contact-form-overlay"],[1,"max-width-container"],[3,"addedContact","closeOverlay"],[1,"toast-message"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1)(2,"app-contact-list",2),V("contactSelected",function(){return r.onContactSelected()}),p()(),m(3,"div",3)(4,"app-contact-details",4),V("backToList",function(){return r.onBackToList()})("noContactVisible",function(){return r.onNoContactVisible()}),p()()(),Q(5,QW,3,3,"div",5),sc(6,"async"),Q(7,YW,2,1,"div",6)),t&2&&(I(),ze("mobile-hidden",r.showContactDetails),I(2),ze("mobile-visible",r.showContactDetails),I(2),O("ngIf",ek(6,6,r.showForm$)),I(2),O("ngIf",r.toastMessageVisible))},dependencies:[We,Ke,Tw,Mm,km,Wm],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.contacts-layout[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 100px);width:100%;max-width:1440px;overflow:hidden}.contact-list-container[_ngcontent-%COMP%]{flex-shrink:0;width:400px;max-width:1440px;margin-left:0;margin-right:0;padding:12px 8px;overflow:hidden;box-shadow:0 0 4px #8080807f}.contact-details-wrapper[_ngcontent-%COMP%]{flex:1;min-width:0;overflow:hidden}.contact-form-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000;z-index:1000;transition:background-color .3s ease-in-out}.contact-form-overlay.backgroundVisible[_ngcontent-%COMP%]{background-color:#00000080}.max-width-container[_ngcontent-%COMP%]{max-width:1672px;height:100dvh;display:flex;justify-content:center;align-items:center}.toast-message[_ngcontent-%COMP%]{position:fixed;bottom:10%;right:20%;width:300px;height:75px;display:flex;justify-content:center;align-items:center;z-index:1000;font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);color:var(--text-color-light);background-color:var(--background-dark);border-radius:10px}@media (max-width: 780px){.toast-message[_ngcontent-%COMP%]{right:2.5%;bottom:25%}}@media (max-width: 780px) and (min-width: 300px){.contacts-layout[_ngcontent-%COMP%]{justify-content:center;padding:0;width:100%;flex-direction:column}.contact-list-container[_ngcontent-%COMP%]{width:100%;max-width:none;flex:1;overflow-y:auto;height:100%}.contact-list-container.mobile-hidden[_ngcontent-%COMP%]{display:none}.contact-details-wrapper[_ngcontent-%COMP%]{display:none;width:100%;position:relative}.contact-details-wrapper.mobile-visible[_ngcontent-%COMP%]{display:flex;flex:1;width:100%}}'],data:{animation:[fn("slideInOut",[dt("void => right",[Ne({transform:"translateX(100%)",opacity:0}),ut("250ms ease-in-out",Ne({transform:"translateX(0)",opacity:1}))]),dt("right => void",[ut("250ms ease-in-out",Ne({transform:"translateX(100%)",opacity:0}))]),dt("void => bottom",[Ne({transform:"translateY(100%)",opacity:0}),ut("250ms ease-in-out",Ne({transform:"translateY(0)",opacity:1}))]),dt("bottom => void",[ut("250ms ease-in-out",Ne({transform:"translateY(100%)",opacity:0}))])])]}})};var Kt=class n{constructor(e){this.firestore=e}editingTask=null;getTasksRef(){return tl(this.firestore,"tasks")}getSubtasksRef(e){return tl(this.getTasksRef(),e,"subtasks")}getSingleTaskRef(e){return _i(tl(this.firestore,"tasks"),e)}getTasks(){return new fe(e=>{let t=Sd(this.getTasksRef(),r=>{let i=[];r.forEach(o=>{i.push(q({id:o.id},o.data()))}),e.next(i)},r=>{e.error(r)});return()=>t()})}getSubtasks(e){return new fe(t=>{let r=Sd(this.getSubtasksRef(e),i=>{let o=[];i.forEach(s=>{o.push(q({id:s.id},s.data()))}),t.next(o)},i=>t.error(i));return()=>r()})}addTask(e){return C(this,null,function*(){try{let t=this.getTasksRef(),r=yield Id(t,e);return q({id:r.id},e)}catch(t){return console.error("Error adding task:",t),null}})}addSubtask(e,t){return C(this,null,function*(){try{let r=this.getSubtasksRef(e),i=yield Id(r,t);return q({id:i.id},t)}catch(r){return console.error("Error adding subtask:",r),null}})}updateTask(e,t){return C(this,null,function*(){let r=this.getSingleTaskRef(e);yield Td(r,this.getCleanJson(t)).catch(console.error)})}updateSubtask(e,t,r){return C(this,null,function*(){let i=_i(this.firestore,`tasks/${e}/subtasks/${t}`);yield Td(i,this.getCleanJson(r)).catch(console.error)})}deleteSubtask(e,t){return C(this,null,function*(){let r=_i(this.firestore,`tasks/${e}/subtasks/${t}`);yield xd(r).catch(i=>console.error("Error deleting subtask:",i))})}deleteTask(e){return C(this,null,function*(){yield xd(this.getSingleTaskRef(e)).catch(console.error)})}getCleanJson(e){return"category"in e?{title:e.title,description:e.description,date:e.date,priority:e.priority,status:e.status,assignedTo:e.assignedTo,category:e.category}:"isCompleted"in e?{title:e.title,isCompleted:e.isCompleted}:{}}convertDate(e){return e instanceof Ut?this.formatDate(e.toDate()):e instanceof Date?this.formatDate(e):""}formatDate(e){let t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return`${t}/${r}/${i}`}setEditingTask(e){this.editingTask=e}getEditingTask(){return this.editingTask}clearEditingTask(){this.editingTask=null}capitalize(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}static \u0275fac=function(t){return new(t||n)(Z(Or))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function ZW(n,e){if(n&1&&(m(0,"div",5)(1,"div",6)(2,"p",7),y(3),p(),m(4,"p",8),y(5),p()()()),n&2){let t=F();O("@fadeOutGreeting",t.greetingState),I(3),me(t.greeting),I(2),me(t.userName)}}function JW(n,e){if(n&1){let t=ce();m(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12),V("click",function(){U(t);let i=F();return $(i.goToBoard())}),an(),m(4,"svg",13),j(5,"circle",14),m(6,"mask",15),j(7,"rect",16),p(),m(8,"g",17),j(9,"path",18),p()(),jn(),m(10,"div",19)(11,"p",20),y(12),p(),m(13,"p",21),y(14,"To-do"),p()()(),m(15,"div",22),V("click",function(){U(t);let i=F();return $(i.goToBoard())}),an(),m(16,"svg",13),j(17,"circle",23)(18,"path",24),p(),jn(),m(19,"div",19)(20,"p",20),y(21),p(),m(22,"p",21),y(23,"Done"),p()()()(),m(24,"div",25),V("click",function(){U(t);let i=F();return $(i.goToBoard())}),m(25,"div",26),an(),m(26,"svg",27),j(27,"path",28)(28,"path",29),p()(),jn(),m(29,"div",19)(30,"p",20),y(31),p(),m(32,"p",21),y(33,"Urgent"),p()(),j(34,"div",30),m(35,"div",31)(36,"p",32),y(37),sc(38,"date"),p(),m(39,"p",33),y(40,"Upcoming Deadline"),p()()(),m(41,"div",34)(42,"div",35),V("click",function(){U(t);let i=F();return $(i.goToBoard())}),m(43,"div",19)(44,"p",20),y(45),p(),m(46,"p",21),y(47,"Tasks in"),j(48,"br"),y(49,"Board"),p()()(),m(50,"div",36),V("click",function(){U(t);let i=F();return $(i.goToBoard())}),m(51,"div",19)(52,"p",20),y(53),p(),m(54,"p",21),y(55,"Tasks in Progress"),p()()(),m(56,"div",37),V("click",function(){U(t);let i=F();return $(i.goToBoard())}),m(57,"div",19)(58,"p",20),y(59),p(),m(60,"p",21),y(61,"Awaiting Feedback"),p()()()()(),m(62,"div",38)(63,"p",39),y(64),p(),m(65,"p",40),y(66),p()()()}if(n&2){let t=F();I(12),me(t.todoCount),I(9),me(t.doneCount),I(10),me(t.nextDeadlineCount),I(6),me(tp(38,9,t.nextDeadlineDate,"MMMM d, y")),I(8),me(t.totalTaskCount),I(8),me(t.inProgressCount),I(6),me(t.awaitingFeedbackCount),I(5),me(t.greeting),I(2),me(t.userName)}}var Km=class n{constructor(e,t,r){this.taskService=e;this.router=t;this.authService=r}taskList=[];userName="";greetingState="start";showGreeting=!0;isMobile=!1;nextDeadlineDate=null;nextDeadlineCount=0;greeting="";todoCount=0;doneCount=0;inProgressCount=0;awaitingFeedbackCount=0;countTasksByStatus(e,t){return e.filter(r=>r.status===t).length}isFirestoreTimestamp(e){return e&&typeof e.toDate=="function"}get totalTaskCount(){return this.todoCount+this.inProgressCount+this.awaitingFeedbackCount+this.doneCount}getGreeting(){let e=new Date().getHours();return e>=5&&e<12?"Good morning,":e>=12&&e<18?"Good afternoon,":e>=18&&e<23?"Good evening,":"Good night,"}goToBoard(){this.router.navigate(["/board"])}ngOnInit(){this.isMobile=window.innerWidth<1e3,this.loadUserGreeting(),this.loadAndProcessTasks()}loadUserGreeting(){this.authService.getCurrentUserData().then(e=>{this.userName=e?.displayName?.trim()?e.displayName:"Nice to see you!",this.greeting=this.getGreeting();let t=sessionStorage.getItem("greetingShown");this.isMobile&&!t?this.showAnimatedGreeting():this.showGreeting=!1})}showAnimatedGreeting(){this.showGreeting=!0,this.greetingState="start",setTimeout(()=>{this.greetingState="moved",setTimeout(()=>{this.showGreeting=!1,sessionStorage.setItem("greetingShown","true")},2e3)},500)}loadAndProcessTasks(){this.taskService.getTasks().subscribe(e=>{this.taskList=e,this.setTaskCounts(e),this.setNextDeadline(e)})}setTaskCounts(e){this.todoCount=this.countTasksByStatus(e,"to-do"),this.doneCount=this.countTasksByStatus(e,"done"),this.inProgressCount=this.countTasksByStatus(e,"in-progress"),this.awaitingFeedbackCount=this.countTasksByStatus(e,"await-feedback"),this.nextDeadlineCount=e.filter(t=>t.priority==="urgent").length}getFutureTasksWithDateObj(e,t){let r=new Date;return e.filter(i=>i.date&&i.status!=="done").map(i=>{let o=this.parseDate(i.date);return _e(q({},i),{dateObj:o})}).filter(i=>!!i.dateObj&&i.dateObj>r)}getEarliestDate(e){return e.length===0?null:(e.sort((t,r)=>t.dateObj.getTime()-r.dateObj.getTime()),e[0].dateObj)}setNextDeadline(e){let t=this.getFutureTasksWithDateObj(e,this.parseDate.bind(this));this.nextDeadlineDate=this.getEarliestDate(t)}parseDate(e){return e instanceof Date?e:this.isFirestoreTimestamp(e)?e.toDate():typeof e=="string"||typeof e=="number"?new Date(e):null}static \u0275fac=function(t){return new(t||n)(B(Kt),B(qe),B(Wt))};static \u0275cmp=Ee({type:n,selectors:[["app-summary"]],decls:10,vars:2,consts:[[1,"summary-header"],[1,"header-divider"],[1,"mobile-header-divider"],["class","greeting-overlay",4,"ngIf"],["class","content-wrapper",4,"ngIf"],[1,"greeting-overlay"],[1,"greeting-overlay-container"],[1,"greet-overlay"],[1,"user-overlay-name"],[1,"content-wrapper"],[1,"summary-content"],[1,"first-row"],[1,"to-do",3,"click"],["width","70","height","70","viewBox","0 0 70 70","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","35.3945","cy","34.8083","r","34.5","fill","#2a3647",1,"svg-circle"],["id","mask0_62_587","maskUnits","userSpaceOnUse","x","19","y","18","width","33","height","33",2,"mask-type","alpha"],["x","19.3945","y","18.8083","width","32","height","32","fill","#D9D9D9"],["mask","url(#mask0_62_587)"],["d","M26.0612 44.1418H27.9279L39.4279 32.6418L37.5612 30.7751L26.0612 42.2751V44.1418ZM45.1279 30.7084L39.4612 25.1084L41.3279 23.2418C41.839 22.7307 42.4668 22.4751 43.2112 22.4751C43.9556 22.4751 44.5834 22.7307 45.0945 23.2418L46.9612 25.1084C47.4723 25.6195 47.739 26.2362 47.7612 26.9584C47.7834 27.6807 47.539 28.2973 47.0279 28.8084L45.1279 30.7084ZM43.1945 32.6751L29.0612 46.8084H23.3945V41.1418L37.5279 27.0084L43.1945 32.6751Z","fill","white",1,"svg-path"],[1,"info-text"],[1,"counter"],[1,"task-info"],[1,"done",3,"click"],["cx","34.8945","cy","34.8083","r","34.5","fill","#2a3647",1,"svg-circle"],["d","M19.9229 34.8085L31.1516 45.8745L49.8662 23.7424","stroke","white","stroke-width","7","stroke-linecap","round","stroke-linejoin","round",1,"svg-path"],[1,"deadline",3,"click"],[1,"svg-container"],["width","40","height","40","viewBox","0 0 21 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M19.2597 15.4464C19.0251 15.4468 18.7965 15.3719 18.6077 15.2328L10.3556 9.14965L2.10356 15.2328C1.98771 15.3184 1.85613 15.3803 1.71633 15.4151C1.57652 15.4498 1.43124 15.4567 1.28877 15.4354C1.14631 15.414 1.00944 15.3648 0.885997 15.2906C0.762552 15.2164 0.654943 15.1186 0.569314 15.0029C0.483684 14.8871 0.421712 14.7556 0.386936 14.6159C0.352159 14.4762 0.345259 14.331 0.366629 14.1887C0.409788 13.9012 0.565479 13.6425 0.799451 13.4697L9.70356 6.89926C9.89226 6.75967 10.1208 6.68433 10.3556 6.68433C10.5904 6.68433 10.819 6.75967 11.0077 6.89926L19.9118 13.4697C20.0977 13.6067 20.2356 13.7988 20.3057 14.0186C20.3759 14.2385 20.3747 14.4749 20.3024 14.6941C20.2301 14.9133 20.0904 15.1041 19.9031 15.2391C19.7159 15.3742 19.4907 15.4468 19.2597 15.4464Z","fill","white"],["d","M19.2597 9.69733C19.0251 9.69774 18.7965 9.62289 18.6077 9.48379L10.3556 3.40063L2.10356 9.48379C1.86959 9.6566 1.57651 9.72945 1.28878 9.68633C1.00105 9.6432 0.742254 9.48762 0.569318 9.25383C0.396382 9.02003 0.323475 8.72716 0.366634 8.43964C0.409793 8.15213 0.565483 7.89352 0.799455 7.72072L9.70356 1.15024C9.89226 1.01065 10.1208 0.935303 10.3556 0.935303C10.5904 0.935303 10.819 1.01065 11.0077 1.15024L19.9118 7.72072C20.0977 7.85763 20.2356 8.04974 20.3057 8.26962C20.3759 8.4895 20.3747 8.72591 20.3024 8.94509C20.2301 9.16427 20.0904 9.35503 19.9031 9.49012C19.7159 9.62521 19.4907 9.69773 19.2597 9.69733Z","fill","white"],[1,"container-divider"],[1,"deadline-info"],[1,"date"],[1,"text"],[1,"last-row"],[1,"board-tasks",3,"click"],[1,"in-progress",3,"click"],[1,"await-feedback",3,"click"],[1,"greeting-container"],[1,"greet"],[1,"user-name"]],template:function(t,r){t&1&&(m(0,"section")(1,"div",0)(2,"h1"),y(3,"Join 360"),p(),j(4,"div",1),m(5,"p"),y(6,"Key Metrics at a Glance"),p(),j(7,"div",2),p(),Q(8,ZW,6,3,"div",3)(9,JW,67,12,"div",4),p()),t&2&&(I(8),O("ngIf",r.showGreeting&&r.isMobile),I(),O("ngIf",!r.showGreeting||!r.isMobile))},dependencies:[We,Ke,Dw],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}section[_ngcontent-%COMP%]{max-width:1440px;margin-left:54px;margin-right:auto;width:100%;font-family:"inter",var(--font-primary),sans-serif;overflow-x:hidden;overflow-y:auto;scrollbar-color:transparent;height:calc(100dvh - 140px);padding:0 40px}@media (max-width: 1000px){section[_ngcontent-%COMP%]{height:calc(100dvh - 180px);gap:24px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;margin-left:auto;margin-right:auto}}@media (max-width: 600px){section[_ngcontent-%COMP%]{margin-left:0;margin-right:0;max-width:100vw;padding:0 16px}}@media (max-width: 375px){section[_ngcontent-%COMP%]{height:100vh;overflow-y:auto;-webkit-overflow-scrolling:touch}}section[_ngcontent-%COMP%]   .greeting-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;will-change:opacity;background:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column}section[_ngcontent-%COMP%]   .greeting-overlay[_ngcontent-%COMP%]   .greeting-overlay-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}section[_ngcontent-%COMP%]   .greeting-overlay[_ngcontent-%COMP%]   .greeting-overlay-container[_ngcontent-%COMP%]   .greet-overlay[_ngcontent-%COMP%]{font-size:2.75rem;color:var(--text-color-dark)}@media (max-width: 530px){section[_ngcontent-%COMP%]   .greeting-overlay[_ngcontent-%COMP%]   .greeting-overlay-container[_ngcontent-%COMP%]   .greet-overlay[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 385px){section[_ngcontent-%COMP%]   .greeting-overlay[_ngcontent-%COMP%]   .greeting-overlay-container[_ngcontent-%COMP%]   .greet-overlay[_ngcontent-%COMP%]{font-size:1.5rem}}section[_ngcontent-%COMP%]   .greeting-overlay[_ngcontent-%COMP%]   .greeting-overlay-container[_ngcontent-%COMP%]   .user-overlay-name[_ngcontent-%COMP%]{font-size:4rem;color:var(--accent-primary-color)}@media (max-width: 530px){section[_ngcontent-%COMP%]   .greeting-overlay[_ngcontent-%COMP%]   .greeting-overlay-container[_ngcontent-%COMP%]   .user-overlay-name[_ngcontent-%COMP%]{font-size:3rem}}@media (max-width: 385px){section[_ngcontent-%COMP%]   .greeting-overlay[_ngcontent-%COMP%]   .greeting-overlay-container[_ngcontent-%COMP%]   .user-overlay-name[_ngcontent-%COMP%]{font-size:2rem}}@media (min-width: 1000px){section[_ngcontent-%COMP%]   .greeting-overlay[_ngcontent-%COMP%]{display:none!important}}section[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;align-items:center;height:20dvh;width:100%;gap:20px;padding-top:12px}@media (max-width: 750px){section[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;padding-top:24px;margin-bottom:24px;gap:8px}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{margin-bottom:0}}section[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:3.5rem;font-weight:600;margin:0;color:var(--text-color-dark)}section[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .header-divider[_ngcontent-%COMP%]{width:3px;height:62px;background-color:var(--accent-primary-color);border-radius:2px}@media (max-width: 750px){section[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .header-divider[_ngcontent-%COMP%]{display:none}}section[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .mobile-header-divider[_ngcontent-%COMP%]{display:none;width:90px;height:3px;background-color:var(--accent-primary-color);border-radius:2px;margin:8px 0}@media (max-width: 750px){section[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   .mobile-header-divider[_ngcontent-%COMP%]{display:unset}}section[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:1.5rem;font-weight:400;margin:0;color:#000}@media (max-width: 500px){section[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{transform:scale(.85);transform-origin:top center}}section[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}section[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{font-size:3.375rem}section[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{font-size:1.25rem}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{display:flex;gap:64px;height:fit-content}@media (max-width: 1235px){section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{gap:34px}}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;height:calc(80dvh - 160px)}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{width:100%;display:flex;gap:24px}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .to-do[_ngcontent-%COMP%]{width:238px;height:150px;display:flex;justify-content:center;align-items:center;background-color:#fff;border-radius:30px;gap:24px;cursor:pointer;box-shadow:5px 10px 18px #888;transition:all .2s ease-in-out}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .to-do[_ngcontent-%COMP%]:hover{background-color:var(--background-dark);transform:scale(1.1)}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .to-do[_ngcontent-%COMP%]:hover   .svg-circle[_ngcontent-%COMP%]{fill:#fff}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .to-do[_ngcontent-%COMP%]:hover   .svg-path[_ngcontent-%COMP%]{fill:#2a3647}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .to-do[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .to-do[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]{width:238px;height:150px;display:flex;justify-content:center;align-items:center;background-color:#fff;border-radius:30px;gap:24px;cursor:pointer;box-shadow:5px 10px 18px #888;transition:all .2s ease-in-out}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]:hover{background-color:var(--background-dark);transform:scale(1.1)}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]:hover   .svg-circle[_ngcontent-%COMP%]{fill:#fff}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]:hover   .svg-path[_ngcontent-%COMP%]{stroke:#2a3647}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{color:#fff}@media (max-width: 1000px){section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{transform:scale(.85);transform-origin:top center;height:calc(80dvh - 120px)}}@media (max-width: 600px){section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{transform:scale(.7);transform-origin:top center}}@media (max-width: 380px){section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{transform:scale(.6);transform-origin:top center}}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]{width:500px;height:150px;display:flex;justify-content:center;align-items:center;background-color:#fff;border-radius:30px;gap:30px;cursor:pointer;box-shadow:5px 10px 18px #888;transition:all .2s ease-in-out}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]:hover{background-color:var(--background-dark);transform:scale(1.1)}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]:hover   .container-divider[_ngcontent-%COMP%]{background-color:#fff}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]:hover   .deadline-info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]:hover   .deadline-info[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]   .container-divider[_ngcontent-%COMP%]{width:2px;height:80px;background-color:var(--text-color-medium);border-radius:2px}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]   .deadline-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]   .deadline-info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:1.5rem}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]   .deadline-info[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1.125rem}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .deadline[_ngcontent-%COMP%]   .svg-container[_ngcontent-%COMP%]{width:70px;height:70px;display:flex;justify-content:center;align-items:center;border-radius:50%;background-color:red}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;gap:24px}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .board-tasks[_ngcontent-%COMP%]{justify-content:center;width:150px;height:150px;display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;border-radius:30px;cursor:pointer;box-shadow:5px 10px 18px #888;transition:all .2s ease-in-out}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .board-tasks[_ngcontent-%COMP%]:hover{background-color:var(--background-dark);transform:scale(1.1)}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .board-tasks[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .board-tasks[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .board-tasks[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{font-size:3.375rem}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .board-tasks[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{font-size:1.25rem}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]{justify-content:center;width:150px;height:150px;display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;border-radius:30px;cursor:pointer;box-shadow:5px 10px 18px #888;transition:all .2s ease-in-out}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]:hover{background-color:var(--background-dark);transform:scale(1.1)}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{font-size:3.375rem}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{font-size:1.25rem}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .await-feedback[_ngcontent-%COMP%]{justify-content:center;width:150px;height:150px;display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;border-radius:30px;cursor:pointer;box-shadow:5px 10px 18px #888;transition:all .2s ease-in-out}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .await-feedback[_ngcontent-%COMP%]:hover{background-color:var(--background-dark);transform:scale(1.1)}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .await-feedback[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .await-feedback[_ngcontent-%COMP%]:hover   .info-text[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{color:#fff}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .await-feedback[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{font-size:3.375rem}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]   .await-feedback[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{font-size:1.25rem}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .greeting-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}@media (max-width: 1215px){section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .greeting-container[_ngcontent-%COMP%]{display:none}}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .greeting-container[_ngcontent-%COMP%]   .greet[_ngcontent-%COMP%]{font-size:2.75rem}@media (max-width: 1400px){section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .greeting-container[_ngcontent-%COMP%]   .greet[_ngcontent-%COMP%]{font-size:2.125rem}}section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .greeting-container[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:4rem;color:var(--accent-primary-color)}@media (max-width: 1400px){section[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .greeting-container[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:2.75rem}}'],data:{animation:[fn("fadeOutGreeting",[vi("start",Ne({opacity:1})),vi("moved",Ne({opacity:0})),dt("start => moved",[ut("1.5s 0.5s ease-in-out")])])]}})};var Qm=class n{validateForm(e,t){return{showTitleError:this.validateTitle(e.title),showDateError:this.validateDueDate(e.dueDate)}}hasFormErrors(e,t){let r=this.validateTitle(e.title),i=this.validateCategory(t),o=this.validateDueDate(e.dueDate);return t.showCategoryError=i,r||i||o}validateTitle(e){return!e.trim()}validateCategory(e){return!e.hasSelectedCategory()}validateDueDate(e){return!e}getTodayDate(){return new Date().toISOString().split("T")[0]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ym=class n{populateFromTask(e,t,r,i,o,s){return C(this,null,function*(){return this.setBasicFormData(e,t),this.setDueDate(e.date,t),r.setPriorityAndCategory(e),this.setAssignedContacts(e.assignedTo,i,s),e.id&&o.loadAndSetSubtasks(e.id),e.status||"to-do"})}buildTask(e,t,r,i,o,s){let a=this.getUniqueAssignedContactIds(i),c={title:e.title.trim(),description:e.description?.trim()||"",date:new Date(e.dueDate),priority:r.selectedPriority,status:t,assignedTo:a,category:o.getSelectedCategory()};return s&&(c.id=s),c}setBasicFormData(e,t){t.title=e.title||"",t.description=e.description||""}setDueDate(e,t){if(!e)return;let r;e.toDate?r=e.toDate():e instanceof Date?r=e:r=new Date(e),t.dueDate=r.toISOString().split("T")[0]}setAssignedContacts(e,t,r){if(!e||e.length===0)return;let i=r.filter(o=>o.id!==void 0).filter(o=>e.includes(o.id));t.setSelectedContacts(i)}getUniqueAssignedContactIds(e){let t=e.getSelectedContacts();return[...new Set(t.map(r=>r.id).filter(r=>r!==void 0))]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Zm=class n{constructor(e){this.taskService=e}subtasks=[];nextSubtaskId=1;editingSubtaskId=null;editingSubtaskText="";subtaskInput="";showSubtaskConfirmation=!1;originalSubtasks=[];getSubtasks(){return this.subtasks}setSubtasks(e){this.subtasks=e,this.nextSubtaskId=e.length+1}getSubtaskInput(){return this.subtaskInput}setSubtaskInput(e){this.subtaskInput=e}getShowSubtaskConfirmation(){return this.showSubtaskConfirmation}setShowSubtaskConfirmation(e){this.showSubtaskConfirmation=e}getEditingSubtaskId(){return this.editingSubtaskId}getEditingSubtaskText(){return this.editingSubtaskText}setEditingSubtaskText(e){this.editingSubtaskText=e}onSubtaskInputClick(){this.showSubtaskConfirmation||(this.subtaskInput="")}onSubtaskEnter(e){e.preventDefault(),this.subtaskInput&&this.subtaskInput.trim()&&this.addSubtask()}confirmSubtask(e){e&&(e.preventDefault(),e.stopPropagation()),this.addSubtask(),this.showSubtaskConfirmation=!1}cancelSubtask(){this.subtaskInput="",this.showSubtaskConfirmation=!1}addSubtask(){if(this.subtaskInput&&this.subtaskInput.trim()){let e={id:this.nextSubtaskId++,text:this.subtaskInput.trim(),completed:!1};this.subtasks.push(e),this.subtaskInput="",this.showSubtaskConfirmation=!1}}deleteSubtask(e){this.subtasks=this.subtasks.filter(t=>t.id!==e)}editSubtask(e,t){let r=this.subtasks.find(i=>i.id===e);r&&(r.text=t.trim())}editSubtaskPrompt(e,t){this.editingSubtaskId=e,this.editingSubtaskText=t,setTimeout(()=>{let r=document.querySelector(".subtask-edit-input");r&&(r.value=this.editingSubtaskText,r.focus(),r.setSelectionRange(r.value.length,r.value.length))},100)}saveSubtaskEdit(){this.editingSubtaskId!==null&&(this.editingSubtaskText&&this.editingSubtaskText.trim()&&this.editSubtask(this.editingSubtaskId,this.editingSubtaskText.trim()),this.cancelSubtaskEdit())}cancelSubtaskEdit(){this.editingSubtaskId=null,this.editingSubtaskText=""}onSubtaskEditKeydown(e){e.key==="Enter"?(e.preventDefault(),this.saveSubtaskEdit()):e.key==="Escape"&&(e.preventDefault(),this.cancelSubtaskEdit())}toggleSubtaskCompletion(e){let t=this.subtasks.find(r=>r.id===e);t&&(t.completed=!t.completed)}clearAll(){this.subtasks=[],this.subtaskInput="",this.nextSubtaskId=1,this.editingSubtaskId=null,this.editingSubtaskText="",this.showSubtaskConfirmation=!1}saveAllSubtasks(e,t){return C(this,null,function*(){for(let r of t)yield this.taskService.addSubtask(e,{title:r.text,isCompleted:r.completed})})}getDeletedSubtasks(e){return this.originalSubtasks.filter(t=>typeof t.id=="string"&&t.id.length>0&&!e.some(r=>r.id===t.id))}deleteSubtasks(e,t){return C(this,null,function*(){for(let r of t)typeof r.id=="string"&&(yield this.taskService.deleteSubtask(e,r.id))})}syncSubtasks(e,t){return C(this,null,function*(){for(let r of t){let i={title:r.text,isCompleted:r.completed};typeof r.id=="string"&&r.id.length>0?yield this.taskService.updateSubtask(e,r.id,i):yield this.taskService.addSubtask(e,i)}})}loadAndSetSubtasks(e){this.taskService.getSubtasks(e).subscribe(t=>{let r=t.map(i=>({id:i.id||"",text:i.title,completed:i.isCompleted}));this.setSubtasks(r),this.originalSubtasks=[...r]})}static \u0275fac=function(t){return new(t||n)(Z(Kt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var ts=class n{showCategoryError=!1;selectedCategory="";showCategoryDropdown=!1;categories=[{value:"technical",label:"Technical Task",color:"#1FD7C1"},{value:"user story",label:"User Story",color:"#0038FF"}];getSelectedCategory(){return this.selectedCategory}setSelectedCategory(e){this.selectedCategory=e}getShowCategoryDropdown(){return this.showCategoryDropdown}setShowCategoryDropdown(e){this.showCategoryDropdown=e}getCategories(){return this.categories}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown}selectCategory(e){this.selectedCategory=e.value,this.showCategoryDropdown=!1}getCategoryText(){if(!this.selectedCategory)return"Select task category";let e=this.categories.find(t=>t.value===this.selectedCategory);return e?e.label:"Select task category"}getCategoryColor(){if(!this.selectedCategory)return"#ccc";let e=this.categories.find(t=>t.value===this.selectedCategory);return e?e.color:"#ccc"}hasSelectedCategory(){return!!this.selectedCategory}clearAll(){this.selectedCategory="",this.showCategoryDropdown=!1}onCategorySelect(){this.hasSelectedCategory()&&(this.showCategoryError=!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Jm=class n{constructor(e,t){this.contactService=e;this.categoryManager=t}selectedContacts=[];showContactDropdown=!1;getSelectedContacts(){return this.selectedContacts}setSelectedContacts(e){let t=e.filter((r,i,o)=>i===o.findIndex(s=>s.id===r.id));this.selectedContacts=t}getShowContactDropdown(){return this.showContactDropdown}setShowContactDropdown(e){this.showContactDropdown=e}toggleDropdown(){this.showContactDropdown=!this.showContactDropdown}selectContact(e){let t=this.selectedContacts.findIndex(r=>r.id===e.id);t===-1?this.selectedContacts.push(e):this.selectedContacts.splice(t,1)}isContactSelected(e){return this.selectedContacts.some(t=>t.id===e.id)}getSelectedContactsText(){return"Select contacts to assign"}getContactInitials(e){return this.contactService.getInitials(e.name)}getContactColor(e){return this.contactService.getContactColor(e.name)}getRemainingContactNames(e){return e.map(t=>t.name).join(", ")}clearAll(){this.selectedContacts=[],this.showContactDropdown=!1}static \u0275fac=function(t){return new(t||n)(Z(Rt),Z(ts))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Xm=class n{constructor(e){this.categoryManager=e}selectedPriority="medium";setPriority(e){this.selectedPriority=e}setPriorityAndCategory(e){this.selectedPriority=e.priority||"medium",this.categoryManager.setSelectedCategory(e.category||"")}static \u0275fac=function(t){return new(t||n)(Z(ts))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var iG=()=>({color:"var(--background-default-dark)",cursor:"not-allowed"}),oG=()=>({});function sG(n,e){if(n&1){let t=ce();m(0,"button",52),V("click",function(){U(t);let i=F();return $(i.closeOverlayMode())}),an(),m(1,"svg",53)(2,"mask",54),j(3,"rect",55),p(),m(4,"g",56),j(5,"path",57),p()()()}}function aG(n,e){if(n&1&&(m(0,"div",58)(1,"div",59)(2,"span"),y(3),p(),m(4,"span",60),y(5,"Redirecting to board..."),p()()()),n&2){let t=F();I(3),Ye("\u2713 Task successfully ",t.isEditingMode?"updated":"created","!")}}function cG(n,e){n&1&&(m(0,"div",61),y(1," This field is required "),p())}function lG(n,e){n&1&&(m(0,"div",61),y(1," This field is required "),p())}function uG(n,e){n&1&&j(0,"img",71)}function dG(n,e){n&1&&j(0,"img",72)}function hG(n,e){if(n&1){let t=ce();m(0,"div",64),V("click",function(){let i=U(t).$implicit,o=F(2);return $(o.contactManager.selectContact(i))}),m(1,"div",65)(2,"div",66),y(3),p(),m(4,"span",67),y(5),p()(),m(6,"div",68),Q(7,uG,1,0,"img",69)(8,dG,1,0,"img",70),p()()}if(n&2){let t=e.$implicit,r=F(2);ze("selected",r.contactManager.isContactSelected(t)),I(2),kt("background-color",r.contactManager.getContactColor(t)),I(),Ye(" ",r.contactManager.getContactInitials(t)," "),I(2),me(t.name),I(2),O("ngIf",r.contactManager.isContactSelected(t)),I(),O("ngIf",!r.contactManager.isContactSelected(t))}}function fG(n,e){if(n&1&&(m(0,"div",62),Q(1,hG,9,8,"div",63),p()),n&2){let t=F();I(),O("ngForOf",t.contacts)}}function pG(n,e){if(n&1&&(m(0,"div",76),y(1),p()),n&2){let t=e.$implicit,r=F(2);kt("background-color",r.contactManager.getContactColor(t)),O("title",t.name),I(),Ye(" ",r.contactManager.getContactInitials(t)," ")}}function gG(n,e){if(n&1&&(m(0,"div",76),y(1),p()),n&2){let t=F(2);kt("background-color","#d1d1d1"),O("title",t.contactManager.getRemainingContactNames(t.contactManager.getSelectedContacts().slice(6))),I(),Ye(" +",t.contactManager.getSelectedContacts().length-6," ")}}function mG(n,e){if(n&1&&(m(0,"div",73),Q(1,pG,2,4,"div",74)(2,gG,2,4,"div",75),p()),n&2){let t=F();I(),O("ngForOf",t.contactManager.getSelectedContacts().slice(0,6)),I(),O("ngIf",t.contactManager.getSelectedContacts().length>6)}}function _G(n,e){if(n&1){let t=ce();m(0,"div",78),V("click",function(){let i=U(t).$implicit,o=F(2);return $(o.selectCategory(i))}),m(1,"div",79),j(2,"div",80),m(3,"span",81),y(4),p()()()}if(n&2){let t=e.$implicit;I(2),kt("background-color",t.color),I(2),me(t.label)}}function yG(n,e){if(n&1&&(m(0,"div",62),Q(1,_G,5,3,"div",77),p()),n&2){let t=F();I(),O("ngForOf",t.categoryManager.getCategories())}}function vG(n,e){n&1&&(m(0,"div",61),y(1," This field is required "),p())}function wG(n,e){n&1&&j(0,"img",82)}function CG(n,e){if(n&1){let t=ce();m(0,"div",83)(1,"img",84),V("mousedown",function(){U(t);let i=F();return $(i.subtaskManager.cancelSubtask())}),p(),m(2,"img",85),V("mousedown",function(i){U(t);let o=F();return $(o.subtaskManager.confirmSubtask(i))})("keydown.enter",function(i){U(t);let o=F();return $(o.subtaskManager.confirmSubtask(i))}),p()()}}function bG(n,e){if(n&1){let t=ce();m(0,"div",99)(1,"input",100),V("change",function(){U(t);let i=F(2).$implicit,o=F(2);return $(o.subtaskManager.toggleSubtaskCompletion(i.id))}),p(),j(2,"label",101),p()}if(n&2){let t=F(2).$implicit;I(),O("checked",t.completed)("id","subtask-"+t.id),I(),O("for","subtask-"+t.id)}}function EG(n,e){n&1&&(m(0,"span",102),y(1,"\u2022"),p())}function IG(n,e){if(n&1){let t=ce();m(0,"div",92),Q(1,bG,3,3,"div",93)(2,EG,2,0,"span",94),m(3,"span",95),y(4),p(),m(5,"div",96)(6,"img",97),V("click",function(){U(t);let i=F().$implicit,o=F(2);return $(o.subtaskManager.editSubtaskPrompt(i.id,i.text))}),p(),m(7,"img",98),V("click",function(){U(t);let i=F().$implicit,o=F(2);return $(o.subtaskManager.deleteSubtask(i.id))}),p()()()}if(n&2){let t=F().$implicit,r=F(2);I(),O("ngIf",r.isEditingMode),I(),O("ngIf",!r.isEditingMode),I(),ze("completed",r.isEditingMode&&t.completed),I(),me(t.text)}}function xG(n,e){if(n&1){let t=ce();m(0,"div",99)(1,"input",100),V("change",function(){U(t);let i=F(2).$implicit,o=F(2);return $(o.subtaskManager.toggleSubtaskCompletion(i.id))}),p(),j(2,"label",101),p()}if(n&2){let t=F(2).$implicit;I(),O("checked",t.completed)("id","subtask-edit-"+t.id),I(),O("for","subtask-edit-"+t.id)}}function SG(n,e){n&1&&(m(0,"span",102),y(1,"\u2022"),p())}function TG(n,e){if(n&1){let t=ce();m(0,"div",103),Q(1,xG,3,3,"div",93)(2,SG,2,0,"span",94),m(3,"input",104,0),V("input",function(i){U(t);let o=F(3);return $(o.subtaskManager.setEditingSubtaskText(i.target.value))})("keydown",function(i){U(t);let o=F(3);return $(o.subtaskManager.onSubtaskEditKeydown(i))}),p(),m(5,"div",96)(6,"img",105),V("click",function(){U(t);let i=F(3);return $(i.subtaskManager.saveSubtaskEdit())}),p(),m(7,"img",106),V("click",function(){U(t);let i=F(3);return $(i.subtaskManager.cancelSubtaskEdit())}),p()()()}if(n&2){let t=F(3);I(),O("ngIf",t.isEditingMode),I(),O("ngIf",!t.isEditingMode),I(),O("value",t.subtaskManager.getEditingSubtaskText())}}function DG(n,e){if(n&1&&(m(0,"div",89),Q(1,IG,8,5,"div",90)(2,TG,8,3,"div",91),p()),n&2){let t=e.$implicit,r=F(2);I(),O("ngIf",r.subtaskManager.getEditingSubtaskId()!==t.id),I(),O("ngIf",r.subtaskManager.getEditingSubtaskId()===t.id)}}function MG(n,e){if(n&1&&(m(0,"div",86)(1,"div",87),Q(2,DG,3,2,"div",88),p()()),n&2){let t=F();I(2),O("ngForOf",t.subtaskManager.getSubtasks())}}var ul=class n{constructor(e,t,r,i,o,s,a,c,u,d){this.contactService=e;this.taskService=t;this.router=r;this.route=i;this.formValidator=o;this.taskDataService=s;this.subtaskManager=a;this.contactManager=c;this.categoryManager=u;this.priorityManager=d}taskAdded=new oe;closeOverlay=new oe;defaultStatus="";isOverlayMode=!1;contacts=[];subtaskInputFocused=!1;isCreatingTask=!1;showSuccessMessage=!1;originalTaskStatus="to-do";isEditingMode=!1;editingTaskId;validationErrors={showTitleError:!1,showDateError:!1};formData={title:"",description:"",dueDate:""};ngOnInit(){this.loadStatus(),this.loadContacts()}ngOnDestroy(){this.clearForm()}loadStatus(){this.route.queryParams.subscribe(e=>{e.status&&(this.defaultStatus=e.status)})}loadContacts(){return C(this,null,function*(){this.contactService.getContacts().subscribe(e=>C(this,null,function*(){this.contacts=e,yield this.loadEditingTask()}))})}clearAllManagers(){this.contactManager.clearAll(),this.categoryManager.clearAll(),this.subtaskManager.clearAll()}loadEditingTask(){return C(this,null,function*(){let e=this.taskService.getEditingTask();e?(this.isEditingMode=!0,this.editingTaskId=e.id,this.originalTaskStatus=yield this.taskDataService.populateFromTask(e,this.formData,this.priorityManager,this.contactManager,this.subtaskManager,this.contacts),this.taskService.clearEditingTask()):this.clearAllManagers()})}onDocumentClick(e){let t=e.target;!t.closest(".dropdown")&&!t.closest(".subtask-input")&&(this.contactManager.setShowContactDropdown(!1),this.categoryManager.setShowCategoryDropdown(!1))}toggleContactDropdown(){this.contactManager.toggleDropdown(),this.categoryManager.setShowCategoryDropdown(!1)}toggleCategoryDropdown(){this.categoryManager.toggleCategoryDropdown(),this.contactManager.setShowContactDropdown(!1)}selectCategory(e){this.categoryManager.selectCategory(e),this.categoryManager.onCategorySelect()}clearForm(){this.formData={title:"",description:"",dueDate:""},this.priorityManager.selectedPriority="medium",this.isCreatingTask=!1,this.isEditingMode=!1,this.editingTaskId=void 0,this.originalTaskStatus="to-do",this.subtaskManager.originalSubtasks=[],this.showSuccessMessage=!1,this.resetValidationErrors(),this.contactManager.clearAll(),this.categoryManager.clearAll(),this.subtaskManager.clearAll()}setCreatingState(e){this.isCreatingTask=e}createTask(e){return C(this,null,function*(){if(e.preventDefault(),this.resetValidationErrors(),this.formValidator.hasFormErrors(this.formData,this.categoryManager)){this.validationErrors=this.formValidator.validateForm(this.formData,this.categoryManager);return}this.setCreatingState(!0);try{yield this.saveTaskWithSuccessFeedback()}catch(t){console.error("Error while creating/updating task:",t)}finally{this.setCreatingState(!1)}})}resetValidationErrors(){this.validationErrors={showTitleError:!1,showDateError:!1},this.categoryManager.showCategoryError=!1}saveTaskWithSuccessFeedback(){return C(this,null,function*(){yield this.saveTask(),this.taskAdded.emit("added"),this.showSuccessMessage=!0,setTimeout(()=>{this.clearForm(),this.router.navigate(["/board"])},2e3)})}saveTask(){return C(this,null,function*(){this.isEditingMode&&this.editingTaskId?yield this.updateTask():yield this.addNewTask()})}addNewTask(){return C(this,null,function*(){this.defaultStatus||(this.defaultStatus="to-do");let e=this.taskDataService.buildTask(this.formData,this.defaultStatus,this.priorityManager,this.contactManager,this.categoryManager),t=yield this.taskService.addTask(e);t?.id&&(yield this.subtaskManager.saveAllSubtasks(t.id,this.subtaskManager.getSubtasks()))})}updateTask(){return C(this,null,function*(){if(!this.editingTaskId)return;let e=this.taskDataService.buildTask(this.formData,this.originalTaskStatus,this.priorityManager,this.contactManager,this.categoryManager,this.editingTaskId);yield this.taskService.updateTask(this.editingTaskId,e);let t=this.subtaskManager.getSubtasks(),r=this.subtaskManager.getDeletedSubtasks(t);yield this.subtaskManager.deleteSubtasks(this.editingTaskId,r),yield this.subtaskManager.syncSubtasks(this.editingTaskId,t),this.taskService.clearEditingTask()})}onTitleInput(){this.formData.title.trim()&&(this.validationErrors.showTitleError=!1)}onDateSelect(){this.formData.dueDate&&(this.validationErrors.showDateError=!1)}getTodayDate(){return this.formValidator.getTodayDate()}closeOverlayMode(){this.clearForm(),this.closeOverlay.emit()}static \u0275fac=function(t){return new(t||n)(B(Rt),B(Kt),B(qe),B(or),B(Qm),B(Ym),B(Zm),B(Jm),B(ts),B(Xm))};static \u0275cmp=Ee({type:n,selectors:[["app-add-task"]],hostBindings:function(t,r){t&1&&V("click",function(o){return r.onDocumentClick(o)},!1,xo)},inputs:{defaultStatus:"defaultStatus",isOverlayMode:"isOverlayMode"},outputs:{taskAdded:"taskAdded",closeOverlay:"closeOverlay"},decls:86,vars:45,consts:[["editInput",""],[1,"layout-container"],[1,"add-task-header"],["class","btn-close-overlay","type","button",3,"click",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"add-task-content"],[1,"task-form",3,"ngSubmit"],[1,"form-main"],[1,"form-left"],[1,"form-group"],["for","title"],[1,"required"],["type","text","id","title","name","title","placeholder","Enter a title",3,"ngModelChange","input","ngModel"],["class","error-message",4,"ngIf"],["for","description"],["id","description","name","description","placeholder","Enter a description",3,"ngModelChange","ngModel"],["for","due-date"],["type","date","id","due-date","name","dueDate",3,"ngModelChange","change","ngModel","min"],[1,"required-note"],[1,"form-divider"],[1,"form-right"],["for","priority"],[1,"priority-buttons"],["type","button",1,"priority-btn","urgent",3,"click"],["width","21","height","16","viewBox","0 0 21 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M19.2597 15.4464C19.0251 15.4468 18.7965 15.3719 18.6077 15.2328L10.3556 9.14965L2.10356 15.2328C1.98771 15.3184 1.85613 15.3803 1.71633 15.4151C1.57652 15.4498 1.43124 15.4567 1.28877 15.4354C1.14631 15.414 1.00944 15.3648 0.885997 15.2906C0.762552 15.2164 0.654943 15.1186 0.569314 15.0029C0.483684 14.8871 0.421712 14.7556 0.386936 14.6159C0.352159 14.4762 0.345259 14.331 0.366629 14.1887C0.409788 13.9012 0.565479 13.6425 0.799451 13.4697L9.70356 6.89926C9.89226 6.75967 10.1208 6.68433 10.3556 6.68433C10.5904 6.68433 10.819 6.75967 11.0077 6.89926L19.9118 13.4697C20.0977 13.6067 20.2356 13.7988 20.3057 14.0186C20.3759 14.2385 20.3747 14.4749 20.3024 14.6941C20.2301 14.9133 20.0904 15.1041 19.9031 15.2391C19.7159 15.3742 19.4907 15.4468 19.2597 15.4464Z","fill","#FF3D00"],["d","M19.2597 9.69733C19.0251 9.69774 18.7965 9.62289 18.6077 9.48379L10.3556 3.40063L2.10356 9.48379C1.86959 9.6566 1.57651 9.72945 1.28878 9.68633C1.00105 9.6432 0.742254 9.48762 0.569318 9.25383C0.396382 9.02003 0.323475 8.72716 0.366634 8.43964C0.409793 8.15213 0.565483 7.89352 0.799455 7.72072L9.70356 1.15024C9.89226 1.01065 10.1208 0.935303 10.3556 0.935303C10.5904 0.935303 10.819 1.01065 11.0077 1.15024L19.9118 7.72072C20.0977 7.85763 20.2356 8.04974 20.3057 8.26962C20.3759 8.4895 20.3747 8.72591 20.3024 8.94509C20.2301 9.16427 20.0904 9.35503 19.9031 9.49012C19.7159 9.62521 19.4907 9.69773 19.2597 9.69733Z","fill","#FF3D00"],["type","button",1,"priority-btn","medium",3,"click"],["width","21","height","8","viewBox","0 0 21 8","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M19.7596 7.91693H1.95136C1.66071 7.91693 1.38197 7.80063 1.17645 7.59362C0.970928 7.3866 0.855469 7.10584 0.855469 6.81308C0.855469 6.52032 0.970928 6.23955 1.17645 6.03254C1.38197 5.82553 1.66071 5.70923 1.95136 5.70923H19.7596C20.0502 5.70923 20.329 5.82553 20.5345 6.03254C20.74 6.23955 20.8555 6.52032 20.8555 6.81308C20.8555 7.10584 20.74 7.3866 20.5345 7.59362C20.329 7.80063 20.0502 7.91693 19.7596 7.91693Z","fill","#FFA800"],["d","M19.7596 2.67376H1.95136C1.66071 2.67376 1.38197 2.55746 1.17645 2.35045C0.970928 2.14344 0.855469 1.86267 0.855469 1.56991C0.855469 1.27715 0.970928 0.996386 1.17645 0.789374C1.38197 0.582363 1.66071 0.466064 1.95136 0.466064L19.7596 0.466064C20.0502 0.466064 20.329 0.582363 20.5345 0.789374C20.74 0.996386 20.8555 1.27715 20.8555 1.56991C20.8555 1.86267 20.74 2.14344 20.5345 2.35045C20.329 2.55746 20.0502 2.67376 19.7596 2.67376Z","fill","#FFA800"],["type","button",1,"priority-btn","low",3,"click"],["d","M10.8555 9.69779C10.6209 9.69819 10.3923 9.62335 10.2035 9.48427L1.30038 2.91453C1.18454 2.82898 1.0867 2.72146 1.01245 2.59812C0.938193 2.47478 0.888977 2.33803 0.867609 2.19569C0.824455 1.90821 0.897354 1.61537 1.07027 1.3816C1.24319 1.14782 1.50196 0.992265 1.78965 0.949143C2.07734 0.906021 2.3704 0.978866 2.60434 1.15165L10.8555 7.23414L19.1066 1.15165C19.2224 1.0661 19.354 1.00418 19.4938 0.969432C19.6336 0.934685 19.7788 0.927791 19.9213 0.949143C20.0637 0.970495 20.2006 1.01967 20.324 1.09388C20.4474 1.16808 20.555 1.26584 20.6407 1.3816C20.7263 1.49735 20.7883 1.62882 20.823 1.7685C20.8578 1.90818 20.8647 2.05334 20.8433 2.19569C20.822 2.33803 20.7727 2.47478 20.6985 2.59812C20.6242 2.72146 20.5264 2.82898 20.4106 2.91453L11.5075 9.48427C11.3186 9.62335 11.0901 9.69819 10.8555 9.69779Z","fill","#7AE229"],["d","M10.8555 15.4463C10.6209 15.4467 10.3923 15.3719 10.2035 15.2328L1.30038 8.66307C1.06644 8.49028 0.910763 8.2317 0.867609 7.94422C0.824455 7.65674 0.897354 7.3639 1.07027 7.13013C1.24319 6.89636 1.50196 6.7408 1.78965 6.69768C2.07734 6.65456 2.3704 6.7274 2.60434 6.90019L10.8555 12.9827L19.1066 6.90019C19.3405 6.7274 19.6336 6.65456 19.9213 6.69768C20.209 6.7408 20.4678 6.89636 20.6407 7.13013C20.8136 7.3639 20.8865 7.65674 20.8433 7.94422C20.8002 8.2317 20.6445 8.49028 20.4106 8.66307L11.5075 15.2328C11.3186 15.3719 11.0901 15.4467 10.8555 15.4463Z","fill","#7AE229"],["for","assigned-to"],[1,"dropdown"],["type","text","id","assigned-to","readonly","",3,"click","value"],["src","assets/img/icons/arrow-dropdown.png","alt","Dropdown",1,"dropdown-arrow",3,"click"],["class","dropdown-menu",4,"ngIf"],["class","selected-contacts",4,"ngIf"],["for","category"],["type","text","id","category","readonly","",3,"click","value","disabled","ngStyle"],["for","subtasks"],[1,"subtask-input-container"],[1,"subtask-input"],["type","text","id","subtasks","name","subtaskInput","placeholder","Add new subtask",3,"input","click","keydown.enter","focus","blur","value","readonly"],["src","assets/img/icons/add.png","alt","Add","class","add-icon",4,"ngIf"],["class","confirmation-icons",4,"ngIf"],["class","subtask-list-container",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn-clear",3,"click","disabled"],["type","submit",1,"btn-create",3,"disabled"],["type","button",1,"btn-close-overlay",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","mask0_331509_883","maskUnits","userSpaceOnUse","x","0","y","0","width","24","height","24",2,"mask-type","alpha"],["width","24","height","24","fill","#D9D9D9"],["mask","url(#mask0_331509_883)"],["d","M12 13.4L7.10005 18.3C6.91672 18.4834 6.68338 18.575 6.40005 18.575C6.11672 18.575 5.88338 18.4834 5.70005 18.3C5.51672 18.1167 5.42505 17.8834 5.42505 17.6C5.42505 17.3167 5.51672 17.0834 5.70005 16.9L10.6 12L5.70005 7.10005C5.51672 6.91672 5.42505 6.68338 5.42505 6.40005C5.42505 6.11672 5.51672 5.88338 5.70005 5.70005C5.88338 5.51672 6.11672 5.42505 6.40005 5.42505C6.68338 5.42505 6.91672 5.51672 7.10005 5.70005L12 10.6L16.9 5.70005C17.0834 5.51672 17.3167 5.42505 17.6 5.42505C17.8834 5.42505 18.1167 5.51672 18.3 5.70005C18.4834 5.88338 18.575 6.11672 18.575 6.40005C18.575 6.68338 18.4834 6.91672 18.3 7.10005L13.4 12L18.3 16.9C18.4834 17.0834 18.575 17.3167 18.575 17.6C18.575 17.8834 18.4834 18.1167 18.3 18.3C18.1167 18.4834 17.8834 18.575 17.6 18.575C17.3167 18.575 17.0834 18.4834 16.9 18.3L12 13.4Z","fill","#2A3647"],[1,"success-message"],[1,"success-content"],[1,"redirect-text"],[1,"error-message"],[1,"dropdown-menu"],["class","contact-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"contact-item",3,"click"],[1,"contact-info"],[1,"contact-avatar"],[1,"contact-name"],[1,"contact-checkbox"],["src","assets/img/icons/checkbox-checked.png","alt","Selected",4,"ngIf"],["src","assets/img/icons/checkbox.png","alt","Not selected",4,"ngIf"],["src","assets/img/icons/checkbox-checked.png","alt","Selected"],["src","assets/img/icons/checkbox.png","alt","Not selected"],[1,"selected-contacts"],["class","selected-contact-avatar",3,"background-color","title",4,"ngFor","ngForOf"],["class","selected-contact-avatar",3,"background-color","title",4,"ngIf"],[1,"selected-contact-avatar",3,"title"],["class","category-item",3,"click",4,"ngFor","ngForOf"],[1,"category-item",3,"click"],[1,"category-info"],[1,"category-color"],[1,"category-name"],["src","assets/img/icons/add.png","alt","Add",1,"add-icon"],[1,"confirmation-icons"],["src","assets/img/icons/close.png","alt","Cancel",1,"cancel-icon",3,"mousedown"],["src","assets/img/icons/check-dark.png","alt","Confirm",1,"confirm-icon",3,"mousedown","keydown.enter"],[1,"subtask-list-container"],[1,"subtasks-list"],["class","subtask-item-simple",4,"ngFor","ngForOf"],[1,"subtask-item-simple"],["class","subtask-display",4,"ngIf"],["class","subtask-edit",4,"ngIf"],[1,"subtask-display"],["class","subtask-checkbox-container",4,"ngIf"],["class","bullet",4,"ngIf"],[1,"subtask-text-simple"],[1,"subtask-actions"],["src","assets/img/icons/edit-single.png","alt","Edit",1,"action-icon",3,"click"],["src","assets/img/icons/delete.png","alt","Delete",1,"action-icon",3,"click"],[1,"subtask-checkbox-container"],["type","checkbox",1,"subtask-checkbox",3,"change","checked","id"],[1,"checkbox-label",3,"for"],[1,"bullet"],[1,"subtask-edit"],["type","text",1,"subtask-edit-input",3,"input","keydown","value"],["src","assets/img/icons/check-dark.png","alt","Save",1,"action-icon",3,"click"],["src","assets/img/icons/close.png","alt","Cancel",1,"action-icon",3,"click"]],template:function(t,r){t&1&&(m(0,"section",1)(1,"div",2)(2,"h1"),y(3),p(),Q(4,sG,6,0,"button",3),p(),Q(5,aG,6,1,"div",4),m(6,"div",5)(7,"form",6),V("ngSubmit",function(o){return r.createTask(o)}),m(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),y(12,"Title"),m(13,"span",11),y(14,"*"),p()(),m(15,"input",12),Bi("ngModelChange",function(o){return To(r.formData.title,o)||(r.formData.title=o),o}),V("input",function(){return r.onTitleInput()}),p(),Q(16,cG,2,0,"div",13),p(),m(17,"div",9)(18,"label",14),y(19,"Description"),p(),m(20,"textarea",15),Bi("ngModelChange",function(o){return To(r.formData.description,o)||(r.formData.description=o),o}),y(21,"            "),p()(),m(22,"div",9)(23,"label",16),y(24,"Due date"),m(25,"span",11),y(26,"*"),p()(),m(27,"input",17),Bi("ngModelChange",function(o){return To(r.formData.dueDate,o)||(r.formData.dueDate=o),o}),V("change",function(){return r.onDateSelect()}),p(),Q(28,lG,2,0,"div",13),p(),m(29,"p",18)(30,"span",11),y(31,"*"),p(),y(32,"This field is required"),p()(),j(33,"div",19),m(34,"div",20)(35,"div",9)(36,"label",21),y(37,"Priority"),p(),m(38,"div",22)(39,"button",23),V("click",function(){return r.priorityManager.setPriority("urgent")}),y(40," Urgent "),an(),m(41,"svg",24),j(42,"path",25)(43,"path",26),p()(),jn(),m(44,"button",27),V("click",function(){return r.priorityManager.setPriority("medium")}),y(45," Medium "),an(),m(46,"svg",28),j(47,"path",29)(48,"path",30),p()(),jn(),m(49,"button",31),V("click",function(){return r.priorityManager.setPriority("low")}),y(50," Low "),an(),m(51,"svg",24),j(52,"path",32)(53,"path",33),p()()()(),jn(),m(54,"div",9)(55,"label",34),y(56,"Assigned to"),p(),m(57,"div",35)(58,"input",36),V("click",function(){return r.toggleContactDropdown()}),p(),m(59,"img",37),V("click",function(){return r.toggleContactDropdown()}),p(),Q(60,fG,2,1,"div",38),p(),Q(61,mG,3,2,"div",39),p(),m(62,"div",9)(63,"label",40),y(64,"Category"),m(65,"span",11),y(66,"*"),p()(),m(67,"div",35)(68,"input",41),V("click",function(){return r.toggleCategoryDropdown()}),p(),m(69,"img",37),V("click",function(){return r.toggleCategoryDropdown()}),p(),Q(70,yG,2,1,"div",38),p(),Q(71,vG,2,0,"div",13),p(),m(72,"div",9)(73,"label",42),y(74,"Subtasks"),p(),m(75,"div",43)(76,"div",44)(77,"input",45),V("input",function(o){return r.subtaskManager.setSubtaskInput(o.target.value)})("click",function(){return r.subtaskManager.onSubtaskInputClick()})("keydown.enter",function(o){return r.subtaskManager.onSubtaskEnter(o)})("focus",function(){return r.subtaskInputFocused=!0})("blur",function(){return r.subtaskInputFocused=!1}),p(),Q(78,wG,1,0,"img",46)(79,CG,3,0,"div",47),p()(),Q(80,MG,3,1,"div",48),p(),m(81,"div",49)(82,"button",50),V("click",function(){return r.clearForm()}),y(83,"Clear"),p(),m(84,"button",51),y(85),p()()()()()()()),t&2&&(I(3),me(r.isEditingMode?"Edit Task":"Add Task"),I(),O("ngIf",r.isOverlayMode),I(),O("ngIf",r.showSuccessMessage),I(10),ze("error",r.validationErrors.showTitleError),ji("ngModel",r.formData.title),I(),O("ngIf",r.validationErrors.showTitleError),I(4),ji("ngModel",r.formData.description),I(7),ze("error",r.validationErrors.showDateError),ji("ngModel",r.formData.dueDate),O("min",r.getTodayDate()),I(),O("ngIf",r.validationErrors.showDateError),I(11),ze("active",r.priorityManager.selectedPriority==="urgent"),I(5),ze("active",r.priorityManager.selectedPriority==="medium"),I(5),ze("active",r.priorityManager.selectedPriority==="low"),I(8),ze("open",r.contactManager.getShowContactDropdown()),I(),O("value",r.contactManager.getSelectedContactsText()),I(2),O("ngIf",r.contactManager.getShowContactDropdown()),I(),O("ngIf",r.contactManager.getSelectedContacts().length>0),I(6),ze("open",r.categoryManager.getShowCategoryDropdown()),I(),ze("error",r.categoryManager.showCategoryError),O("value",r.categoryManager.getCategoryText())("disabled",r.isEditingMode)("ngStyle",r.isEditingMode?gw(43,iG):gw(44,oG)),I(2),O("ngIf",r.categoryManager.getShowCategoryDropdown()),I(),O("ngIf",r.categoryManager.showCategoryError),I(5),ze("confirmation",r.subtaskManager.getShowSubtaskConfirmation()),I(),O("value",r.subtaskManager.getSubtaskInput())("readonly",r.subtaskManager.getShowSubtaskConfirmation()),I(),O("ngIf",!r.subtaskManager.getShowSubtaskConfirmation()&&!r.subtaskInputFocused),I(),O("ngIf",r.subtaskInputFocused),I(),O("ngIf",r.subtaskManager.getSubtasks().length>0),I(2),O("disabled",r.isCreatingTask),I(2),O("disabled",r.isCreatingTask),I(),Ye(" ",r.isCreatingTask?r.isEditingMode?"Updating...":"Creating...":r.isEditingMode?"Update Task":"Create Task"," "))},dependencies:[We,ac,Ke,Fs,Xo,Jo,ur,dr,Zo,ha,yx],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.subtask-input[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;max-width:440px;height:48px;border:1px solid #D1D1D1;border-radius:10px;padding:12px 16px;background-color:var(--background-light);color:var(--text-color-dark);font-family:Inter;font-weight:400;font-size:16px}.subtask-input[_ngcontent-%COMP%]::placeholder, .dropdown[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-color-medium)}.selected-contacts[_ngcontent-%COMP%]   .selected-contact-avatar[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;display:flex;justify-content:center;align-items:center;color:#fff;font-weight:600;font-size:14px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;cursor:pointer;transition:background-color .2s ease}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover:not(.selected), .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]:hover:not(.selected){background-color:#f5f5f5}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:100%}@media (max-width: 768px){.form-group[_ngcontent-%COMP%]{width:100%;max-width:100%}}@media (max-width: 310px){.form-group[_ngcontent-%COMP%]{gap:6px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);color:var(--text-color-dark);font-weight:500;text-align:left;width:100%;align-self:flex-start}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--text-color-error);margin-left:2px}@media (max-width: 768px){.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px;height:auto;resize:vertical;white-space:normal;overflow:auto}.priority-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;width:100%}@media (max-width: 768px){.priority-buttons[_ngcontent-%COMP%]{justify-content:space-between;flex-wrap:nowrap}}@media (max-width: 480px){.priority-buttons[_ngcontent-%COMP%]{gap:8px}}@media (max-width: 310px){.priority-buttons[_ngcontent-%COMP%]{gap:4px}}.priority-buttons[_ngcontent-%COMP%]   .priority-btn[_ngcontent-%COMP%]{cursor:pointer;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);border:unset;background-color:unset;border:1px solid var(--background-dark);color:var(--text-color-dark);font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);display:flex;justify-content:center;align-items:center;gap:8px;flex:1;min-width:0;height:56px;border-radius:10px;transition:box-shadow .2s ease}.priority-buttons[_ngcontent-%COMP%]   .priority-btn[_ngcontent-%COMP%]:hover{color:var(--accent-primary-color);border:1px solid var(--accent-primary-color)}.priority-buttons[_ngcontent-%COMP%]   .priority-btn[_ngcontent-%COMP%]:hover:not(.active){box-shadow:0 4px 8px #00000040;border-color:inherit!important;color:inherit!important}@media (max-width: 768px){.priority-buttons[_ngcontent-%COMP%]   .priority-btn[_ngcontent-%COMP%]{padding:8px 4px}}@media (max-width: 480px){.priority-buttons[_ngcontent-%COMP%]   .priority-btn[_ngcontent-%COMP%]{font-size:14px;gap:4px}}@media (max-width: 310px){.priority-buttons[_ngcontent-%COMP%]   .priority-btn[_ngcontent-%COMP%]{height:48px!important;font-size:12px;padding:4px 2px!important}}.priority-buttons[_ngcontent-%COMP%]   .priority-btn.active[_ngcontent-%COMP%]{color:var(--text-color-light);border-color:transparent}.priority-buttons[_ngcontent-%COMP%]   .priority-btn.active.urgent[_ngcontent-%COMP%]{background-color:#ff3d00;border-color:#ff3d00}.priority-buttons[_ngcontent-%COMP%]   .priority-btn.active.medium[_ngcontent-%COMP%]{background-color:#ffa800;border-color:#ffa800}.priority-buttons[_ngcontent-%COMP%]   .priority-btn.active.low[_ngcontent-%COMP%]{background-color:#7ae229;border-color:#7ae229}.priority-buttons[_ngcontent-%COMP%]   .priority-btn.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--background-light)}.priority-buttons[_ngcontent-%COMP%]   .priority-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px!important;height:20px!important;flex-shrink:0}@media (max-width: 1220px){.priority-buttons[_ngcontent-%COMP%]   .priority-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px!important;height:20px!important}}@media (max-width: 768px){.priority-buttons[_ngcontent-%COMP%]   .priority-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px!important;height:18px!important}}@media (max-width: 480px){.priority-buttons[_ngcontent-%COMP%]   .priority-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px!important;height:16px!important}}@media (max-width: 310px){.priority-buttons[_ngcontent-%COMP%]   .priority-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px!important;height:14px!important}}.form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:8px;justify-content:flex-end}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{position:fixed!important;bottom:70px;left:0;right:0;width:100%;background-color:#f6f7f8;padding:16px 12px;z-index:100;margin-top:0;justify-content:space-between;gap:12px}}.form-actions[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]{cursor:pointer;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);gap:8px;border:unset;background-color:unset;border:1px solid var(--background-dark);color:var(--text-color-dark);font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);width:110px;height:56px;border-radius:10px;border:1px solid #2A3647;transition:box-shadow .2s ease}.form-actions[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]:hover{color:var(--accent-primary-color);border:1px solid var(--accent-primary-color)}.form-actions[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000040}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]{flex:1;max-width:calc(50% - 6px);height:48px;font-size:14px}}.form-actions[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]{cursor:pointer;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);gap:8px;border:unset;background-color:unset;background-color:var(--background-dark);color:var(--text-color-light);font-family:Inter;font-weight:700;font-size:clamp(18px,.27vw + 17.14px,21px);width:183px;height:56px;border-radius:10px;transition:box-shadow .2s ease}.form-actions[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:hover{background-color:var(--accent-primary-color)}.form-actions[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000040}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]{flex:1;max-width:calc(50% - 6px);height:48px;font-size:14px}}.error-message[_ngcontent-%COMP%]{color:#ff4a4a;margin-top:4px;font-family:Inter;font-weight:400;font-size:16px;font-size:12px}input.error[_ngcontent-%COMP%], textarea.error[_ngcontent-%COMP%]{border-color:#ff4a4a!important}input.error[_ngcontent-%COMP%]:focus, textarea.error[_ngcontent-%COMP%]:focus{border-color:#ff4a4a!important;box-shadow:0 0 0 2px #ff4a4a1a}.success-message[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--text-color-light);background-color:var(--background-dark);padding:20px 30px;border-radius:10px;box-shadow:0 4px 20px #0000004d;z-index:1000;text-align:center;font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px)}@media (max-width: 480px){.success-message[_ngcontent-%COMP%]{width:calc(100% - 32px);max-width:300px;padding:16px 20px}}.success-message[_ngcontent-%COMP%]   .success-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;font-size:18px;font-weight:600;font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px)}.success-message[_ngcontent-%COMP%]   .success-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px)}@media (max-width: 480px){.success-message[_ngcontent-%COMP%]   .success-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:16px}}.success-message[_ngcontent-%COMP%]   .success-content[_ngcontent-%COMP%]   .redirect-text[_ngcontent-%COMP%]{font-size:14px;opacity:.9}@media (max-width: 480px){.success-message[_ngcontent-%COMP%]   .success-content[_ngcontent-%COMP%]   .redirect-text[_ngcontent-%COMP%]{font-size:12px}}.subtask-input[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;cursor:pointer}.open.subtask-input[_ngcontent-%COMP%], .open.dropdown[_ngcontent-%COMP%]{border-color:var(--accent-primary-color)}.open.subtask-input[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%], .open.dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.subtask-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:0;width:100%;cursor:pointer;background:transparent;font-family:Inter;font-weight:400;font-size:16px;color:var(--text-color-dark)}.subtask-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-color-medium)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:-1px;right:-1px;background:var(--background-light);border:1px solid #D1D1D1;border-radius:0 0 10px 10px;box-shadow:0 4px 8px #0000001a;z-index:1000;max-height:200px;overflow-y:auto}@media (max-width: 480px){.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{max-height:150px}}.dropdown[_ngcontent-%COMP%]   .error.dropdown-menu[_ngcontent-%COMP%]{border-color:var(--text-color-error);background-color:#ff3d001a}.dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{width:8px;height:8px;cursor:pointer;height:5px;transition:transform .2s ease}.dropdown[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]:hover{opacity:.7}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]{justify-content:space-between}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item.selected[_ngcontent-%COMP%]{background-color:#2a3647;color:#fff}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item.selected[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{color:#fff}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item.selected[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-avatar[_ngcontent-%COMP%]{border:2px solid #FFFFFF}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item.selected[_ngcontent-%COMP%]   .contact-checkbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item.selected[_ngcontent-%COMP%]:hover{background-color:#091931;opacity:1}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:16px;color:var(--text-color-dark)}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   .contact-checkbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .contact-item[_ngcontent-%COMP%]   .contact-checkbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.7}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-color[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%}.dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:16px;color:var(--text-color-dark)}.selected-contacts[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:16px}@media (max-width: 480px){.selected-contacts[_ngcontent-%COMP%]{gap:6px;margin-top:12px}}.selected-contacts[_ngcontent-%COMP%]   .selected-contact-avatar[_ngcontent-%COMP%]{border-radius:45px;color:#fff;font-family:Inter,sans-serif;font-weight:400;font-size:12px;border:2px solid transparent;transition:border .2s ease;cursor:default}@media (max-width: 480px){.selected-contacts[_ngcontent-%COMP%]   .selected-contact-avatar[_ngcontent-%COMP%]{width:28px;height:28px;font-size:11px}}.selected-contacts[_ngcontent-%COMP%]   .selected-contact-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:transform .2s ease}@media (max-width: 480px){.selected-contacts[_ngcontent-%COMP%]   .selected-contact-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}}.subtask-input.confirmation[_ngcontent-%COMP%]{border-color:var(--primary-color)}.subtask-input[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{cursor:default}.subtask-input[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.subtask-input[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]:hover{opacity:.7}.subtask-input[_ngcontent-%COMP%]   .confirmation-icons[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.subtask-input[_ngcontent-%COMP%]   .confirmation-icons[_ngcontent-%COMP%]   .cancel-icon[_ngcontent-%COMP%]{width:24px;height:24px;cursor:pointer}.subtask-input[_ngcontent-%COMP%]   .confirmation-icons[_ngcontent-%COMP%]   .cancel-icon[_ngcontent-%COMP%]:hover{opacity:.7}.subtask-input[_ngcontent-%COMP%]   .confirmation-icons[_ngcontent-%COMP%]   .confirm-icon[_ngcontent-%COMP%]{width:14px;height:14px;cursor:pointer}.subtask-input[_ngcontent-%COMP%]   .confirmation-icons[_ngcontent-%COMP%]   .confirm-icon[_ngcontent-%COMP%]:hover{opacity:.7}.subtask-input-container[_ngcontent-%COMP%]{margin-bottom:1rem}@media (max-width: 768px){.subtask-input-container[_ngcontent-%COMP%]{margin-bottom:.5rem}}.subtask-list-container[_ngcontent-%COMP%]{max-height:fit-content}@media (max-width: 768px){.subtask-list-container[_ngcontent-%COMP%]{max-height:none;overflow-y:visible}}.subtasks-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;height:60px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--background-default-light) white}.subtask-item-simple[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:4px 0;transition:all .2s ease}.subtask-item-simple[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{font-size:16px;color:var(--text-color-dark);font-weight:700;min-width:16px}.subtask-item-simple[_ngcontent-%COMP%]   .subtask-text-simple[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:16px;color:var(--text-color-dark);flex:1}.subtask-item-simple[_ngcontent-%COMP%]   .subtask-text-simple.completed[_ngcontent-%COMP%]{text-decoration:line-through;color:var(--text-color-medium);opacity:.7}.subtask-item-simple[_ngcontent-%COMP%]   .subtask-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:100%}.subtask-item-simple[_ngcontent-%COMP%]   .subtask-display[_ngcontent-%COMP%]   .subtask-text-simple[_ngcontent-%COMP%]{flex:1}.subtask-item-simple[_ngcontent-%COMP%]   .subtask-edit[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:100%}.subtask-item-simple[_ngcontent-%COMP%]   .subtask-edit[_ngcontent-%COMP%]   .subtask-edit-input[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:16px;flex:1;padding:4px 8px;border:1px solid var(--accent-primary-color);border-radius:4px;background-color:var(--background-light);color:var(--text-color-dark)}.subtask-item-simple[_ngcontent-%COMP%]   .subtask-edit[_ngcontent-%COMP%]   .subtask-edit-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-primary-color);box-shadow:0 0 0 2px #2a36471a}.subtask-item-simple[_ngcontent-%COMP%]   .subtask-actions[_ngcontent-%COMP%]{display:flex;gap:8px;opacity:0;transition:opacity .2s ease;margin-left:auto}.subtask-item-simple[_ngcontent-%COMP%]   .subtask-actions[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer}.subtask-item-simple[_ngcontent-%COMP%]   .subtask-actions[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]:hover{opacity:.7}.subtask-item-simple[_ngcontent-%COMP%]:hover{background-color:#00000005;border-radius:4px;padding:4px}.subtask-item-simple[_ngcontent-%COMP%]:hover   .subtask-actions[_ngcontent-%COMP%], .subtask-item-simple[_ngcontent-%COMP%]   .subtask-edit[_ngcontent-%COMP%]   .subtask-actions[_ngcontent-%COMP%]{opacity:1}.subtask-checkbox-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;min-width:24px;margin-right:4px}.subtask-checkbox[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkbox-label[_ngcontent-%COMP%]{cursor:pointer;width:24px;height:24px;background-image:url("./media/checkbox-NRDOVKWM.png");background-size:contain;background-repeat:no-repeat;background-position:center;display:block;transition:all .2s ease}.subtask-checkbox[_ngcontent-%COMP%]:checked + .checkbox-label[_ngcontent-%COMP%]{background-image:url("./media/checkbox-checked-AZOYIH2R.png")}.layout-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;overflow:hidden}@media (max-width: 1000px){.layout-container[_ngcontent-%COMP%]{height:calc(100dvh - 180px)}}.add-task-header[_ngcontent-%COMP%]{width:100%;height:140px;padding:0 clamp(20px,2vw + 10px,40px);display:flex;justify-content:center;align-items:center;position:relative}.add-task-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:Inter;font-weight:700;font-size:clamp(40px,1.875vw + 34px,61px);color:var(--text-color-dark);width:100%;max-width:920px;text-align:left}.add-task-header[_ngcontent-%COMP%]   .btn-close-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;right:clamp(20px,2vw + 10px,40px);transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:8px;border-radius:50%;transition:all .2s ease;display:flex;justify-content:center;align-items:center}.add-task-header[_ngcontent-%COMP%]   .btn-close-overlay[_ngcontent-%COMP%]:hover{background-color:#0000000d;transform:translateY(-50%) scale(1.1)}.add-task-header[_ngcontent-%COMP%]   .btn-close-overlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}@media (max-width: 768px){.add-task-header[_ngcontent-%COMP%]{height:120px}.add-task-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(32px,6vw,48px);text-align:center}.add-task-header[_ngcontent-%COMP%]   .btn-close-overlay[_ngcontent-%COMP%]{padding:6px}.add-task-header[_ngcontent-%COMP%]   .btn-close-overlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}}@media (max-width: 480px){.add-task-header[_ngcontent-%COMP%]{height:100px;padding:0 16px}.add-task-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;text-align:center}.add-task-header[_ngcontent-%COMP%]   .btn-close-overlay[_ngcontent-%COMP%]{right:16px;padding:4px}.add-task-header[_ngcontent-%COMP%]   .btn-close-overlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}}@media (max-width: 310px){.add-task-header[_ngcontent-%COMP%]{height:80px;padding:0 12px}.add-task-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.add-task-header[_ngcontent-%COMP%]   .btn-close-overlay[_ngcontent-%COMP%]{right:12px;padding:4px}.add-task-header[_ngcontent-%COMP%]   .btn-close-overlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}}.add-task-content[_ngcontent-%COMP%]{padding:0 clamp(20px,2vw + 10px,40px);display:block;width:100%;flex:1;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--background-default-light) white}@media (max-width: 768px){.add-task-content[_ngcontent-%COMP%]{padding:16px 16px 100px;overflow-y:auto;min-height:0}}@media (max-width: 480px){.add-task-content[_ngcontent-%COMP%]{padding:16px 16px 100px}}@media (max-width: 310px){.add-task-content[_ngcontent-%COMP%]{padding:12px}}.task-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px;width:100%;max-width:920px;margin:0 auto;padding-bottom:24px}@media (max-width: 768px){.task-form[_ngcontent-%COMP%]{gap:24px;text-align:left;min-height:auto}}.form-main[_ngcontent-%COMP%]{display:flex;gap:40px;align-items:flex-start;width:100%}@media (max-width: 768px){.form-main[_ngcontent-%COMP%]{flex-direction:column;gap:24px;width:100%}}.form-divider[_ngcontent-%COMP%]{width:1px;background-color:#d1d1d1;flex-shrink:0;align-self:stretch}@media (max-width: 768px){.form-divider[_ngcontent-%COMP%]{display:none}}.form-left[_ngcontent-%COMP%], .form-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px;width:100%;max-width:440px}@media (max-width: 768px){.form-left[_ngcontent-%COMP%], .form-right[_ngcontent-%COMP%]{max-width:100%;text-align:left}}.form-left[_ngcontent-%COMP%]   .required-note[_ngcontent-%COMP%], .form-right[_ngcontent-%COMP%]   .required-note[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:16px;color:#000;margin-top:8px;text-align:left}.form-left[_ngcontent-%COMP%]   .required-note[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%], .form-right[_ngcontent-%COMP%]   .required-note[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--text-color-error);vertical-align:top}@media (max-width: 768px){.form-left[_ngcontent-%COMP%]   .required-note[_ngcontent-%COMP%], .form-right[_ngcontent-%COMP%]   .required-note[_ngcontent-%COMP%]{font-size:12px;margin-top:12px}}']})};var kG=n=>({width:n}),PG=(n,e)=>e.id;function OG(n,e){if(n&1){let t=ce();m(0,"a",22),V("click",function(i){U(t);let o=F(2);return $(o.changeStatus("to-do",i))}),y(1,"To Do"),p()}}function AG(n,e){if(n&1){let t=ce();m(0,"a",22),V("click",function(i){U(t);let o=F(2);return $(o.changeStatus("in-progress",i))}),y(1,"In Progress"),p()}}function RG(n,e){if(n&1){let t=ce();m(0,"a",22),V("click",function(i){U(t);let o=F(2);return $(o.changeStatus("await-feedback",i))}),y(1,"Awaiting Feedback"),p()}}function NG(n,e){if(n&1){let t=ce();m(0,"a",22),V("click",function(i){U(t);let o=F(2);return $(o.changeStatus("done",i))}),y(1,"Done"),p()}}function FG(n,e){if(n&1){let t=ce();m(0,"div",20),V("click",function(i){return U(t),$(i.stopPropagation())}),Q(1,OG,2,0,"a",21)(2,AG,2,0,"a",21)(3,RG,2,0,"a",21)(4,NG,2,0,"a",21),p()}if(n&2){let t=F();I(),O("ngIf",t.task.status!=="to-do"),I(),O("ngIf",t.task.status!=="in-progress"),I(),O("ngIf",t.task.status!=="await-feedback"),I(),O("ngIf",t.task.status!=="done")}}function LG(n,e){if(n&1&&(m(0,"div",23)(1,"p",24),y(2),p()()),n&2){let t=e.$implicit,r=F();kt("background-color",r.contactService.getContactColor(t.name)),I(2),Ye(" ",r.contactService.getInitials(t.name)," ")}}function VG(n,e){if(n&1&&(m(0,"div",25),y(1),p()),n&2){let t=F();O("title",t.getRemainingContactNames()),I(),Ye(" +",t.getAllUniqueContacts().length-4," ")}}function jG(n,e){n&1&&j(0,"img",26)}function BG(n,e){n&1&&j(0,"img",27)}function UG(n,e){n&1&&j(0,"img",28)}var e_=class n{constructor(e,t){this.taskService=e;this.contactService=t}contactList=[];task;subtaskList=[];taskSelected=new oe;contacts=new oe;selectedTask;openedMenuTaskId=null;openDotsMenu=new oe;closeDotsMenu=new oe;changeTaskStatus=new oe;onDocumentClick(e){let t=e.target;!t.closest(".dots-menu-btn")&&!t.closest(".dots-menu-overlay")&&this.isDotsMenuOpen&&this.closeDotsMenu.emit()}ngOnInit(){this.getContactList()}ngOnChanges(e){e.task&&!e.task.firstChange&&(this.contactList=[],this.getContactList())}changeStatus(e,t){t&&t.stopPropagation(),this.task.id&&(this.changeTaskStatus.emit({taskId:this.task.id,status:e}),this.closeDotsMenu.emit())}getCompletedSubtasksCount(e){return Array.isArray(e)?e.filter(t=>t.isCompleted).length:0}percentageCompleted(e){if(!e||e.length===0)return 0;let t=this.getCompletedSubtasksCount(e);return Math.round(t/e.length*100)}openTaskDetails(e){this.selectedTask=e,this.taskSelected.emit(this.selectedTask)}get isDotsMenuOpen(){return this.openedMenuTaskId===this.task.id}openDotsMenuHandler(e){e.stopPropagation(),this.isDotsMenuOpen?this.closeDotsMenu.emit():this.openDotsMenu.emit(this.task.id)}getContactList(){return C(this,null,function*(){if(this.contactList=[],this.task?.assignedTo?.length){let e=[...new Set(this.task.assignedTo)];for(let t of e){let r=yield this.contactService.getContactById(t);r&&this.contactList.push(r)}this.contacts.emit(this.contactList)}})}getAllUniqueContacts(){return!this.contactList||this.contactList.length===0?[]:this.contactList.filter((e,t,r)=>t===r.findIndex(i=>i.id===e.id))}getUniqueContacts(){return this.getAllUniqueContacts().slice(0,4)}getRemainingContactNames(){return this.getAllUniqueContacts().slice(4).map(r=>r.name).join(", ")}static \u0275fac=function(t){return new(t||n)(B(Kt),B(Rt))};static \u0275cmp=Ee({type:n,selectors:[["app-task"]],hostBindings:function(t,r){t&1&&V("click",function(o){return r.onDocumentClick(o)},!1,xo)},inputs:{task:"task",subtaskList:"subtaskList",openedMenuTaskId:"openedMenuTaskId"},outputs:{taskSelected:"taskSelected",contacts:"contacts",openDotsMenu:"openDotsMenu",closeDotsMenu:"closeDotsMenu",changeTaskStatus:"changeTaskStatus"},features:[vn],decls:30,vars:17,consts:[[1,"card-layout",3,"click"],[1,"wrapper-top"],[1,"category-flag-card"],["type","button","aria-label","Mehr Optionen",1,"dots-menu-btn",3,"click"],[1,"dot"],["class","dots-menu-overlay",3,"click",4,"ngIf"],[1,"task-card"],[1,"see-more"],[1,"task-description","truncated"],[1,"subtask-wrapper"],[1,"subtask-bar-default"],[1,"subtask-bar-fill",3,"ngStyle"],[1,"card-bottom-wrapper"],[1,"collaborators-wrapper"],[1,"img-user-wrapper"],[1,"img-user",3,"background-color"],["class","img-user more-count",3,"title",4,"ngIf"],["src","assets/img/icons/prio-high.png","alt","Priority High Icon","class","card-priority",4,"ngIf"],["src","assets/img/icons/prio-medium.png","alt","Priority Medium Icon","class","card-priority",4,"ngIf"],["src","assets/img/icons/prio-low.png","alt","Priority Low Icon","class","card-priority",4,"ngIf"],[1,"dots-menu-overlay",3,"click"],[3,"click",4,"ngIf"],[3,"click"],[1,"img-user"],[1,"contact-initials"],[1,"img-user","more-count",3,"title"],["src","assets/img/icons/prio-high.png","alt","Priority High Icon",1,"card-priority"],["src","assets/img/icons/prio-medium.png","alt","Priority Medium Icon",1,"card-priority"],["src","assets/img/icons/prio-low.png","alt","Priority Low Icon",1,"card-priority"]],template:function(t,r){t&1&&(m(0,"div",0),V("click",function(){return r.openTaskDetails(r.task)}),m(1,"div",1)(2,"p",2),y(3),p(),m(4,"button",3),V("click",function(o){return r.openDotsMenuHandler(o)}),j(5,"span",4)(6,"span",4)(7,"span",4),p(),Q(8,FG,5,4,"div",5),p(),m(9,"div",6)(10,"h1",7),y(11),p(),m(12,"p",8),y(13),m(14,"span",7),y(15,"\u2026"),p()(),m(16,"div",9)(17,"div",10),j(18,"div",11),p(),m(19,"span"),y(20),p()(),m(21,"div",12)(22,"div",13)(23,"div",14),Zr(24,LG,3,3,"div",15,PG),Q(26,VG,2,2,"div",16),p()(),Q(27,jG,1,0,"img",17)(28,BG,1,0,"img",18)(29,UG,1,0,"img",19),p()()()),t&2&&(I(2),kt("background-color",r.task.category=="user story"?"#0038ff":"#1fd7c1"),I(),Ye(" ",r.taskService.capitalize(r.task.category)," "),I(5),O("ngIf",r.isDotsMenuOpen),I(3),me(r.taskService.capitalize(r.task.title)),I(2),Ye(" ",r.taskService.capitalize(r.task.description)," "),I(3),kt("visibility",r.subtaskList&&r.subtaskList.length>0?"visible":"hidden"),I(2),O("ngStyle",cn(15,kG,r.percentageCompleted(r.subtaskList)+"%")),I(2),pw(" ",r.getCompletedSubtasksCount(r.subtaskList)," / ",r.subtaskList.length," Subtasks "),I(4),Jr(r.getUniqueContacts()),I(2),O("ngIf",r.getAllUniqueContacts().length>4),I(),O("ngIf",r.task.priority==="urgent"),I(),O("ngIf",r.task.priority==="medium"),I(),O("ngIf",r.task.priority==="low"))},dependencies:[We,Ke,Fs],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.card-layout[_ngcontent-%COMP%]{width:250px;height:fit-content;min-height:200px;background-color:var(--background-light);display:flex;flex-direction:column;align-items:center;border-radius:30px;gap:24px;padding:24px 16px;box-shadow:0 4px 12px #0000004d;cursor:grab;font-family:Inter;font-weight:400;font-size:16px}.card-layout[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:16px;overflow:hidden;text-overflow:ellipsis}.card-layout[_ngcontent-%COMP%]   .category-flag-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-family:Inter;font-weight:400;font-size:16px;height:auto;width:fit-content;padding:4px 8px;border-radius:10px;color:var(--text-color-light)}.task-card[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;flex-direction:column;gap:10px}.task-card[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{color:var(--background-default-dark);width:100%;height:auto;overflow-wrap:break-word;word-break:normal;line-break:auto}.task-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:12px}.task-card[_ngcontent-%COMP%]   .task-description.truncated[_ngcontent-%COMP%]{position:relative;min-height:2lh;max-height:3lh;overflow:hidden}.task-card[_ngcontent-%COMP%]   .task-description.truncated[_ngcontent-%COMP%]   .see-more[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;padding-left:8px;background:linear-gradient(to right,transparent,var(--background-light) 60%)}.subtask-wrapper[_ngcontent-%COMP%]{width:100%;height:fit-content;display:flex;justify-content:center;align-items:center;gap:8px}.subtask-bar-default[_ngcontent-%COMP%]{height:6px;border-radius:2px;flex:1;background-color:var(--background-default-light);position:relative}.subtask-bar-default[_ngcontent-%COMP%]   .subtask-bar-fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:6px;width:0%;border-radius:5px;background-color:#00f}.card-bottom-wrapper[_ngcontent-%COMP%]{width:100%;height:fit-content;display:flex;justify-content:space-between;align-items:center}.card-bottom-wrapper[_ngcontent-%COMP%]   .card-priority[_ngcontent-%COMP%]{width:20px;height:auto}.content-wrapper[_ngcontent-%COMP%]{height:760px;max-width:390px;min-width:320px;background-color:var(--background-light);display:flex;flex-direction:column;border-radius:30px;gap:24px;padding:clamp(16px,2.86vw + 6.85px,48px);font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px)}.content-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:clamp(40px,1.875vw + 34px,61px)}.task-content[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;flex-direction:column;gap:24px}.wrapper-top[_ngcontent-%COMP%]{width:100%;height:fit-content;display:flex;justify-content:space-between}.category-flag[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);height:auto;width:fit-content;padding:8px clamp(10px,.54vw + 8.3px,16px);border-radius:10px;color:var(--text-color-light)}.btn-close[_ngcontent-%COMP%]{cursor:pointer;height:56px;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);gap:8px;border-radius:10px;border:unset;background-color:unset;width:26px;height:26px;padding:0}.btn-close[_ngcontent-%COMP%]:hover{background-color:var(--background-default-light);border-radius:50%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:16px;display:flex;justify-content:center;align-items:center;border:unset;background-color:transparent;gap:8px}.btn-edit[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.btn-edit[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--background-dark)}.btn-edit[_ngcontent-%COMP%]:hover, .btn-delete[_ngcontent-%COMP%]:hover{color:var(--accent-primary-color);border-radius:50%}.btn-edit[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--accent-primary-color)}.btn-wrapper[_ngcontent-%COMP%]{width:100%;height:fit-content;display:flex;justify-content:flex-end;gap:8px}.separator[_ngcontent-%COMP%]{width:1px;height:16px;background-color:var(--background-default-dark)}table[_ngcontent-%COMP%]{gap:24px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:48px}.collaborators-wrapper[_ngcontent-%COMP%]{flex:1;max-width:85%}.img-user-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.img-user-wrapper[_ngcontent-%COMP%]   .img-user[_ngcontent-%COMP%]{background-color:var(--background-default-light);border-radius:50%;border:2px solid var(--background-light);width:32px;height:32px;display:flex;justify-content:center;align-items:center;margin-left:-8px;z-index:1;position:relative}.img-user-wrapper[_ngcontent-%COMP%]   .img-user[_ngcontent-%COMP%]:first-child{margin-left:0}.img-user-wrapper[_ngcontent-%COMP%]   .img-user.more-count[_ngcontent-%COMP%]{background-color:var(--background-default-dark);color:#fff;font-size:.75rem;font-weight:700;cursor:default}.contact-initials[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:12px;color:var(--text-color-light, white)}.dots-menu-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:6px;display:none;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;position:absolute;top:2px;right:2px;z-index:2}.dots-menu-btn[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:3px;height:3px;background:var(--background-default-dark, #333);border-radius:50%;margin:2px 0;display:block}.dots-menu-btn[_ngcontent-%COMP%]:hover   .dot[_ngcontent-%COMP%]{background:var(--accent-primary-color, #0038ff)}.wrapper-top[_ngcontent-%COMP%]{position:relative}.dots-menu-overlay[_ngcontent-%COMP%]{position:absolute;top:36px;right:12px;transform:translate(0);display:flex;flex-direction:column;width:150px;height:auto;background-color:var(--background-dark);padding:10px;gap:8px;border-radius:20px 0 20px 20px;z-index:2;font-family:Inter;font-weight:400;font-size:14px}.dots-menu-overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a8a8a8;text-decoration:none;cursor:pointer;padding:10px 8px;border-radius:10px}.dots-menu-overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background-color:#2a3d59}@media (max-width: 1455px){.card-layout[_ngcontent-%COMP%]{width:230px;height:fit-content;min-height:180px;border-radius:24px;gap:16px;padding:16px 12px;box-shadow:0 3px 10px #00000040;font-size:.85rem}.card-layout[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:.9rem}.card-layout[_ngcontent-%COMP%]   .category-flag-card[_ngcontent-%COMP%]{padding:3px 6px;border-radius:8px;font-size:.75rem}}@media (max-width: 1350px){.card-layout[_ngcontent-%COMP%]{width:190px}}@media (max-width: 1170px){.card-layout[_ngcontent-%COMP%]{width:170px}}@media (max-width: 1000px){.card-layout[_ngcontent-%COMP%]{width:190px;height:fit-content;min-height:160px;border-radius:24px;gap:16px;padding:16px 12px;box-shadow:0 3px 10px #00000040;font-size:.85rem}.card-layout[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:.9rem}.card-layout[_ngcontent-%COMP%]   .category-flag-card[_ngcontent-%COMP%]{padding:3px 6px;border-radius:8px;font-size:.75rem}}@media (max-width: 890px){.card-layout[_ngcontent-%COMP%]{width:180px}.task-card[_ngcontent-%COMP%]   .task-description.truncated[_ngcontent-%COMP%]{max-height:2lh;overflow:hidden}}@media (max-width: 830px){.card-layout[_ngcontent-%COMP%]{width:170px;height:220px}.dots-menu-overlay[_ngcontent-%COMP%]{width:110px;padding:6px;gap:4px;border-radius:12px 0 12px 12px;font-size:.85rem;top:28px;right:6px}.dots-menu-overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:6px 4px;font-size:.85rem}.dots-menu-btn[_ngcontent-%COMP%]{display:flex}}']})};function $G(n,e){n&1&&j(0,"img",39)}function zG(n,e){n&1&&j(0,"img",40)}function HG(n,e){n&1&&j(0,"img",41)}function qG(n,e){n&1&&(m(0,"span",42),y(1,"No contact selected"),p())}function WG(n,e){if(n&1&&(m(0,"div",21)(1,"div",43)(2,"div",44)(3,"p",45),y(4),p()(),m(5,"p",46),y(6),p()()()),n&2){let t=e.$implicit,r=F(2);I(2),kt("background-color",r.contactService.getContactColor(t.name)),I(2),me(r.contactService.getInitials(t.name)),I(2),me(t.name)}}function GG(n,e){n&1&&(m(0,"span",42),y(1,"No subtasks defined"),p())}function KG(n,e){if(n&1){let t=ce();m(0,"div",24)(1,"input",47),V("change",function(){let i=U(t).$implicit,o=F(2);return $(o.onSubtaskToggle(i))}),Bi("ngModelChange",function(i){let o=U(t).$implicit;return To(o.isCompleted,i)||(o.isCompleted=i),$(i)}),p(),j(2,"label",48),m(3,"span"),y(4),p()()}if(n&2){let t=e.$implicit,r=e.$index;I(),O("id","subtask-cb"+r),ji("ngModel",t.isCompleted),I(),O("for","subtask-cb"+r),I(2),me(t.title)}}function QG(n,e){if(n&1){let t=ce();m(0,"div",1)(1,"div",2)(2,"p",3),y(3),p(),m(4,"button",4),V("click",function(){U(t);let i=F();return $(i.onClose())}),an(),m(5,"svg",5)(6,"mask",6),j(7,"rect",7),p(),m(8,"g",8),j(9,"path",9),p()()()(),jn(),m(10,"div",10)(11,"h1"),y(12),p(),m(13,"p",11),y(14),p(),m(15,"div",12)(16,"span",13),y(17,"Due date:"),p(),m(18,"span"),y(19),p()(),m(20,"div",14)(21,"span",13),y(22,"Priority:"),p(),m(23,"span"),y(24),p(),m(25,"div"),Q(26,$G,1,0,"img",15)(27,zG,1,0,"img",16)(28,HG,1,0,"img",17),p()(),m(29,"div",18)(30,"span",13),y(31,"Assigned To:"),p(),Q(32,qG,2,0,"span",19),m(33,"div",20),Zr(34,WG,7,4,"div",21,fw),p()(),m(36,"div",22)(37,"span",13),y(38,"Subtasks:"),p(),Q(39,GG,2,0,"span",19),m(40,"div",23),Zr(41,KG,5,4,"div",24,fw),p()(),m(43,"div",25)(44,"button",26),V("click",function(i){U(t);let o=F();return $(o.deleteTask(i))}),an(),m(45,"svg",27)(46,"mask",28),j(47,"rect",29),p(),m(48,"g",30),j(49,"path",31),p()(),y(50," Delete "),p(),jn(),j(51,"div",32),m(52,"button",33),V("click",function(i){U(t);let o=F();return $(o.openEditTask(i))}),an(),m(53,"svg",34)(54,"mask",35),j(55,"rect",36),p(),m(56,"g",37),j(57,"path",38),p()(),y(58," Edit "),p()()()()}if(n&2){let t=F();I(2),kt("background-color",t.task.category=="user story"?"#0038ff":"#1fd7c1"),I(),me(t.taskService.capitalize(t.task.category)),I(9),me(t.taskService.capitalize(t.task.title)),I(2),me(t.taskService.capitalize(t.task.description)),I(5),me(t.convertDate(t.task.date)),I(5),me(t.task.priority),I(2),O("ngIf",t.task.priority==="urgent"),I(),O("ngIf",t.task.priority==="medium"),I(),O("ngIf",t.task.priority==="low"),I(4),O("ngIf",t.contactList.length<=0),I(2),Jr(t.contactList),I(5),O("ngIf",t.subtasks.length<=0),I(2),Jr(t.subtasks)}}var t_=class n{constructor(e,t,r){this.taskService=e;this.contactService=t;this.router=r}closeTaskDetails=new oe;editTask=new oe;subtaskChanged=new oe;task;contactList=[];showContent=!0;subtasks=[];ngOnInit(){this.loadAssignedContacts(),this.loadSubtasks()}onClose(){this.showContent=!1,this.closeTaskDetails.emit("close")}convertDate(e){return this.taskService.convertDate(e)}openEditTask(e){e&&(e.stopPropagation(),e.preventDefault()),this.taskService.setEditingTask(this.task),this.editTask.emit("edit")}deleteTask(e){e&&(e.stopPropagation(),e.preventDefault()),this.task.id&&(this.taskService.deleteTask(this.task.id),this.onClose())}onSubtaskToggle(e){!this.task.id||!e.id||this.taskService.updateSubtask(this.task.id,e.id,e).then(()=>{this.subtaskChanged.emit(this.subtasks)}).catch(t=>{console.error("Error updating subtask:",t)})}loadSubtasks(){this.task?.id&&this.taskService.getSubtasks(this.task.id).subscribe(e=>{this.subtasks=e})}loadAssignedContacts(){return C(this,null,function*(){if(this.contactList=[],this.task?.assignedTo?.length)for(let e of this.task.assignedTo){let t=yield this.contactService.getContactById(e);t&&this.contactList.push(t)}})}static \u0275fac=function(t){return new(t||n)(B(Kt),B(Rt),B(qe))};static \u0275cmp=Ee({type:n,selectors:[["app-task-details"]],inputs:{task:"task",contactList:"contactList"},outputs:{closeTaskDetails:"closeTaskDetails",editTask:"editTask",subtaskChanged:"subtaskChanged"},decls:1,vars:1,consts:[["class","content-wrapper",4,"ngIf"],[1,"content-wrapper"],[1,"wrapper-top"],[1,"category-flag"],[1,"btn-close",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","mask0_331509_883","maskUnits","userSpaceOnUse","x","0","y","0","width","24","height","24",2,"mask-type","alpha"],["width","24","height","24","fill","#D9D9D9"],["mask","url(#mask0_331509_883)"],["d","M12 13.4L7.10005 18.3C6.91672 18.4834 6.68338 18.575 6.40005 18.575C6.11672 18.575 5.88338 18.4834 5.70005 18.3C5.51672 18.1167 5.42505 17.8834 5.42505 17.6C5.42505 17.3167 5.51672 17.0834 5.70005 16.9L10.6 12L5.70005 7.10005C5.51672 6.91672 5.42505 6.68338 5.42505 6.40005C5.42505 6.11672 5.51672 5.88338 5.70005 5.70005C5.88338 5.51672 6.11672 5.42505 6.40005 5.42505C6.68338 5.42505 6.91672 5.51672 7.10005 5.70005L12 10.6L16.9 5.70005C17.0834 5.51672 17.3167 5.42505 17.6 5.42505C17.8834 5.42505 18.1167 5.51672 18.3 5.70005C18.4834 5.88338 18.575 6.11672 18.575 6.40005C18.575 6.68338 18.4834 6.91672 18.3 7.10005L13.4 12L18.3 16.9C18.4834 17.0834 18.575 17.3167 18.575 17.6C18.575 17.8834 18.4834 18.1167 18.3 18.3C18.1167 18.4834 17.8834 18.575 17.6 18.575C17.3167 18.575 17.0834 18.4834 16.9 18.3L12 13.4Z","fill","#2A3647"],[1,"task-content"],[1,"description"],[1,"date-row"],[1,"row-title"],[1,"priority-row"],["src","assets/img/icons/prio-high.png","alt","Priority High Icon",4,"ngIf"],["src","assets/img/icons/prio-medium.png","alt","Priorit Medium Icon",4,"ngIf"],["src","assets/img/icons/prio-low.png","alt","Priority Low Icon",4,"ngIf"],[1,"assigned-to-row"],["class","info-no-selection",4,"ngIf"],[1,"contact-list"],[1,"contact-item"],[1,"subtask-row"],[1,"subtask-list"],[1,"subtask-item"],[1,"btn-wrapper"],[1,"btn-delete",3,"click"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","mask0_75592_9951","maskUnits","userSpaceOnUse","x","0","y","0","width","25","height","24",2,"mask-type","alpha"],["x","0.144531","width","24","height","24","fill","#D9D9D9"],["mask","url(#mask0_75592_9951)"],["d","M7.14453 21C6.59453 21 6.1237 20.8042 5.73203 20.4125C5.34036 20.0208 5.14453 19.55 5.14453 19V6C4.8612 6 4.6237 5.90417 4.43203 5.7125C4.24036 5.52083 4.14453 5.28333 4.14453 5C4.14453 4.71667 4.24036 4.47917 4.43203 4.2875C4.6237 4.09583 4.8612 4 5.14453 4H9.14453C9.14453 3.71667 9.24036 3.47917 9.43203 3.2875C9.6237 3.09583 9.8612 3 10.1445 3H14.1445C14.4279 3 14.6654 3.09583 14.857 3.2875C15.0487 3.47917 15.1445 3.71667 15.1445 4H19.1445C19.4279 4 19.6654 4.09583 19.857 4.2875C20.0487 4.47917 20.1445 4.71667 20.1445 5C20.1445 5.28333 20.0487 5.52083 19.857 5.7125C19.6654 5.90417 19.4279 6 19.1445 6V19C19.1445 19.55 18.9487 20.0208 18.557 20.4125C18.1654 20.8042 17.6945 21 17.1445 21H7.14453ZM7.14453 6V19H17.1445V6H7.14453ZM9.14453 16C9.14453 16.2833 9.24036 16.5208 9.43203 16.7125C9.6237 16.9042 9.8612 17 10.1445 17C10.4279 17 10.6654 16.9042 10.857 16.7125C11.0487 16.5208 11.1445 16.2833 11.1445 16V9C11.1445 8.71667 11.0487 8.47917 10.857 8.2875C10.6654 8.09583 10.4279 8 10.1445 8C9.8612 8 9.6237 8.09583 9.43203 8.2875C9.24036 8.47917 9.14453 8.71667 9.14453 9V16ZM13.1445 16C13.1445 16.2833 13.2404 16.5208 13.432 16.7125C13.6237 16.9042 13.8612 17 14.1445 17C14.4279 17 14.6654 16.9042 14.857 16.7125C15.0487 16.5208 15.1445 16.2833 15.1445 16V9C15.1445 8.71667 15.0487 8.47917 14.857 8.2875C14.6654 8.09583 14.4279 8 14.1445 8C13.8612 8 13.6237 8.09583 13.432 8.2875C13.2404 8.47917 13.1445 8.71667 13.1445 9V16Z","fill","#2A3647"],[1,"separator"],[1,"btn-edit",3,"click"],["width","33","height","33","viewBox","0 0 33 33","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","mask0_75592_8413","maskUnits","userSpaceOnUse","x","0","y","0","width","33","height","33",2,"mask-type","alpha"],["x","0.394531","y","0.80835","width","32","height","32","fill","#D9D9D9"],["mask","url(#mask0_75592_8413)"],["d","M7.0612 26.1418H8.92787L20.4279 14.6418L18.5612 12.7751L7.0612 24.2751V26.1418ZM26.1279 12.7084L20.4612 7.10843L22.3279 5.24176C22.839 4.73065 23.4668 4.4751 24.2112 4.4751C24.9556 4.4751 25.5834 4.73065 26.0945 5.24176L27.9612 7.10843C28.4723 7.61954 28.739 8.23621 28.7612 8.95843C28.7834 9.68065 28.539 10.2973 28.0279 10.8084L26.1279 12.7084ZM24.1945 14.6751L10.0612 28.8084H4.39453V23.1418L18.5279 9.00843L24.1945 14.6751Z","fill","#2A3647"],["src","assets/img/icons/prio-high.png","alt","Priority High Icon"],["src","assets/img/icons/prio-medium.png","alt","Priorit Medium Icon"],["src","assets/img/icons/prio-low.png","alt","Priority Low Icon"],[1,"info-no-selection"],[1,"img-user-wrapper"],[1,"img-user"],[1,"contact-initials"],[1,"contact-name"],["type","checkbox",1,"checkbox",3,"change","ngModelChange","id","ngModel"],[1,"checkbox-label",3,"for"]],template:function(t,r){t&1&&Q(0,QG,59,12,"div",0),t&2&&O("ngIf",r.showContent)},dependencies:[We,Ke,Xo,Rd,dr,ha],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.content-wrapper[_ngcontent-%COMP%]{height:85dvh;max-height:700px;max-width:450px;min-width:318px;background-color:var(--background-light);display:flex;flex-direction:column;border-radius:30px;gap:24px;padding:clamp(16px,2.86vw + 6.85px,48px);position:relative;font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px)}.content-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:clamp(37px,.89vw + 33px,47px);overflow-wrap:break-word;word-break:normal;line-break:auto;text-overflow:ellipsis}.content-wrapper[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{overflow-wrap:break-word;word-break:normal;line-break:auto}@media (max-width: 550px){.content-wrapper[_ngcontent-%COMP%]{width:95%}.content-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:90%}}.wrapper-top[_ngcontent-%COMP%]{width:100%;height:fit-content;display:flex;justify-content:space-between}.category-flag[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);height:auto;width:fit-content;padding:8px clamp(10px,.54vw + 8.3px,16px);border-radius:10px;color:var(--text-color-light)}.task-content[_ngcontent-%COMP%]{width:100%;height:80%;display:flex;flex-direction:column;overflow-y:auto;min-width:315px;scrollbar-width:none;gap:16px}.task-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.task-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow-wrap:break-word;word-break:normal;line-break:auto}.row-title[_ngcontent-%COMP%]{width:120px;font-weight:600}.date-row[_ngcontent-%COMP%], .priority-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px;width:300px}.assigned-to-row[_ngcontent-%COMP%], .subtask-row[_ngcontent-%COMP%]{height:auto;width:100%;display:flex;flex-direction:column;gap:24px}.img-user-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.img-user-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.img-user-wrapper[_ngcontent-%COMP%]   .img-user[_ngcontent-%COMP%]{background-color:var(--background-default-light);border-radius:50%;width:32px;height:32px;display:flex;justify-content:center;align-items:center}.contact-initials[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:12px;display:flex;justify-content:center;align-items:center;height:fit-content;color:var(--text-color-light)}.contact-list[_ngcontent-%COMP%], .subtask-list[_ngcontent-%COMP%]{width:90%;height:auto;display:flex;flex-direction:column;gap:8px;overflow-wrap:break-word;word-break:normal;line-break:auto}.info-no-selection[_ngcontent-%COMP%]{color:var(--background-default-dark)}.contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;overflow-wrap:break-word;word-break:normal;line-break:auto}.subtask-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;overflow-wrap:break-word;word-break:normal;line-break:auto}.subtask-item[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin:4px;position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkbox-label[_ngcontent-%COMP%]{cursor:pointer;width:24px;height:24px;background-image:url("./media/checkbox-NRDOVKWM.png");background-size:contain;background-repeat:no-repeat;background-position:center;display:block;transition:all .2s ease}.checkbox[_ngcontent-%COMP%]:checked + .checkbox-label[_ngcontent-%COMP%]{background-image:url("./media/checkbox-checked-AZOYIH2R.png")}.btn-close[_ngcontent-%COMP%]{cursor:pointer;height:56px;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);gap:8px;border-radius:10px;border:unset;background-color:unset;width:26px;height:26px;padding:0}.btn-close[_ngcontent-%COMP%]:hover{background-color:var(--background-default-light);border-radius:50%}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:16px;display:flex;justify-content:center;align-items:center;border:unset;background-color:transparent;gap:8px}.btn-edit[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.btn-edit[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--background-dark)}.btn-edit[_ngcontent-%COMP%]:hover, .btn-delete[_ngcontent-%COMP%]:hover{color:var(--accent-primary-color);border-radius:50%}.btn-edit[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--accent-primary-color)}.btn-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:clamp(16px,2.86vw + 6.85px,48px);right:clamp(16px,2.86vw + 6.85px,48px);width:400px;height:fit-content;display:flex;justify-content:flex-end;align-items:center;gap:8px}.separator[_ngcontent-%COMP%]{width:1px;height:16px;background-color:var(--background-default-dark)}']})};var Cx;function YG(){if(Cx==null){let n=typeof document<"u"?document.head:null;Cx=!!(n&&(n.createShadowRoot||n.attachShadow))}return Cx}function n_(n){if(YG()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Fd(n){return n.composedPath?n.composedPath()[0]:n.target}function V2(n){return n.buttons===0||n.detail===0}function j2(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function r_(n,e=0){return ZG(n)?Number(n):arguments.length===2?e:0}function ZG(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function wi(n){return n instanceof wt?n.nativeElement:n}function ns(n,e,t,r,i){let o=parseInt(cu.major),s=parseInt(cu.minor);return o>19||o===19&&s>0||o===0&&s===0?n.listen(e,t,r,i):(e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)})}var i_=new WeakMap,B2=(()=>{class n{_appRef;_injector=N(lt);_environmentInjector=N($t);load(t){let r=this._appRef=this._appRef||this._injector.get(Fi),i=i_.get(r);i||(i={loaders:new Set,refs:[]},i_.set(r,i),r.onDestroy(()=>{i_.get(r)?.refs.forEach(o=>o.destroy()),i_.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(ak(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bx;try{bx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{bx=!1}var Ex=(()=>{class n{_platformId=N(Kr);isBrowser=this._platformId?Pw(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||bx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var JG=new J("cdk-dir-doc",{providedIn:"root",factory:XG});function XG(){return N(tt)}var eK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function tK(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?eK.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Ix=(()=>{class n{value="ltr";change=new oe;constructor(){let t=N(JG,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=tK(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nK=20,U2=(()=>{class n{_ngZone=N(Oe);_platform=N(Ex);_renderer=N(Mn).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ge;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=nK){return this._platform.isBrowser?new fe(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(qh(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ae()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(vt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=wi(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rK=20,$2=(()=>{class n{_platform=N(Ex);_listeners;_viewportSize;_change=new ge;_document=N(tt,{optional:!0});constructor(){let t=N(Oe),r=N(Mn).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=rK){return t>0?this._change.pipe(qh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xx={},z2=(()=>{class n{_appId=N(iu);getId(t){return this._appId!=="ng"&&(t+=this._appId),xx.hasOwnProperty(t)||(xx[t]=0),`${t}${xx[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function H2(n){return Array.isArray(n)?n:[n]}function oF(n){let e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return r==="canvas"?G2(n,e):(r==="input"||r==="select"||r==="textarea")&&W2(n,e),q2("canvas",n,e,G2),q2("input, textarea, select",n,e,W2),e}function q2(n,e,t,r){let i=e.querySelectorAll(n);if(i.length){let o=t.querySelectorAll(n);for(let s=0;s<i.length;s++)r(i[s],o[s])}}var iK=0;function W2(n,e){e.type!=="file"&&(e.value=n.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${iK++}`)}function G2(n,e){let t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function Ax(n){let e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Dx(n,e,t){let{top:r,bottom:i,left:o,right:s}=n;return t>=r&&t<=i&&e>=o&&e<=s}function jd(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function K2(n,e,t,r){let{top:i,right:o,bottom:s,left:a,width:c,height:u}=n,d=c*e,g=u*e;return r>i-g&&r<s+g&&t>a-d&&t<o+d}var o_=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Ax(t)})})}handleScroll(e){let t=Fd(e),r=this.positions.get(t);if(!r)return null;let i=r.scrollPosition,o,s;if(t===this._document){let u=this.getViewportScrollPosition();o=u.top,s=u.left}else o=t.scrollTop,s=t.scrollLeft;let a=i.top-o,c=i.left-s;return this.positions.forEach((u,d)=>{u.clientRect&&t!==d&&t.contains(d)&&jd(u.clientRect,a,c)}),i.top=o,i.left=s,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function sF(n,e){let t=n.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function Rx(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];i?n.setProperty(r,i,t?.has(r)?"important":""):n.removeProperty(r)}return n}function dl(n,e){let t=e?"":"none";Rx(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Q2(n,e,t){Rx(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function s_(n,e){return e&&e!="none"?n+" "+e:n}function Y2(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=a_(e.left,e.top)}function a_(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function Z2(n){let e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function oK(n){let e=getComputedStyle(n),t=Sx(e,"transition-property"),r=t.find(a=>a==="transform"||a==="all");if(!r)return 0;let i=t.indexOf(r),o=Sx(e,"transition-duration"),s=Sx(e,"transition-delay");return Z2(o[i])+Z2(s[i])}function Sx(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}var sK=new Set(["position"]),Mx=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,t,r,i,o,s,a,c,u,d){this._document=e,this._rootElement=t,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=c,this._zIndex=u,this._renderer=d}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),J2(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return oK(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,r=e?e.template:null,i;if(r&&e){let o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(r,e.context);s.detectChanges(),i=sF(s,this._document),this._previewEmbeddedView=s,e.matchSize?Y2(i,o):i.style.transform=a_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=oF(this._rootElement),Y2(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return Rx(i.style,{"pointer-events":"none",margin:J2(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},sK),dl(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>i.classList.add(o)):i.classList.add(t)),i}};function J2(n){return"showPopover"in n}var aK={passive:!0},X2={passive:!1},cK={passive:!1,capture:!0},lK=800,eF=new Set(["position"]),kx=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Gr(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new ge;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Be.EMPTY;_pointerUpSubscription=Be.EMPTY;_scrollSubscription=Be.EMPTY;_resizeSubscription=Be.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>dl(t,e)))}_disabled=!1;beforeStarted=new ge;started=new ge;released=new ge;ended=new ge;entered=new ge;exited=new ge;dropped=new ge;moved=this._moveEvents;data;constrainPosition;constructor(e,t,r,i,o,s,a){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new o_(r),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>wi(r)),this._handles.forEach(r=>dl(r,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=wi(e);return t!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[ns(this._renderer,t,"mousedown",this._pointerDown,X2),ns(this._renderer,t,"touchstart",this._pointerDown,aK),ns(this._renderer,t,"dragstart",this._nativeDragStart,X2)]),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?wi(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),dl(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),dl(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let i=Math.abs(t.x-this._pickupPositionOnPage.x),o=Math.abs(t.y-this._pickupPositionOnPage.y);if(i+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),c=this._dropContainer;if(!a){this._endDragSequence(e);return}(!c||!c.isDragging()&&!c.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let r=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,t);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:e,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Ld(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),r=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=ns(this._renderer,t,"selectstart",uK,cK)}),r){let i=this._rootElement,o=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=new Mx(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,t)),Q2(i,!1,eF),this._document.body.appendChild(o.replaceChild(s,i)),this.started.next({source:this,event:e}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let r=this.isDragging(),i=Ld(t),o=!i&&t.button!==0,s=this._rootElement,a=Fd(t),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+lK>Date.now(),u=i?j2(t):V2(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),r||o||c||u)return;if(this._handles.length){let _=s.style;this._rootElementTapHighlight=_.webkitTapHighlightColor||"",_.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(_=>this._updateOnScroll(_)),this._boundaryElement&&(this._boundaryRect=Ax(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Q2(this._rootElement,!0,eF),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),s=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:i,event:e}),t.drop(this,r,this._initialIndex,this._initialContainer,s,o,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=a=>{(!a||this._preview&&Fd(a)===this._preview.element&&a.propertyName==="transform")&&(s(),r(),clearTimeout(o))},o=setTimeout(i,t*1.5),s=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=sF(this._placeholderRef,this._document)):r=oF(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t,r){let i=t===this._rootElement?null:t,o=i?i.getBoundingClientRect():e,s=Ld(r)?r.targetTouches[0]:r,a=this._getViewportScrollPosition(),c=s.pageX-o.left-a.left,u=s.pageY-o.top-a.top;return{x:o.left-e.left+c,y:o.top-e.top+u}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),r=Ld(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,o=r.pageY-t.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=o,a.matrixTransform(s.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:u}=this._getPreviewRect(),d=a.top+s,g=a.bottom-(u-s),_=a.left+o,v=a.right-(c-o);r=tF(r,_,v),i=tF(i,d,g)}return{x:r,y:i}}_updatePointerDirectionDelta(e){let{x:t,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),a=Math.abs(r-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,dl(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){let r=1/this.scale,i=a_(e*r,t*r),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=s_(i,this._initialTransform)}_applyPreviewTransform(e,t){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=a_(e,t);this._preview.setTransform(s_(i,r))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let o=i.left-r.left,s=r.right-i.right,a=i.top-r.top,c=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,i.height>r.height?(a>0&&(t+=a),c>0&&(t-=c)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:Ld(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let r=Fd(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&jd(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=n_(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let r=this._previewContainer||"global";if(r==="parent")return e;if(r==="global"){let i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return wi(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function tF(n,e,t){return Math.max(e,Math.min(t,n))}function Ld(n){return n.type[0]==="t"}function uK(n){n.preventDefault()}function u_(n,e,t){let r=c_(e,n.length-1),i=c_(t,n.length-1);if(r===i)return;let o=n[r],s=i<r?-1:1;for(let a=r;a!==i;a+=s)n[a]=n[a+s];n[i]=o}function aF(n,e,t,r){let i=c_(t,n.length-1),o=c_(r,e.length);n.length&&e.splice(o,0,n.splice(i,1)[0])}function c_(n,e){return Math.max(0,Math.min(e,n))}var l_=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,r,i){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,r,i);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",c=o.findIndex(R=>R.drag===e),u=o[s],d=o[c].clientRect,g=u.clientRect,_=c>s?1:-1,v=this._getItemOffsetPx(d,g,_),E=this._getSiblingOffsetPx(c,o,_),P=o.slice();return u_(o,c,s),o.forEach((R,K)=>{if(P[K]===R)return;let X=R.drag===e,te=X?v:E,he=X?e.getPlaceholderElement():R.drag.getRootElement();R.offset+=te;let ot=Math.round(R.offset*(1/R.drag.scale));a?(he.style.transform=s_(`translate3d(${ot}px, 0, 0)`,R.initialTransform),jd(R.clientRect,0,te)):(he.style.transform=s_(`translate3d(0, ${ot}px, 0)`,R.initialTransform),jd(R.clientRect,te,0))}),this._previousSwap.overlaps=Dx(g,t,r),this._previousSwap.drag=u.drag,this._previousSwap.delta=a?i.x:i.y,{previousIndex:c,currentIndex:s}}enter(e,t,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,r):i,s=this._activeDraggables,a=s.indexOf(e),c=e.getPlaceholderElement(),u=s[o];if(u===e&&(u=s[o+1]),!u&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(u=s[0]),a>-1&&s.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){let d=u.getRootElement();d.parentElement.insertBefore(c,d),s.splice(o,0,e)}else this._element.appendChild(c),s.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let r=this._itemPositions.find(i=>i.drag===e)?.initialTransform;t.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:r})=>{jd(r,e,t)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:Ax(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_getItemOffsetPx(e,t,r){let i=this.orientation==="horizontal",o=i?t.left-e.left:t.top-e.top;return r===-1&&(o+=i?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,r){let i=this.orientation==="horizontal",o=t[e].clientRect,s=t[e+r*-1],a=o[i?"width":"height"]*r;if(s){let c=i?"left":"top",u=i?"right":"bottom";r===-1?a-=s.clientRect[c]-o[u]:a+=o[c]-s.clientRect[u]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let s=r[r.length-1].clientRect;return i?e>=s.right:t>=s.bottom}else{let s=r[0].clientRect;return i?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,r,i){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:c})=>{if(a===e)return!1;if(i){let u=o?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&u===this._previousSwap.delta)return!1}return o?t>=Math.floor(c.left)&&t<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom)});return s===-1||!this._sortPredicate(s,e)?-1:s}},Px=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<t.length;r++){let i=t[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(e)}sort(e,t,r,i){let o=this._getItemIndexFromPointerPosition(e,t,r),s=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===i.x&&s.deltaY===i.y)return null;let c=this.getItemIndex(e),u=e.getPlaceholderElement(),d=a.getRootElement();o>c?d.after(u):d.before(u),u_(this._activeItems,c,o);let g=this._getRootNode().elementFromPoint(t,r);return s.deltaX=i.x,s.deltaY=i.y,s.drag=a,s.overlaps=d===g||d.contains(g),{previousIndex:c,currentIndex:o}}enter(e,t,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,r):i;o===-1&&(o=this._getClosestItemIndexToPointer(e,t,r));let s=this._activeItems[o],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,e),s.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,o]=this._relatedNodes[r];i.parentNode===e&&i.nextSibling!==o&&(o===null?e.appendChild(i):o.parentNode===e&&e.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,r){let i=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(r)),o=i?this._activeItems.findIndex(s=>{let a=s.getRootElement();return i===a||a.contains(i)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=n_(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==e){let{x:c,y:u}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(t-c,r-u);d<i&&(i=d,o=s)}}return o}},nF=.05,cF=.05,hr=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(hr||{}),En=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(En||{}),Ox=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new ge;entered=new ge;exited=new ge;dropped=new ge;sorted=new ge;receivingStarted=new ge;receivingStopped=new ge;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Be.EMPTY;_verticalScrollDirection=hr.NONE;_horizontalScrollDirection=En.NONE;_scrollNode;_stopScrollTimers=new ge;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,r,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o;let s=this.element=wi(e);this._document=r,this.withOrientation("vertical").withElementContainer(s),t.registerDropContainer(this),this._parentPositions=new o_(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,o,s,a,c={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:s,dropPoint:a,event:c})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof l_&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new Px(this._document,this._dragDropRegistry);else{let t=new l_(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,r)=>this.sortPredicate(t,r,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=wi(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(e);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._domRect||!K2(this._domRect,nF,t,r))return;let o=this._sortStrategy.sort(e,t,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=hr.NONE,o=En.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||r||K2(s.clientRect,nF,e,t)&&([i,o]=dK(a,s.clientRect,this._direction,e,t),(i||o)&&(r=a))}),!i&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),c={width:s,height:a,top:0,right:s,bottom:a,left:0};i=lF(c,t),o=uF(c,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Jy(0,Sh).pipe(Oi(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===hr.UP?e.scrollBy(0,-t):this._verticalScrollDirection===hr.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===En.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===En.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return this._domRect!=null&&Dx(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._domRect||!Dx(this._domRect,t,r)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(t,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(e,t){let r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=n_(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function lF(n,e){let{top:t,bottom:r,height:i}=n,o=i*cF;return e>=t-o&&e<=t+o?hr.UP:e>=r-o&&e<=r+o?hr.DOWN:hr.NONE}function uF(n,e){let{left:t,right:r,width:i}=n,o=i*cF;return e>=t-o&&e<=t+o?En.LEFT:e>=r-o&&e<=r+o?En.RIGHT:En.NONE}function dK(n,e,t,r,i){let o=lF(e,i),s=uF(e,r),a=hr.NONE,c=En.NONE;if(o){let u=n.scrollTop;o===hr.UP?u>0&&(a=hr.UP):n.scrollHeight-u>n.clientHeight&&(a=hr.DOWN)}if(s){let u=n.scrollLeft;t==="rtl"?s===En.RIGHT?u<0&&(c=En.RIGHT):n.scrollWidth+u>n.clientWidth&&(c=En.LEFT):s===En.LEFT?u>0&&(c=En.LEFT):n.scrollWidth-u>n.clientWidth&&(c=En.RIGHT)}return[a,c]}var Vd={capture:!0},Tx={passive:!1,capture:!0},hK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ee({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return n})(),dF=(()=>{class n{_ngZone=N(Oe);_document=N(tt);_styleLoader=N(B2);_renderer=N(Mn).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Gr([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new ge;pointerUp=new ge;scroll=new ge;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=ns(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,Tx)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,r){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(hK),this._activeDragInstances.update(i=>[...i,t]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this.scroll.next(a),Vd],["selectstart",this._preventDefaultWhileDragging,Tx]];i?s.push(["touchend",o,Vd],["touchcancel",o,Vd]):s.push(["mouseup",o,Vd]),i||s.push(["mousemove",a=>this.pointerMove.next(a),Tx]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,c,u])=>ns(this._renderer,this._document,a,c,u))})}}stopDragging(t){this._activeDragInstances.update(r=>{let i=r.indexOf(t);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let r=[this.scroll];return t&&t!==this._document&&r.push(new fe(i=>this._ngZone.runOutsideAngular(()=>{let o=ns(this._renderer,t,"scroll",s=>{this._activeDragInstances().length&&i.next(s)},Vd);return()=>{o()}}))),Vl(...r)}registerDirectiveNode(t,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,r)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fK={dragStartThreshold:5,pointerDirectionChangeThreshold:5},hF=(()=>{class n{_document=N(tt);_ngZone=N(Oe);_viewportRuler=N($2);_dragDropRegistry=N(dF);_renderer=N(Mn).createRenderer(null,null);constructor(){}createDrag(t,r=fK){return new kx(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new Ox(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rF=new J("CDK_DRAG_PARENT");var pK=new J("CdkDragHandle");var d_=new J("CDK_DRAG_CONFIG"),fF=new J("CdkDropList"),pF=(()=>{class n{element=N(wt);dropContainer=N(fF,{optional:!0,skipSelf:!0});_ngZone=N(Oe);_viewContainerRef=N(Er);_dir=N(Ix,{optional:!0});_changeDetectorRef=N(Un);_selfHandle=N(pK,{optional:!0,self:!0});_parentDrag=N(rF,{optional:!0,skipSelf:!0});_dragDropRegistry=N(dF);_destroyed=new ge;_handles=new nt([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new oe;released=new oe;ended=new oe;entered=new oe;exited=new oe;dropped=new oe;moved=new fe(t=>{let r=this._dragRef.moved.pipe(xe(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(t);return()=>{r.unsubscribe()}});_injector=N(lt);constructor(){let t=this.dropContainer,r=N(d_,{optional:!0}),i=N(hF);this._dragRef=i.createDrag(this.element,{dragStartThreshold:r&&r.dragStartThreshold!=null?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&r.pointerDirectionChangeThreshold!=null?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe(Oi(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){rc(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let r=this._handles.getValue();r.push(t),this._handles.next(r)}_removeHandle(t){let r=this._handles.getValue(),i=r.indexOf(t);i>-1&&(r.splice(i,1),this._handles.next(r))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,r=t;this.rootElementSelector&&(r=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):wi(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof i=="object"&&i?i:r_(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(Sn(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){let i=this._dragDropRegistry.getDragDirectiveForNode(r);if(i){t.withParent(i._dragRef);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(t){let{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:c,rootElementSelector:u,previewContainer:d}=t;this.disabled=c??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),u&&(this.rootElementSelector=u),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(Ft(t=>{let r=t.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),mn(t=>Vl(...t.map(r=>r._stateChanges.pipe(fs(r))))),Oi(this._destroyed)).subscribe(t=>{let r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){r&2&&ze("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",$n],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",yw]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ir([{provide:rF,useExisting:n}]),vn]})}return n})(),iF=new J("CdkDropListGroup");var gF=(()=>{class n{element=N(wt);_changeDetectorRef=N(Un);_scrollDispatcher=N(U2);_dir=N(Ix,{optional:!0});_group=N(iF,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new ge;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=N(z2).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new oe;entered=new oe;exited=new oe;sorted=new oe;_unsortedItems=new Set;constructor(){let t=N(hF),r=N(d_,{optional:!0});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,r&&this._assignDefaults(r),this._dropListRef.enterPredicate=(i,o)=>this.enterPredicate(i.data,o.data),this._dropListRef.sortPredicate=(i,o,s)=>this.sortPredicate(i,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef))}removeItem(t){if(this._unsortedItems.delete(t),this._latestSortedRefs){let r=this._latestSortedRefs.indexOf(t._dragRef);r>-1&&(this._latestSortedRefs.splice(r,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((t,r)=>t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(fs(this._dir.value),Oi(this._destroyed)).subscribe(r=>t.withDirection(r)),t.beforeStarted.subscribe(()=>{let r=H2(this.connectedTo).map(i=>{if(typeof i=="string"){let o=n._dropLists.find(s=>s.id===i);return o}return i});if(this._group&&this._group._items.forEach(i=>{r.indexOf(i)===-1&&r.push(i)}),!this._scrollableParentsResolved){let i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let i=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(i)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=r_(this.autoScrollStep,2),t.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef)),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),Vl(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){let{lockAxis:r,draggingDisabled:i,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=t;this.disabled=i??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(t){this._latestSortedRefs=t,this._dropListRef.withItems(t)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,i){r&2&&(ic("id",i.id),ze("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",$n],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",$n],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",$n],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Ir([{provide:iF,useValue:void 0},{provide:fF,useExisting:n}])]})}return n})();var h_=class n{constructor(e){this.taskService=e}taskList=[];subtasksByTaskId={};unsubTask;todo=[];inprogress=[];awaitfeedback=[];done=[];getTaskList(){return this.taskList}getTodoTasks(){return this.todo}getInProgressTasks(){return this.inprogress}getAwaitFeedbackTasks(){return this.awaitfeedback}getDoneTasks(){return this.done}getSubtasksByTaskId(){return this.subtasksByTaskId}getFilteredTasks(e,t){let r=this.getTasksByStatus(e);return this.filterTasksBySearchTerm(r,t)}getTasksByStatus(e){return{"to-do":this.todo,"in-progress":this.inprogress,"await-feedback":this.awaitfeedback,done:this.done}[e]||[]}filterTasksBySearchTerm(e,t){let r=t.trim().toLowerCase();return r?e.filter(i=>i.title.toLowerCase().includes(r)||i.description?.toLowerCase().includes(r)):e}sortTasksByDueDate(e,t=!0){return[...e].sort((r,i)=>t?this.getDateValue(r.date)-this.getDateValue(i.date):this.getDateValue(i.date)-this.getDateValue(r.date))}getDateValue(e){return e?.toDate instanceof Function?e.toDate().getTime():e instanceof Date?e.getTime():typeof e=="string"?new Date(e).getTime():Number.MAX_SAFE_INTEGER}trackByTaskId(e,t){return t.id}loadTasks(){return this.unsubTask=this.taskService.getTasks().subscribe(e=>{this.taskList=e,this.distributeTasksByStatus(e),this.sortAllStatusArrays(),this.loadSubtasks()}),()=>this.unsubTask.unsubscribe()}distributeTasksByStatus(e){this.emptyArrays();for(let t of e)switch(t.status){case"to-do":this.todo.push(t);break;case"in-progress":this.inprogress.push(t);break;case"await-feedback":this.awaitfeedback.push(t);break;case"done":this.done.push(t);break;default:console.warn(`Unknown status in task ${t.title}:`,t.status)}}sortAllStatusArrays(){this.todo=this.sortTasksByDueDate(this.todo),this.inprogress=this.sortTasksByDueDate(this.inprogress),this.awaitfeedback=this.sortTasksByDueDate(this.awaitfeedback),this.done=this.sortTasksByDueDate(this.done)}emptyArrays(){this.todo=[],this.inprogress=[],this.awaitfeedback=[],this.done=[]}loadSubtasks(){for(let e of this.taskList)e.id&&this.taskService.getSubtasks(e.id).subscribe(t=>{this.subtasksByTaskId[e.id]=t})}getSubtasksForTask(e){return e?this.subtasksByTaskId[e]||[]:[]}getSubtasksForSelectedTask(e){return e?.id?this.subtasksByTaskId[e.id]||[]:[]}updateTaskLists(){this.todo=this.sortTasksByDueDate(this.todo),this.inprogress=this.sortTasksByDueDate(this.inprogress),this.awaitfeedback=this.sortTasksByDueDate(this.awaitfeedback),this.done=this.sortTasksByDueDate(this.done)}destroy(){this.unsubTask&&this.unsubTask.unsubscribe(),this.emptyArrays(),this.taskList=[],this.subtasksByTaskId={}}static \u0275fac=function(t){return new(t||n)(Z(Kt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var f_=class n{constructor(e){this.taskService=e}getDragDelay(){return window.innerWidth<1e3?250:0}handleDrop(e,t){let r=e.item.data,i=this.getDropTargetStatus(e.container.id);i&&(this.reorderTasks(e),r.id&&r.status!==i&&this.updateTaskStatus(r,i),t())}getDropTargetStatus(e){return{todoList:"to-do",inprogressList:"in-progress",awaitfeedbackList:"await-feedback",doneList:"done"}[e]}reorderTasks(e){e.previousContainer===e.container?u_(e.container.data,e.previousIndex,e.currentIndex):aF(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}updateTaskStatus(e,t){let r=_e(q({},e),{status:t});this.taskService.updateTask(e.id,r).catch(i=>{console.error("Error updating task status:",i)})}handleDragMove(e,t){let r=e.pointerPosition.y,i=t?.nativeElement;if(!i)return;let{top:o,bottom:s}=i.getBoundingClientRect(),a=100,c=30;r<o+a?i.scrollBy({top:-c,behavior:"auto"}):s-r<a&&i.scrollBy({top:c,behavior:"auto"})}changeTaskStatus(e,t,r,i){let o=r.find(a=>a.id===e);if(!o||o.status===t)return;let s=_e(q({},o),{status:t});this.taskService.updateTask(e,s).then(i)}static \u0275fac=function(t){return new(t||n)(Z(Kt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var p_=class n{constructor(e,t){this.router=e;this.taskService=t}animationDirection="right";backgroundVisible=!1;overlayVisible=!1;showTaskDetails=!1;showAddOrEditTask=!1;selectedTask;getAnimationDirection(){return this.animationDirection}getBackgroundVisible(){return this.backgroundVisible}getOverlayVisible(){return this.overlayVisible}getShowTaskDetails(){return this.showTaskDetails}getShowAddOrEditTask(){return this.showAddOrEditTask}getSelectedTask(){return this.selectedTask}setAnimationDirection(e){this.animationDirection=e<1e3?"bottom":"right"}removeBackground(e){e==="closed"&&(this.backgroundVisible=!1,this.overlayVisible=!1)}onOverlayAnimationDone(e){(e.toState==="right"||e.toState==="bottom")&&setTimeout(()=>{this.backgroundVisible=!0},50)}openAddOrEditOverlay(e,t){let r=window.innerWidth<1e3;(e==="open"||e==="edit")&&(r?(this.resetOverlayState(),this.router.navigate(["/add-task"],{queryParams:{status:t}})):(this.showTaskDetails=!1,this.showAddOrEditTask=!0,this.overlayVisible=!0))}resetOverlayState(){this.overlayVisible=!1,this.showTaskDetails=!1,this.showAddOrEditTask=!1,this.selectedTask=void 0}openTaskDetail(e){this.selectedTask=e,this.showTaskDetails=!0,this.showAddOrEditTask=!1,this.overlayVisible=!0}closeDetailsOverlay(e){this.overlayVisible=!1,this.backgroundVisible=!1,this.showTaskDetails=!1,this.showAddOrEditTask=!1,this.selectedTask=void 0,this.taskService.clearEditingTask()}resetOverlayStates(){this.backgroundVisible=!1,this.overlayVisible=!1,this.showTaskDetails=!1,this.showAddOrEditTask=!1,this.selectedTask=void 0}static \u0275fac=function(t){return new(t||n)(Z(qe),Z(Kt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var yK=["scrollSection"],g_=(n,e,t)=>[n,e,t],vK=(n,e)=>e.id;function wK(n,e){if(n&1){let t=ce();m(0,"div",33),V("click",function(){U(t);let i=F(),o=oc(11);return i.clearSearch(),$(o.focus())}),j(1,"img",34),p()}}function CK(n,e){n&1&&y(0," No matching tasks found ")}function bK(n,e){n&1&&y(0," No tasks To do ")}function EK(n,e){if(n&1&&(m(0,"div",26),Q(1,CK,1,0)(2,bK,1,0),p()),n&2){let t=F();I(),Yr(t.searchTerm.trim()?1:2)}}function IK(n,e){if(n&1){let t=ce();m(0,"app-task",35),V("cdkDragMoved",function(i){U(t);let o=F();return $(o.onDragMoved(i))})("taskSelected",function(i){U(t);let o=F();return $(o.openTaskDetail(i))})("contacts",function(i){U(t);let o=F();return $(o.getContactList(i))})("openDotsMenu",function(i){U(t);let o=F();return $(o.openedMenuTaskId=i)})("closeDotsMenu",function(){U(t);let i=F();return $(i.openedMenuTaskId=null)})("changeTaskStatus",function(i){U(t);let o=F();return $(o.changeTaskStatus(i))}),p()}if(n&2){let t=e.$implicit,r=F();O("cdkDragData",t)("cdkDragStartDelay",r.getDragDelay())("task",t)("subtaskList",r.getSubtasksForTask(t.id))("openedMenuTaskId",r.openedMenuTaskId)}}function xK(n,e){n&1&&y(0," No matching tasks found ")}function SK(n,e){n&1&&y(0," No tasks in progress ")}function TK(n,e){if(n&1&&(m(0,"div",26),Q(1,xK,1,0)(2,SK,1,0),p()),n&2){let t=F();I(),Yr(t.searchTerm.trim()?1:2)}}function DK(n,e){if(n&1){let t=ce();m(0,"app-task",35),V("cdkDragMoved",function(i){U(t);let o=F();return $(o.onDragMoved(i))})("taskSelected",function(i){U(t);let o=F();return $(o.openTaskDetail(i))})("contacts",function(i){U(t);let o=F();return $(o.getContactList(i))})("openDotsMenu",function(i){U(t);let o=F();return $(o.openedMenuTaskId=i)})("closeDotsMenu",function(){U(t);let i=F();return $(i.openedMenuTaskId=null)})("changeTaskStatus",function(i){U(t);let o=F();return $(o.changeTaskStatus(i))}),p()}if(n&2){let t=e.$implicit,r=F();O("cdkDragData",t)("cdkDragStartDelay",r.getDragDelay())("task",t)("subtaskList",r.getSubtasksForTask(t.id))("openedMenuTaskId",r.openedMenuTaskId)}}function MK(n,e){n&1&&y(0," No matching tasks found ")}function kK(n,e){n&1&&y(0," No tasks for feedback ")}function PK(n,e){if(n&1&&(m(0,"div",26),Q(1,MK,1,0)(2,kK,1,0),p()),n&2){let t=F();I(),Yr(t.searchTerm.trim()?1:2)}}function OK(n,e){if(n&1){let t=ce();m(0,"app-task",35),V("cdkDragMoved",function(i){U(t);let o=F();return $(o.onDragMoved(i))})("taskSelected",function(i){U(t);let o=F();return $(o.openTaskDetail(i))})("contacts",function(i){U(t);let o=F();return $(o.getContactList(i))})("openDotsMenu",function(i){U(t);let o=F();return $(o.openedMenuTaskId=i)})("closeDotsMenu",function(){U(t);let i=F();return $(i.openedMenuTaskId=null)})("changeTaskStatus",function(i){U(t);let o=F();return $(o.changeTaskStatus(i))}),p()}if(n&2){let t=e.$implicit,r=F();O("cdkDragData",t)("cdkDragStartDelay",r.getDragDelay())("task",t)("subtaskList",r.getSubtasksForTask(t.id))("openedMenuTaskId",r.openedMenuTaskId)}}function AK(n,e){n&1&&y(0," No matching tasks found ")}function RK(n,e){n&1&&y(0," No tasks done ")}function NK(n,e){if(n&1&&(m(0,"div",26),Q(1,AK,1,0)(2,RK,1,0),p()),n&2){let t=F();I(),Yr(t.searchTerm.trim()?1:2)}}function FK(n,e){if(n&1){let t=ce();m(0,"app-task",35),V("cdkDragMoved",function(i){U(t);let o=F();return $(o.onDragMoved(i))})("taskSelected",function(i){U(t);let o=F();return $(o.openTaskDetail(i))})("contacts",function(i){U(t);let o=F();return $(o.getContactList(i))})("openDotsMenu",function(i){U(t);let o=F();return $(o.openedMenuTaskId=i)})("closeDotsMenu",function(){U(t);let i=F();return $(i.openedMenuTaskId=null)})("changeTaskStatus",function(i){U(t);let o=F();return $(o.changeTaskStatus(i))}),p()}if(n&2){let t=e.$implicit,r=F();O("cdkDragData",t)("cdkDragStartDelay",r.getDragDelay())("task",t)("subtaskList",r.getSubtasksForTask(t.id))("openedMenuTaskId",r.openedMenuTaskId)}}function LK(n,e){if(n&1){let t=ce();m(0,"button",36),V("click",function(){U(t);let i=F();return $(i.scrollToTop())}),m(1,"span",37),y(2,"\u2191"),p()()}}function VK(n,e){if(n&1){let t=ce();m(0,"app-add-task",44),V("taskAdded",function(i){U(t);let o=F(3);return $(o.closeDetailsOverlay(i))})("closeOverlay",function(){U(t);let i=F(3);return $(i.closeDetailsOverlay("close"))}),p()}if(n&2){let t=F(3);O("defaultStatus",t.setTaskStatus)("isOverlayMode",!0)}}function jK(n,e){if(n&1&&(m(0,"div",42),Q(1,VK,1,2,"app-add-task",43),p()),n&2){let t=F(2);I(),O("ngIf",t.showAddOrEditTask)}}function BK(n,e){if(n&1){let t=ce();m(0,"app-task-details",45),V("closeTaskDetails",function(i){U(t);let o=F(2);return $(o.closeDetailsOverlay(i))})("editTask",function(){U(t);let i=F(2);return $(i.openAddOrEditOverlay("edit",""))})("subtaskChanged",function(i){U(t);let o=F(2);return $(o.onSubtaskUpdate(i))}),p()}if(n&2){let t=F(2);O("task",t.selectedTask)("contactList",t.contactList)}}function UK(n,e){if(n&1){let t=ce();m(0,"div",38),V("@slideInOut.done",function(i){U(t);let o=F();return $(o.onOverlayAnimationDone(i))}),m(1,"div",39),Q(2,jK,2,1,"div",40)(3,BK,1,2,"app-task-details",41),p()()}if(n&2){let t=F();ze("backgroundVisible",t.backgroundVisible),O("@slideInOut",t.animationDirection),I(2),O("ngIf",t.showAddOrEditTask),I(),O("ngIf",t.showTaskDetails&&t.selectedTask)}}var m_=class n{constructor(e,t,r){this.taskListManager=e;this.dragDropManager=t;this.overlayManager=r}searchTerm="";unsubTask;unsubSubtask;unsubContact;subtaskList=[];contactList=[];setTaskStatus="to-do";showBackToTop=!1;openedMenuTaskId=null;get animationDirection(){return this.overlayManager.getAnimationDirection()}get backgroundVisible(){return this.overlayManager.getBackgroundVisible()}get overlayVisible(){return this.overlayManager.getOverlayVisible()}get showTaskDetails(){return this.overlayManager.getShowTaskDetails()}get showAddOrEditTask(){return this.overlayManager.getShowAddOrEditTask()}get selectedTask(){return this.overlayManager.getSelectedTask()}get taskList(){return this.taskListManager.getTaskList()}get subtasksByTaskId(){return this.taskListManager.getSubtasksByTaskId()}get todo(){return this.taskListManager.getTodoTasks()}get inprogress(){return this.taskListManager.getInProgressTasks()}get awaitfeedback(){return this.taskListManager.getAwaitFeedbackTasks()}get done(){return this.taskListManager.getDoneTasks()}scrollSection;ngAfterViewInit(){this.scrollSection.nativeElement.addEventListener("scroll",()=>this.onSectionScroll())}onSectionScroll(){let e=this.scrollSection.nativeElement.scrollTop;this.showBackToTop=e>300}scrollToTop(){this.scrollSection.nativeElement.scrollTo({top:0,behavior:"smooth"})}ngOnInit(){this.taskListManager.loadTasks(),this.overlayManager.setAnimationDirection(window.innerWidth),window.addEventListener("resize",()=>{this.overlayManager.setAnimationDirection(window.innerWidth)})}onSearchInput(){}getFilteredTasks(e){return this.taskListManager.getFilteredTasks(e,this.searchTerm)}clearSearch(){this.searchTerm=""}setAnimationDirection(e){this.overlayManager.setAnimationDirection(e)}removeBackground(e){this.overlayManager.removeBackground(e)}onOverlayAnimationDone(e){this.overlayManager.onOverlayAnimationDone(e)}getDragDelay(){return this.dragDropManager.getDragDelay()}drop(e){this.dragDropManager.handleDrop(e,()=>{this.taskListManager.updateTaskLists()})}saveTaskStatus(e){this.setTaskStatus=e}openAddOrEditOverlay(e,t){this.overlayManager.openAddOrEditOverlay(e,t)}openTaskDetail(e){this.overlayManager.openTaskDetail(e)}closeDetailsOverlay(e){this.overlayManager.closeDetailsOverlay(e)}getSubtasksForTask(e){return this.taskListManager.getSubtasksForTask(e)}getSubtasksForSelectedTask(){return this.taskListManager.getSubtasksForSelectedTask(this.selectedTask)}getContactList(e){this.contactList=e}onSubtaskUpdate(e){this.subtaskList=[...e]}trackByTaskId(e,t){return this.taskListManager.trackByTaskId(e,t)}changeTaskStatus(e){let{taskId:t,status:r}=e;this.dragDropManager.changeTaskStatus(t,r,this.taskList,()=>{this.taskListManager.loadTasks()})}onDragMoved(e){this.dragDropManager.handleDragMove(e,this.scrollSection)}static \u0275fac=function(t){return new(t||n)(B(h_),B(f_),B(p_))};static \u0275cmp=Ee({type:n,selectors:[["app-board"]],viewQuery:function(t,r){if(t&1&&su(yK,5),t&2){let i;Os(i=As())&&(r.scrollSection=i.first)}},decls:66,vars:40,consts:[["scrollSection",""],["searchInput",""],["todoList","cdkDropList"],["inprogressList","cdkDropList"],["awaitfeedbackList","cdkDropList"],["doneList","cdkDropList"],[3,"scroll"],[1,"layout-container"],[1,"board-header"],[1,"header-headline"],["src","assets/img/icons/add-box-fill.png","alt","add task button",1,"add-icon",3,"click"],[1,"header-controls"],[1,"search-input-container"],["type","text","placeholder","Find Task",3,"ngModelChange","input","ngModel"],[1,"clear-search-wrapper"],[1,"separator"],[1,"search-icon-wrapper"],["src","assets/img/icons/search.png","alt","Search",1,"search-icon"],[3,"click"],[1,"task-columns"],[1,"column"],[1,"column-header"],[1,"icon-container",3,"click"],["src","assets/img/icons/add-box.png","alt","Add new task",1,"default-icon"],["src","assets/img/icons/add-box-hover.png","alt","Add new task",1,"hover-icon"],["cdkDropList","","id","todoList",1,"drop-list",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],[1,"empty-column"],["cdkDrag","",3,"cdkDragData","cdkDragStartDelay","task","subtaskList","openedMenuTaskId"],["cdkDropList","","id","inprogressList",1,"drop-list",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],["cdkDropList","","id","awaitfeedbackList",1,"drop-list",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],["cdkDropList","","id","doneList",1,"drop-list",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],["class","back-to-top",3,"click",4,"ngIf"],["class","task-overlay",3,"backgroundVisible",4,"ngIf"],[1,"clear-search-wrapper",3,"click"],["src","assets/img/icons/close.png","alt","Clear search",1,"clear-search-icon"],["cdkDrag","",3,"cdkDragMoved","taskSelected","contacts","openDotsMenu","closeDotsMenu","changeTaskStatus","cdkDragData","cdkDragStartDelay","task","subtaskList","openedMenuTaskId"],[1,"back-to-top",3,"click"],[1,"arrow-up"],[1,"task-overlay"],[1,"max-width-container"],["class","content-wrapper",4,"ngIf"],["class","task-details",3,"task","contactList","closeTaskDetails","editTask","subtaskChanged",4,"ngIf"],[1,"content-wrapper"],[3,"defaultStatus","isOverlayMode","taskAdded","closeOverlay",4,"ngIf"],[3,"taskAdded","closeOverlay","defaultStatus","isOverlayMode"],[1,"task-details",3,"closeTaskDetails","editTask","subtaskChanged","task","contactList"]],template:function(t,r){if(t&1){let i=ce();m(0,"section",6,0),V("scroll",function(){return U(i),$(r.onSectionScroll())}),m(2,"div",7)(3,"div",8)(4,"div",9)(5,"h1"),y(6,"Board"),p(),m(7,"img",10),V("click",function(){return U(i),$(r.openAddOrEditOverlay("open","to-do"))})("click",function(){return U(i),$(r.saveTaskStatus("to-do"))}),p()(),m(8,"div",11)(9,"div",12)(10,"input",13,1),Bi("ngModelChange",function(s){return U(i),To(r.searchTerm,s)||(r.searchTerm=s),$(s)}),V("input",function(){return U(i),$(r.onSearchInput())}),p(),Q(12,wK,2,0,"div",14),j(13,"div",15),m(14,"div",16),j(15,"img",17),p()(),m(16,"button",18),V("click",function(){return U(i),$(r.openAddOrEditOverlay("open","to-do"))})("click",function(){return U(i),$(r.saveTaskStatus("to-do"))}),y(17," Add Task + "),p()()(),m(18,"div",19)(19,"div",20)(20,"div",21)(21,"h2"),y(22,"To do"),p(),m(23,"div",22),V("click",function(){return U(i),$(r.openAddOrEditOverlay("open","to-do"))})("click",function(){return U(i),$(r.saveTaskStatus("to-do"))}),j(24,"img",23)(25,"img",24),p()(),m(26,"div",25,2),V("cdkDropListDropped",function(s){return U(i),$(r.drop(s))}),Q(28,EK,3,1,"div",26),Zr(29,IK,1,5,"app-task",27,r.trackByTaskId,!0),p()(),m(31,"div",20)(32,"div",21)(33,"h2"),y(34,"In progress"),p(),m(35,"div",22),V("click",function(){return U(i),$(r.openAddOrEditOverlay("open","in-progress"))})("click",function(){return U(i),$(r.saveTaskStatus("in-progress"))}),j(36,"img",23)(37,"img",24),p()(),m(38,"div",28,3),V("cdkDropListDropped",function(s){return U(i),$(r.drop(s))}),Q(40,TK,3,1,"div",26),Zr(41,DK,1,5,"app-task",27,r.trackByTaskId,!0),p()(),m(43,"div",20)(44,"div",21)(45,"h2"),y(46,"Await feedback"),p(),m(47,"div",22),V("click",function(){return U(i),$(r.openAddOrEditOverlay("open","await-feedback"))})("click",function(){return U(i),$(r.saveTaskStatus("await-feedback"))}),j(48,"img",23)(49,"img",24),p()(),m(50,"div",29,4),V("cdkDropListDropped",function(s){return U(i),$(r.drop(s))}),Q(52,PK,3,1,"div",26),Zr(53,OK,1,5,"app-task",27,vK),p()(),m(55,"div",20)(56,"div",21)(57,"h2"),y(58,"Done"),p()(),m(59,"div",30,5),V("cdkDropListDropped",function(s){return U(i),$(r.drop(s))}),Q(61,NK,3,1,"div",26),Zr(62,FK,1,5,"app-task",27,r.trackByTaskId,!0),p()()()(),Q(64,LK,3,0,"button",31),p(),Q(65,UK,4,5,"div",32)}if(t&2){let i=oc(27),o=oc(39),s=oc(51),a=oc(60);I(10),ji("ngModel",r.searchTerm),I(2),Yr(r.searchTerm.trim()?12:-1),I(14),ze("drop-list-empty",r.getFilteredTasks("to-do").length===0),O("cdkDropListData",r.todo)("cdkDropListConnectedTo",au(24,g_,o,s,a)),I(2),Yr(r.getFilteredTasks("to-do").length===0?28:-1),I(),Jr(r.getFilteredTasks("to-do")),I(9),ze("drop-list-empty",r.getFilteredTasks("in-progress").length===0),O("cdkDropListData",r.inprogress)("cdkDropListConnectedTo",au(28,g_,i,s,a)),I(2),Yr(r.getFilteredTasks("in-progress").length===0?40:-1),I(),Jr(r.getFilteredTasks("in-progress")),I(9),ze("drop-list-empty",r.getFilteredTasks("await-feedback").length===0),O("cdkDropListData",r.awaitfeedback)("cdkDropListConnectedTo",au(32,g_,i,o,a)),I(2),Yr(r.getFilteredTasks("await-feedback").length===0?52:-1),I(),Jr(r.getFilteredTasks("await-feedback")),I(6),ze("drop-list-empty",r.getFilteredTasks("done").length===0),O("cdkDropListData",r.done)("cdkDropListConnectedTo",au(36,g_,i,o,s)),I(2),Yr(r.getFilteredTasks("done").length===0?61:-1),I(),Jr(r.getFilteredTasks("done")),I(2),O("ngIf",r.showBackToTop),I(),O("ngIf",r.overlayVisible)}},dependencies:[e_,t_,gF,pF,We,Ke,Xo,ur,dr,ha,ul],styles:[`@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}.board-header{display:flex;justify-content:space-between;align-items:center;width:100%;height:200px;padding:0 clamp(20px,2vw + 10px,40px)}.board-header h1{margin:0;font-family:Inter;font-weight:700;font-size:clamp(40px,1.875vw + 34px,61px);color:var(--text-color-dark)}.board-header .add-icon{display:none}.board-header .header-controls{display:flex;gap:10px;align-items:center}.board-header .header-controls .search-input-container{position:relative;display:flex;align-items:center;width:251px;height:51px;cursor:pointer}.board-header .header-controls .search-input-container input{width:100%;height:48px;border:1px solid var(--background-default-dark);border-radius:10px;padding:12px 50px 12px 16px;font-family:Inter;font-weight:400;font-size:16px;background:var(--background-light);cursor:pointer}.board-header .header-controls .search-input-container input::placeholder{color:var(--text-color-medium)}.board-header .header-controls .search-input-container input:focus{outline:none;border-color:var(--accent-primary-color)}.board-header .header-controls .search-input-container .separator{position:absolute;right:40px;top:50%;transform:translateY(-50%);width:1px;height:20px;background-color:#ccc}.board-header .header-controls .search-input-container .search-icon-wrapper{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s ease}.board-header .header-controls .search-input-container .search-icon-wrapper .search-icon{width:16px;height:16px}.board-header .header-controls .search-input-container .clear-search-wrapper{position:absolute;right:50px;top:50%;transform:translateY(-50%);width:20px;height:20px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:2}.board-header .header-controls .search-input-container .clear-search-wrapper .clear-search-icon{width:14px;height:14px;opacity:.5;transition:opacity .2s ease,transform .1s ease}.board-header .header-controls .search-input-container .clear-search-wrapper .clear-search-icon:hover{opacity:.8;transform:scale(1.1)}.board-header .header-controls .search-input-container .clear-search-wrapper .clear-search-icon:active{transform:scale(.95)}.board-header .header-controls button{height:48px;padding:0 20px;min-width:120px;border:none;border-radius:8px;background-color:var(--background-dark);color:#fff;font-family:Inter;font-weight:700;font-size:clamp(18px,.27vw + 17.14px,21px);cursor:pointer;transition:all .3s ease}.board-header .header-controls button:hover{background-color:var(--accent-primary-color);box-shadow:0 4px 8px #00000042}@media (max-width: 830px){.board-header{height:auto;padding:20px}.board-header .header-headline{display:flex;justify-content:flex-start;align-items:center;width:100%;gap:8px}.board-header .header-headline .add-icon{display:unset;width:38px;height:38px;flex-shrink:0}.board-header .add-icon{display:unset}.board-header .header-controls>button{display:none}}@media (max-width: 450px){.board-header{flex-direction:column;padding-top:40px;padding-bottom:30px;gap:40px}.board-header .header-headline{display:flex;justify-content:space-between;align-items:center;width:100%}.board-header .header-controls{width:100%;gap:0}.board-header .header-controls>button{display:none}.board-header .header-controls .search-input-container{width:100%;max-width:none}.board-header .header-controls .search-input-container input{width:100%;box-sizing:border-box}}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*{margin:0;padding:0;box-sizing:border-box}* a{text-decoration:none}* input,* textarea{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging,.cdk-drag-dragging *{cursor:grabbing!important}.cdk-drag-preview{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview,.cdk-drag-preview *{cursor:grabbing!important}:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.drop-list{width:300px;height:auto;display:flex;flex-direction:column;align-items:center;padding:10px;margin:10px 0 0;gap:15px;transition:all .2s ease}.drop-list.cdk-drop-list-receiving{background-color:#f9f9f9;border:1px dashed rgba(0,0,0,.2);box-shadow:0 2px 8px #0000001a;border-radius:10px}.drop-list.cdk-drop-list-dragging app-task:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder{opacity:1;border:1px dashed black;background-color:#42526e1a}.cdk-drag-placeholder *{opacity:0;visibility:hidden}.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}app-task{cursor:grab!important;transform-origin:center center;border-radius:30px;transition:box-shadow .2s ease,opacity .2s ease}app-task:active:not(.cdk-drag-dragging){transform:rotate(5deg);transition:transform .3s ease .25s;cursor:grabbing!important}app-task:active:not(.cdk-drag-dragging) *{cursor:grabbing!important}app-task.cdk-drag-dragging{cursor:grabbing!important;transform:rotate(5deg)!important;transition:transform .1s ease-in-out!important}app-task.cdk-drag-dragging *{cursor:grabbing!important}app-task.cdk-drag-disabled{cursor:default;opacity:.5;pointer-events:none}app-task:not(.cdk-drag-dragging):not(:active):hover{box-shadow:0 6px 20px #0003;transition:box-shadow .2s ease}@media (max-width: 1455px){.drop-list{width:100%}}@media (max-width: 1350px){.drop-list{width:100%}}@media (max-width: 1000px){app-task:active:not(.cdk-drag-dragging){transition:transform .3s ease 0ms}.drop-list{width:220px;display:flex;flex-direction:column;align-items:center;padding:8px;margin:10px 0;gap:12px}}@media (max-width: 890px){.drop-list{width:100%;max-width:100%;gap:12px}}@media (max-width: 830px){.cdk-drag-preview,.cdk-drag-placeholder{max-width:160px!important;min-width:160px!important;box-sizing:border-box;overflow:hidden!important}.drop-list{width:max-content;min-width:100%;max-width:calc(100vw - 40px);min-height:200px;max-height:250px;display:flex!important;flex-direction:row!important;flex-wrap:nowrap;justify-content:flex-start;align-items:flex-start;overflow-x:auto;overflow-y:hidden;gap:22px;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.3) rgba(0,0,0,.1)}.drop-list.drop-list-empty{min-height:100px;height:auto;padding:5px 10px}.drop-list app-task{flex:0 0 160px;width:160px}}section{width:100%;height:calc(100vh - 140px);overflow-y:auto;overflow-x:hidden;scrollbar-width:thin;scrollbar-color:var(--background-default-light) white;display:flex;flex-direction:column;padding-bottom:18px;box-sizing:border-box}.layout-container{flex:unset;display:flex;flex-direction:column;overflow:visible;height:auto}.task-columns{height:auto;min-height:unset;flex:1 1 auto;display:flex;justify-content:space-between;align-items:flex-start;overflow:visible;gap:20px;padding:0 clamp(20px,2vw + 10px,40px);font-family:Inter;font-weight:400;font-size:12px}.column{max-width:250px;min-width:200px;height:auto;display:flex;flex-direction:column;align-items:center;gap:10px;position:relative;flex:0 0 auto}.column .column-header{width:100%;display:flex;justify-content:space-between;align-items:center;gap:10px;color:#42526e}.column .icon-container{position:relative;width:24px;height:24px;display:flex;align-items:center;justify-content:center}.column .icon-container img{width:22px;height:22px;transition:opacity .3s ease;cursor:pointer}.column .icon-container .hover-icon{opacity:0;position:absolute}.column .icon-container .default-icon{position:absolute}.column .icon-container:hover .default-icon{opacity:0}.column .icon-container:hover .hover-icon{opacity:1}.empty-column{width:95%;display:flex;justify-content:center;align-items:center;text-align:center;border:dashed 1px #ccc;border-radius:14px;color:#0006;background-color:#cccccc31;margin:0 auto;padding:20px;opacity:.9;font-family:Inter;font-weight:400;font-size:14px}.back-to-top{position:fixed;bottom:32px;right:32px;width:48px;height:48px;border-radius:12px;background:var(--background-dark, #42526e);color:#fff;border:none;box-shadow:0 4px 16px #000000e6;display:flex;align-items:center;justify-content:center;font-size:2rem;cursor:pointer;z-index:2000;transition:background .2s,box-shadow .2s}.back-to-top:hover{background:var(--accent-primary-color, #29abe2);box-shadow:0 6px 24px #00000038}.back-to-top .arrow-up{font-size:1.4rem;line-height:1;font-weight:700;-webkit-user-select:none;user-select:none}.task-overlay{position:fixed;top:0;left:0;width:100%;height:100dvh;background-color:#0000;z-index:1000;transition:background-color .25s ease .15s}.task-overlay.backgroundVisible{background-color:#00000080}.max-width-container{max-width:1672px;height:100dvh;display:flex;justify-content:center;align-items:center}.task-details{width:100%;display:flex;justify-content:center;align-items:center}@media (max-width: 1455px){.task-columns{display:flex;justify-content:center;align-items:flex-start;gap:30px;padding:0 20px 40px}.column{flex:0 0 calc(25% - 12px);width:auto;min-width:200px}}@media (max-width: 1350px){.task-columns{justify-content:space-between;gap:15px}.column{min-width:150px;max-width:220px;width:auto}}@media (max-width: 1170px){.task-columns{display:flex;justify-content:center;align-items:flex-start;gap:8px;padding:0 0 40px}}@media (max-width: 1000px){section{height:calc(100dvh - 180px);padding-bottom:100px}.layout-container{height:calc(100dvh - 180px)}.task-columns{flex-wrap:nowrap;gap:0;padding-left:8px;font-size:.65rem;max-width:100vw}.task-columns .icon-container img{width:18px;height:18px;transition:opacity .3s ease;cursor:pointer}.column{flex:0 0 auto;min-width:180px;max-width:220px}.back-to-top{bottom:90px;right:12px}}@media (max-width: 890px){.task-columns{gap:8px;max-width:100%}.column{flex:0 0 auto;width:200px;min-width:180px;max-width:250px}}@media (max-width: 830px){section{padding-bottom:0}.layout-container{max-height:unset;overflow-y:visible;overflow-x:visible;padding-right:16px}.task-columns{width:100%;min-height:calc(100vh - 140px);flex:0 0 auto;overflow-y:visible;padding:0 0 0 20px;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;align-items:center;gap:8px}.column{flex:none;width:100%;min-width:100%;max-width:none;overflow:visible}}@media (max-width: 450px){.column-header h2{font-size:24px}.column .icon-container{width:29px;height:29px}.column .icon-container img{width:24px;height:24px}.empty-column{width:100%;padding:14px}}.content-wrapper{background-color:var(--background-light);height:750px;width:850px;min-width:315px;display:flex;flex-direction:column;border-radius:30px;gap:24px;position:relative;font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px)}.content-wrapper h1{font-family:Inter;font-weight:700;font-size:clamp(37px,.89vw + 33px,47px)}@media (max-width: 550px){.content-wrapper{width:95%}}.close-btn-wrapper{display:flex;width:100%;height:auto;justify-content:flex-end}.btn-close{width:fit-content;border-radius:50%;border:unset;background-color:transparent}.btn-close:hover{background-color:var(--background-default-light)}
`],encapsulation:2,data:{animation:[fn("slideInOut",[dt("void => right",[Ne({transform:"translateX(100%)",opacity:0}),ut("250ms ease-in-out",Ne({transform:"translateX(0)",opacity:1}))]),dt("right => void",[ut("250ms ease-in-out",Ne({transform:"translateX(100%)",opacity:0}))]),dt("void => bottom",[Ne({transform:"translateY(100%)",opacity:0}),ut("250ms ease-in-out",Ne({transform:"translateY(0)",opacity:1}))]),dt("bottom => void",[ut("250ms ease-in-out",Ne({transform:"translateY(100%)",opacity:0}))])])]}})};var Ci=class n{constructor(e){this.router=e;this.router.events.pipe(vt(t=>t instanceof Zt)).subscribe(t=>{this.history.length===3&&this.history.shift(),this.history.push(t.urlAfterRedirects)})}history=[];getHistory(){return[...this.history]}getPreviousUrl(){return this.history.length>1?this.history[this.history.length-2]:null}navigateBack(){let e=this.getPreviousUrl();e?this.router.navigateByUrl(e):this.router.navigateByUrl("/")}static \u0275fac=function(t){return new(t||n)(Z(qe))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var y_=class n{constructor(e){this.navigationService=e}goBack(){this.navigationService.navigateBack()}static \u0275fac=function(t){return new(t||n)(B(Ci))};static \u0275cmp=Ee({type:n,selectors:[["app-help"]],decls:85,vars:0,consts:[[1,"help-page"],[1,"back-btn-wrapper"],[3,"click"],["src","assets/img/icons/arrow-left-line.png","alt","Arrow back to main page"],[1,"list"],["href","mailto:info@michelle-puschkarow.de"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div")(2,"h1"),y(3,"Help"),p(),m(4,"div",1)(5,"a",2),V("click",function(){return r.goBack()}),j(6,"img",3),p()()(),m(7,"p"),y(8," Welcome to the help page for "),m(9,"strong"),y(10,"Join"),p(),y(11,", your guide to using our kanban project management tool. Here, we'll provide an overview of what Join is, how it can benefit you, and how to use it. "),p(),m(12,"section")(13,"h2"),y(14,"What is Join?"),p(),m(15,"p")(16,"strong"),y(17,"Join"),p(),y(18," is a kanban-based project management tool designed and built by a group of dedicated students as part of their web development bootcamp at the Developer Akademie. "),p(),m(19,"p"),y(20,' Kanban, a Japanese term meaning "billboard", is a highly effective method to visualize work, limit work-in-progress, and maximize efficiency (or flow). Join leverages the principles of kanban to help users manage their tasks and projects in an intuitive, visual interface. '),p(),m(21,"p"),y(22," It is important to note that Join is designed as an educational exercise and is not intended for extensive business usage. While we strive to ensure the best possible user experience, we cannot guarantee consistent availability, reliability, accuracy, or other aspects of quality regarding Join. "),p()(),m(23,"section")(24,"h2"),y(25,"How to use it"),p(),m(26,"ol",4)(27,"li")(28,"h3"),y(29,"1. Exploring the Board"),p(),m(30,"p"),y(31," In order to use the board, you need to log in first. You can either register or use the guest log in account. When you log in to Join, you'll find a default board. This board represents your project and contains four default lists: "),m(32,"em"),y(33,"To Do"),p(),y(34,", "),m(35,"em"),y(36,"In Progress"),p(),y(37,", "),m(38,"em"),y(39,"Await feedback"),p(),y(40," and "),m(41,"em"),y(42,"Done"),p(),y(43,". "),p()(),m(44,"li")(45,"h3"),y(46,"2. Creating Contacts"),p(),m(47,"p"),y(48," In Join, you can add contacts to collaborate on your projects. Go to the "),m(49,"strong"),y(50,"Contacts"),p(),y(51," section, click on "),m(52,"strong"),y(53,"New contact"),p(),y(54,", and fill in the required information. Once added, these contacts can be assigned tasks and they can interact with the tasks on the board. If you are logged in with your personal account, you will find yourself as a contact within the contact list. "),p()(),m(55,"li")(56,"h3"),y(57,"3. Adding Cards"),p(),m(58,"p"),y(59,` Now that you've added your contacts, you can start adding new cards. Cards represent individual tasks. Click the "+" button under the appropriate list to create a new card. Fill in the task details, like task name, description, due date, assignees, etc. `),p()(),m(60,"li")(61,"h3"),y(62,"4. Moving Cards"),p(),m(63,"p"),y(64,' As the task moves from one stage to another, you can reflect that on the board by dragging and dropping the card from one list to another. On mobile devices each card has an additional menu option, where you can assign tasks to specific stages in the board by clicking the "..." button. '),p()(),m(65,"li")(66,"h3"),y(67,"5. Deleting Cards"),p(),m(68,"p"),y(69," Once a task is completed, you can either move it to the "),m(70,"em"),y(71,"Done"),p(),y(72," list or delete it. Deleting a card will permanently remove it from the board. Please exercise caution when deleting cards, as this action is irreversible. "),p()()(),m(73,"p"),y(74," Remember that using Join effectively requires consistent updates from you and your team to ensure the board reflects the current state of your project. "),p()(),m(75,"section")(76,"h2"),y(77,"Still have questions?"),p(),m(78,"p"),y(79," Feel free to contact us at "),m(80,"a",5),y(81,"info@michelle-puschkarow.de"),p(),y(82,". We're here to help! "),p(),m(83,"p"),y(84,"Enjoy using Join!"),p()()())},dependencies:[jt],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.help-page[_ngcontent-%COMP%]{width:100%;max-width:1200px;height:calc(100dvh - 100px);padding:clamp(15px,3vw,50px);overflow-y:auto;scrollbar-width:thin;scrollbar-color:transparent transparent;gap:16px;color:var(--text-color-dark)}.help-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:clamp(40px,1.875vw + 34px,61px)}.help-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:clamp(18px,.8vw + 15.5px,27px);margin:1em 0}.help-page[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Inter;font-weight:500;font-size:clamp(16px,.36vw + 14.85px,20px);margin:.5em 0}.help-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);margin:.5em 0}@media (max-width: 1000px){.help-page[_ngcontent-%COMP%]{height:calc(100dvh - 180px)}}.back-btn-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;align-items:center}.back-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.back-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.back-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{scale:1.09;border-radius:50%;background-color:var(--background-default-light);box-shadow:0 4px 8px #0000001a}.list[_ngcontent-%COMP%]{width:100%;list-style-type:none}']})};var v_=class n{constructor(e){this.navigationService=e}goBack(){this.navigationService.navigateBack()}static \u0275fac=function(t){return new(t||n)(B(Ci))};static \u0275cmp=Ee({type:n,selectors:[["app-legal-notice"]],decls:70,vars:0,consts:[[1,"legal-notice-page"],[1,"back-btn-wrapper"],[3,"click"],["src","assets/img/icons/arrow-left-line.png","alt","Arrow back to main page"],["href","mailto:info@michelle-puschkarow.de"],[1,"legal-date"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div")(2,"h1"),y(3,"Legal Notice"),p(),m(4,"div",1)(5,"a",2),V("click",function(){return r.goBack()}),j(6,"img",3),p()()(),m(7,"section")(8,"h2"),y(9,"Imprint"),p(),m(10,"p")(11,"strong"),y(12,"Dr. Michelle Puschkarow"),p()(),m(13,"p"),y(14,"Waldingstra\xDFe 6"),p(),m(15,"p"),y(16,"22391 Hamburg"),p(),m(17,"p")(18,"a",4),y(19,"info@michelle-puschkarow.de"),p()(),m(20,"p"),y(21,"Represented by:"),p(),m(22,"p")(23,"strong"),y(24,"Marco Palummieri"),p()(),m(25,"p")(26,"strong"),y(27,"Viktor Naumann"),p()(),m(28,"p")(29,"strong"),y(30,"Jenny Domsgen"),p()()(),m(31,"section")(32,"h2"),y(33,"Acceptance of Terms"),p(),m(34,"p"),y(35," By accessing and using "),m(36,"strong"),y(37,"Join"),p(),y(38," (Product), you acknowledge and agree to the following terms and conditions, and any policies, guidelines, or amendments thereto that may be presented to you from time to time. We, the listed students, may update or change the terms and conditions from time to time without notice. "),p()(),m(39,"section")(40,"h2"),y(41,"Scope and Ownership of the Product"),p(),m(42,"p"),y(43," Join has been developed as part of a student group project in a web development bootcamp at the Developer Akademie GmbH. It has an educational purpose and is not intended for extensive personal & business usage. As such, we cannot guarantee consistent availability, reliability, accuracy, or any other aspect of quality regarding this Product. "),p(),m(44,"p"),y(45," The design of Join is owned by the Developer Akademie GmbH. Unauthorized use, reproduction, modification, distribution, or replication of the design is strictly prohibited. "),p()(),m(46,"section")(47,"h2"),y(48,"Proprietary Right"),p(),m(49,"p"),y(50," Aside from the design owned by Developer Akademie GmbH, we, the listed students, retain all proprietary rights in Join, including any associated copyrighted material, trademarks, and other proprietary information. "),p()(),m(51,"section")(52,"h2"),y(53,"Use of the Product"),p(),m(54,"p"),y(55," Join is intended to be used for lawful purposes only, in accordance with all applicable laws and regulations. Any use of Join for illegal activities, or to harass, harm, threaten, or intimidate another person, is strictly prohibited. You are solely responsible for your interactions with other users of Join. "),p()(),m(56,"section")(57,"h2"),y(58,"Disclaimer of Warranties and Limitation of Liability"),p(),m(59,"p"),y(60,' Join is provided "as is" without warranty of any kind, whether express or implied, including but not limited to the implied warranties of merchantability, fitness for a particular purpose, and non-infringement. '),p(),m(61,"p"),y(62," In no event will we, the listed students, or the Developer Akademie, be liable for any direct, indirect, incidental, special, consequential or exemplary damages, including but not limited to, damages for loss of profits, goodwill, use, data, or other intangible losses, even if we have been advised of the possibility of such damages, arising out of or in connection with the use or performance of Join. "),p()(),m(63,"section")(64,"h2"),y(65,"Indemnity"),p(),m(66,"p"),y(67," You agree to indemnify, defend and hold harmless us, the listed students, the Developer Akademie, and our affiliates, partners, officers, directors, agents, and employees, from and against any claim, demand, loss, damage, cost, or liability (including reasonable legal fees) arising out of or relating to your use of Join and/or your breach of this Legal Notice. "),p()(),m(68,"p",5),y(69,"Date: July 17, 2025"),p()())},dependencies:[jt],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.legal-notice-page[_ngcontent-%COMP%]{width:100%;max-width:1200px;height:calc(100dvh - 100px);padding:clamp(15px,3vw,50px);overflow-y:auto;scrollbar-width:thin;scrollbar-color:transparent transparent;gap:16px;color:var(--text-color-dark)}.legal-notice-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:clamp(40px,1.875vw + 34px,61px)}.legal-notice-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:clamp(18px,.8vw + 15.5px,27px);margin:1em 0}.legal-notice-page[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Inter;font-weight:500;font-size:clamp(16px,.36vw + 14.85px,20px);margin:.5em 0}.legal-notice-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);margin:.5em 0}@media (max-width: 1000px){.legal-notice-page[_ngcontent-%COMP%]{height:calc(100dvh - 180px)}}.back-btn-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;align-items:center}.back-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.back-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.back-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{scale:1.09;border-radius:50%;background-color:var(--background-default-light);box-shadow:0 4px 8px #0000001a}']})};var w_=class n{constructor(e){this.navigationService=e}goBack(){this.navigationService.navigateBack()}static \u0275fac=function(t){return new(t||n)(B(Ci))};static \u0275cmp=Ee({type:n,selectors:[["app-privacy-policy"]],decls:249,vars:0,consts:[[1,"privacy-policy-page"],[1,"back-btn-wrapper"],[3,"click"],["src","assets/img/icons/arrow-left-line.png","alt","Arrow back to main page"],[1,"last-updated"],["href","https://www.termsfeed.com/privacy-policy-generator/"],[1,"list"],["href","https://policies.google.com/privacy","target","_blank"],["href","https://firebase.google.com/support/privacy","target","_blank"],["href","mailto:info@michelle-puschkarow.de"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div")(2,"h1"),y(3,"Privacy Policy"),p(),m(4,"div",1)(5,"a",2),V("click",function(){return r.goBack()}),j(6,"img",3),p()()(),m(7,"p"),y(8,"Information in accordance with Section 5 of the German Digital Services Act (DDG)"),p(),m(9,"p",4)(10,"em"),y(11,"Last updated: July 17, 2025"),p()(),m(12,"section")(13,"h2"),y(14,"1. Disclaimer"),p(),m(15,"h3"),y(16,"1.1 General Information"),p(),m(17,"p"),y(18," This Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your information when You use Join, and tells You about Your privacy rights and how the law protects You. "),p(),m(19,"p"),y(20," We use Your Personal data to provide and improve the Service. By using the Service, You agree to the collection and use of information in accordance with this Privacy Policy. This Privacy Policy has been created with the help of the "),m(21,"a",5),y(22,"Privacy Policy Generator"),p(),y(23,". "),p()(),m(24,"section")(25,"h3"),y(26,"1.2 Note on Data Transmission"),p(),m(27,"p"),y(28,"Please note that data transmission over the Internet (e.g., via email) may have security vulnerabilities. Complete protection of data from third-party access is not possible."),p()(),m(29,"section")(30,"h2"),y(31,"2. Interpretation and Definitions"),p(),m(32,"h3"),y(33,"2.1 Interpretation"),p(),m(34,"p"),y(35," The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural. "),p(),m(36,"h3"),y(37,"2.2 Definitions"),p(),m(38,"dl")(39,"dt"),y(40,"Account"),p(),m(41,"dd"),y(42,"A unique account created for You to access the kanban board Join."),p(),m(43,"dt"),y(44,"Application"),p(),m(45,"dd"),y(46,"Refers to Join, the software program provided by the Company."),p(),m(47,"dt"),y(48,"Company"),p(),m(49,"dd"),y(50,"\u201Cthe Company\u201D, \u201CWe\u201D, \u201CUs\u201D or \u201COur\u201D refers to the providers of Join."),p(),m(51,"dt"),y(52,"Cookies"),p(),m(53,"dd"),y(54,"Small files placed on Your device by a website, containing browsing history details."),p(),m(55,"dt"),y(56,"Device"),p(),m(57,"dd"),y(58,"Any device that can access the Service (e.g. computer, cellphone, tablet)."),p(),m(59,"dt"),y(60,"Personal Data"),p(),m(61,"dd"),y(62,"Any information relating to an identified or identifiable individual."),p(),m(63,"dt"),y(64,"Service"),p(),m(65,"dd"),y(66,"The Application or the Website or both - meaning Join."),p(),m(67,"dt"),y(68,"Service Provider"),p(),m(69,"dd"),y(70," Any person or company processing data on behalf of the Company to facilitate or provide the Service."),p(),m(71,"dt"),y(72,"Usage Data"),p(),m(73,"dd"),y(74," Data collected automatically when using the Service (e.g. IP address, browser type, time of visit)."),p(),m(75,"dt"),y(76,"You"),p(),m(77,"dd"),y(78," The individual or legal entity accessing or using the Service, as applicable. "),p()()(),m(79,"section")(80,"h2"),y(81,"3. Collecting and Using Your Personal Data"),p(),m(82,"h3"),y(83,"3.1 Types of Data Collected"),p(),m(84,"h4"),y(85,"3.1.1 Personal Data"),p(),m(86,"p"),y(87," We may ask You for personally identifiable information, such as email address, first and last name, phone number, address, city, state/province, ZIP/postal code. "),p(),m(88,"h4"),y(89,"3.1.2 Usage Data"),p(),m(90,"p"),y(91," Collected automatically, including IP address, browser type and version, pages visited, visit time and date, time spent, unique device identifiers and other diagnostic data. On mobile devices, we may also collect device type, unique device ID, OS, browser, and similar diagnostics. This data comes from your browser or mobile device when accessing the Service. "),p(),m(92,"h3"),y(93,"3.1.3 Tracking Technologies and Cookies"),p(),m(94,"p"),y(95," We use Cookies and similar tracking technologies (beacons, tags, scripts) to track activity and improve the Service. "),p(),m(96,"ul",6)(97,"li")(98,"strong"),y(99,"Cookies"),p(),y(100,": small files you can reject via browser settings."),p(),m(101,"li")(102,"strong"),y(103,"Web Beacons"),p(),y(104,": pixel files for tracking email opens, page popularity, etc."),p()(),m(105,"p"),y(106,"Cookies can be Session (deleted at browser close) or Persistent (remain until expiry)."),p(),m(107,"h4"),y(108,"Examples of Cookies Used"),p(),m(109,"ul",6)(110,"li")(111,"strong"),y(112,"Necessary / Essential Cookies"),p(),y(113," (Session) \u2013 authenticate users and prevent fraud."),p(),m(114,"li")(115,"strong"),y(116,"Cookies Policy / Notice Acceptance Cookies"),p(),y(117," (Persistent) \u2013 remember your cookie acceptance."),p(),m(118,"li")(119,"strong"),y(120,"Functionality Cookies"),p(),y(121," (Persistent) \u2013 remember login or language preferences."),p()(),m(122,"p"),y(123," For more details and cookie choices, please visit our Cookies Policy section. "),p()(),m(124,"section")(125,"h2"),y(126,"4. Use of Your Personal Data"),p(),m(127,"ul",6)(128,"li"),y(129,"Provide and maintain our Service, monitor usage."),p(),m(130,"li"),y(131,"Manage Your Account and registration."),p(),m(132,"li"),y(133,"Perform contracts (orders, service compliance)."),p(),m(134,"li"),y(135,"Contact You (email, phone, SMS, push notifications)."),p(),m(136,"li"),y(137,"Provide news, offers, events (unless unsubscribed)."),p(),m(138,"li"),y(139,"Manage your requests to Us."),p(),m(140,"li"),y(141,"Business transfers (merger, sale, restructuring)."),p(),m(142,"li"),y(143,"Other: analytics, usage trends, improve campaigns & Service."),p()(),m(144,"h3"),y(145,"4.1 Sharing of Personal Information"),p(),m(146,"ul",6)(147,"li")(148,"strong"),y(149,"With Service Providers:"),p(),y(150," for analysis and support."),p(),m(151,"li")(152,"strong"),y(153,"For Business Transfers:"),p(),y(154," in events like sale or acquisition."),p(),m(155,"li")(156,"strong"),y(157,"With Affiliates:"),p(),y(158," under this same Privacy Policy."),p(),m(159,"li")(160,"strong"),y(161,"With Business Partners:"),p(),y(162," for related products, services, promotions."),p(),m(163,"li")(164,"strong"),y(165,"With Other Users:"),p(),y(166," any info you share publicly is visible."),p(),m(167,"li")(168,"strong"),y(169,"With Your Consent:"),p(),y(170," for any other purposes."),p()()(),m(171,"section")(172,"h2"),y(173,"4.2 Transfer of Your Personal Data"),p(),m(174,"p"),y(175," Your data may be processed or stored outside your jurisdiction. You consent to this by using the Service. We take steps to ensure adequate controls and security are in place. "),p()(),m(176,"section")(177,"h2"),y(178,"4.3 Data Retention and Deletion"),p(),m(179,"p"),y(180," We keep Personal Data as long as necessary for policy purposes, legal obligations, disputes, and enforcement. Usage Data retained for analytics or security. You can delete or request deletion of your data via account settings or by contacting us. We may retain information if legally required. "),p()(),m(181,"section")(182,"h2"),y(183,"4.4 Disclosure of Your Personal Data"),p(),m(184,"h3"),y(185,"4.4.1 Business Transactions"),p(),m(186,"p"),y(187," If the Company undergoes merger, acquisition, or asset sale, your data may be transferred. We will notify before such changes. "),p(),m(188,"h3"),y(189,"4.4.2 Law Enforcement & Other Legal Requirements"),p(),m(190,"p"),y(191," We may disclose data if required by law, to protect rights, investigate wrongdoing, or ensure public safety. "),p()(),m(192,"section")(193,"h2"),y(194,"5. Security of Your Personal Data"),p(),m(195,"p"),y(196," We strive to protect your data with commercially acceptable methods, but cannot guarantee 100% security due to internet and electronic storage methods. "),p()(),m(197,"section")(198,"h2"),y(199,"6. Links to Other Websites"),p(),m(200,"p"),y(201," Our Service may contain links to third\u2011party sites. We have no control over and assume no responsibility for their policies or content. Please review their Privacy Policies. "),p()(),m(202,"section")(203,"h2"),y(204,"7. Changes to this Privacy Policy"),p(),m(205,"p"),y(206,` We may update this policy from time to time. We'll notify via email or Service notice and update the "Last updated" date. Changes take effect when posted. Please review periodically. `),p()(),m(207,"section")(208,"h2"),y(209,"8. Data Storage and Third-Party Services"),p(),m(210,"p"),y(211," Our application uses Firebase, a service provided by Google LLC, for storing and managing data related to your tasks, contacts, and account information. Through the use of Firebase services the following data might be processed: "),p(),m(212,"ul",6)(213,"li")(214,"strong"),y(215,"Firebase Authentication:"),p(),y(216," Email addresses, encrypted passwords, authentication tokens, which our Service needs to manage user accounts and logins securely."),p(),m(217,"li")(218,"strong"),y(219,"Firestore Database:"),p(),y(220," To store user-generated data such as tasks, contact details, and project-related information."),p(),m(221,"li")(222,"strong"),y(223,"Firestore Analytics:"),p(),y(224," Anonymized usage statistics and understand how users interact with the Service. This might include Device identifiers, App usage data like session duration and Events like task creation."),p(),m(225,"li")(226,"strong"),y(227,"Cloud Functions:"),p(),y(228," These functions process relevant data (e.g. task updates, database triggers) in real time to perform backend operations and therfore provide dynamic app features."),p()(),m(229,"p"),y(230," The data is stored securely in Google\u2019s cloud infrastructure. Firebase may collect certain metadata for operational and security purposes. For more information, please refer to "),m(231,"a",7),y(232,"Google\xB4s Privacy Policy"),p(),y(233," and "),m(234,"a",8),y(235,"Firebase\u2019s Data Processing and Security Terms"),p()()(),m(236,"section")(237,"h2"),y(238,"9. Prohibition of unsolicited contact"),p(),m(239,"p"),y(240,"Use of the contact details provided in the legal notice for sending unsolicited advertising or information is not permitted. As operator of the pages we reserves the right to take legal action against unsolicited advertising information, such as spam or similar abuses."),p()(),m(241,"section")(242,"h2"),y(243,"10. Contact Us"),p(),m(244,"p"),y(245," If there are still questions, please contact us at "),m(246,"a",9),y(247,"info@michelle-puschkarow.de"),p(),y(248,". "),p()()())},dependencies:[jt],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.privacy-policy-page[_ngcontent-%COMP%]{width:100%;max-width:1200px;height:calc(100dvh - 100px);padding:clamp(15px,3vw,50px);overflow-y:auto;scrollbar-width:thin;scrollbar-color:transparent transparent;gap:16px;color:var(--text-color-dark)}.privacy-policy-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:clamp(40px,1.875vw + 34px,61px)}.privacy-policy-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:clamp(18px,.8vw + 15.5px,27px);margin:1em 0}.privacy-policy-page[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Inter;font-weight:500;font-size:clamp(16px,.36vw + 14.85px,20px);margin:1em 0}.privacy-policy-page[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);margin:.8em 0}.privacy-policy-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);margin:.5em 0}@media (max-width: 1000px){.privacy-policy-page[_ngcontent-%COMP%]{height:calc(100dvh - 180px)}}.privacy-policy-page[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);margin:.5em 0}.privacy-policy-page[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-weight:700}.privacy-policy-page[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{margin-bottom:8px}.privacy-policy-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);margin:.5em 0}.privacy-policy-page[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:16px}.back-btn-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;align-items:center}.back-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.back-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.back-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{scale:1.09;border-radius:50%;background-color:var(--background-default-light);box-shadow:0 4px 8px #0000001a}']})};var hl=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ee({type:n,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"link-wrapper"],[1,"privacy-policy-link"],["routerLink","/privacy-policy"],[1,"legal-notice-link"],["routerLink","/legal-notice"]],template:function(t,r){t&1&&(m(0,"footer")(1,"div",0)(2,"div",1)(3,"a",2),y(4,"Privacy Policy"),p()(),m(5,"div",3)(6,"a",4),y(7,"Legal notice"),p()()()())},dependencies:[jt,un],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.link-wrapper[_ngcontent-%COMP%]{color:var(--text-color-medium);font-family:Inter;font-weight:400;font-size:16px;display:flex;justify-content:center;align-items:center;gap:3rem;height:80px}.link-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-color-medium)}@media (max-width: 406px){.link-wrapper[_ngcontent-%COMP%]{margin-top:3.5rem}}']})};var C_=class n{logoState="start";isTouchDevice=!1;ngOnInit(){this.initializeAnimation()}initializeAnimation(){sessionStorage.getItem("logoAppeared")?this.logoState="appear":setTimeout(()=>{this.logoState="appear",sessionStorage.setItem("logoAppeared","true")},100)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ee({type:n,selectors:[["app-login-header"]],decls:9,vars:1,consts:[[1,"login-header-wrapper"],[1,"dark-logo-wrapper"],["src","./assets/img/logo/favicon.png","alt","Dark Join Logo"],["routerLink","/signup",1,"wanna-signup-wrapper"],[1,"btn-wrapper"],[1,"btn-signup"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1),j(2,"img",2),p(),m(3,"a",3)(4,"span"),y(5,"Not a Join user?"),p(),m(6,"div",4)(7,"button",5),y(8,"Sign up"),p()()()()),t&2&&(I(2),O("@fadeOut",r.logoState))},dependencies:[jt,un],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.login-header-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:30px 40px;max-width:1440px;height:auto;position:relative}.login-header-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-color-main)}@media (max-width: 406px){.login-header-wrapper[_ngcontent-%COMP%]{padding:12px}}@media (max-width: 768px){.dark-logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:72px;width:64px}}@media (max-width: 406px){.dark-logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:48px;width:auto;margin:0 4px}}.wanna-signup-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;font-family:Inter;font-weight:400;font-size:16px}.wanna-signup-wrapper[_ngcontent-%COMP%]   .btn-signup[_ngcontent-%COMP%]{cursor:pointer;height:36px;border-radius:6px;border:unset;min-width:80px;transition:background-color .2s ease;justify-content:center;background-color:var(--background-dark);color:var(--text-color-light);font-weight:700;font-size:clamp(18px,.27vw + 17.14px,21px);font-family:Inter;font-weight:400;font-size:14px;padding:8px 12px}.wanna-signup-wrapper[_ngcontent-%COMP%]   .btn-signup[_ngcontent-%COMP%]:hover{background-color:var(--accent-primary-color)}@media (max-width: 768px){.wanna-signup-wrapper[_ngcontent-%COMP%]{display:none}}'],data:{animation:[fn("fadeOut",[vi("start",Ne({opacity:0})),vi("appear",Ne({opacity:1})),dt("start => appear",[ut("1.1s 0.7s ease-in-out")])])]}})};var $K=n=>({background:n}),zK=n=>({load:n}),mF=n=>({colorError:n});function HK(n,e){if(n&1&&(m(0,"p",24),y(1),p()),n&2){let t=F();I(),Ye(" ",t.getValidationMessage("email")," ")}}function qK(n,e){n&1&&j(0,"img",25)}function WK(n,e){if(n&1){let t=ce();m(0,"img",26),V("click",function(){U(t);let i=F();return $(i.showPassword=!i.showPassword)}),p()}if(n&2){let t=F();O("src",t.showPassword?"assets/img/icons/visibility.png":"assets/img/icons/visibility-off.png",Ps)}}function GK(n,e){if(n&1&&(m(0,"p",24),y(1),p()),n&2){let t=F();I(),Ye(" ",t.getValidationMessage("password")," ")}}function KK(n,e){if(n&1&&(m(0,"p",24),y(1),p()),n&2){let t=F();I(),me(t.errorMessage)}}var b_=class n{constructor(e,t,r){this.fb=e;this.authService=t;this.router=r}logoState="start";pageLoaded=!1;loginForm;errorMessage="";isLoading=!1;showPassword=!1;isTouchDevice=!1;ngOnInit(){this.initializeForm(),this.checkIfTouchDevice(),this.initializeAnimation()}checkIfTouchDevice(){this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0}initializeForm(){this.loginForm=this.fb.group({email:["",[pt.required,pt.email]],password:["",[pt.required,pt.minLength(6)]]})}initializeAnimation(){sessionStorage.getItem("logoMoved")?this.logoState="moved":this.runLogoAnimationWithDelay()}runLogoAnimationWithDelay(){setTimeout(()=>{this.pageLoaded=!0,this.logoState="moved",sessionStorage.setItem("logoMoved","true")},100)}onLogin(){return C(this,null,function*(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.startLoading();let{email:e,password:t}=this.loginForm.value,r=yield this.authService.signIn(e,t);this.handleAuthResult(r,"Login failed")})}onGuestLogin(){return C(this,null,function*(){this.startLoading();let e=yield this.authService.signInAsGuest();this.handleAuthResult(e,"Guest login failed")})}startLoading(){this.isLoading=!0,this.errorMessage=""}handleAuthResult(e,t){e.success?this.router.navigate(["/summary"]):this.errorMessage=e.message||t,this.isLoading=!1}getValidationMessage(e){let t=this.loginForm.get(e);return!t||!t.touched||!t.errors?"":t.errors.required?"This field is required":t.errors.email?"Please enter a valid email address":t.errors.minlength?"Password must be at least 8 characters long":""}ngOnDestroy(){this.isLoading=!1}static \u0275fac=function(t){return new(t||n)(B(al),B(Wt),B(qe))};static \u0275cmp=Ee({type:n,selectors:[["app-login"]],decls:37,vars:25,consts:[[1,"login-content"],[1,"login-header"],[1,"dark-logo-wrapper",3,"ngStyle"],["alt","Join Logo",3,"src","ngClass"],[1,"main-content-wrapper"],[1,"login-frame"],[3,"ngSubmit","formGroup"],[1,"form-group-wrapper","flex-center"],[1,"form-group",3,"ngClass"],["for","email"],["id","email","type","email","placeholder","Email","formControlName","email"],["src","assets/img/icons/mail.png","alt","Mail Icon",1,"input-icon"],["class","error-message",4,"ngIf"],["for","password"],["id","password","placeholder","Password","formControlName","password",3,"type"],["class","input-icon","src","assets/img/icons/lock.png","alt","Lock Icon",4,"ngIf"],["class","input-icon toggle-eye","alt","Toggle Password Visibility",3,"src","click",4,"ngIf"],[1,"btn-wrapper"],["type","submit",1,"btn-login",3,"disabled"],["type","button",1,"btn-guestlogin",3,"click","disabled"],[1,"lower-content-wrapper"],[1,"wanna-signup-wrapper"],["routerLink","/signup",1,"btn-wrapper"],[1,"btn-signup"],[1,"error-message"],["src","assets/img/icons/lock.png","alt","Lock Icon",1,"input-icon"],["alt","Toggle Password Visibility",1,"input-icon","toggle-eye",3,"click","src"]],template:function(t,r){if(t&1&&(m(0,"div",0),j(1,"app-login-header",1),m(2,"div",2),j(3,"img",3),p(),m(4,"div",4)(5,"section",5)(6,"h2"),y(7,"Log in"),p(),m(8,"form",6),V("ngSubmit",function(){return r.onLogin()}),m(9,"div",7)(10,"div")(11,"div",8),j(12,"label",9)(13,"input",10)(14,"img",11),p(),Q(15,HK,2,1,"p",12),p(),m(16,"div")(17,"div",8),j(18,"label",13)(19,"input",14),Q(20,qK,1,0,"img",15)(21,WK,1,1,"img",16),p(),Q(22,GK,2,1,"p",12),p(),Q(23,KK,2,1,"p",12),p(),m(24,"div",17)(25,"button",18),y(26),p(),m(27,"button",19),V("click",function(){return r.onGuestLogin()}),y(28),p()()()(),m(29,"div",20)(30,"div",21)(31,"span"),y(32,"Not a Join user?"),p(),m(33,"div",22)(34,"button",23),y(35,"Sign up"),p()()(),j(36,"app-footer"),p()()()),t&2){let i,o,s,a,c,u;I(2),O("@fadeOutWrapper",r.logoState)("ngStyle",cn(17,$K,r.isTouchDevice?"#2a3647":"transparent")),I(),O("src",r.isTouchDevice?"./assets/img/logo/logo.png":"./assets/img/logo/favicon.png",Ps)("ngClass",cn(19,zK,r.pageLoaded)),I(5),O("formGroup",r.loginForm),I(3),O("ngClass",cn(21,mF,((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched))),I(4),O("ngIf",((o=r.loginForm.get("email"))==null?null:o.invalid)&&((o=r.loginForm.get("email"))==null?null:o.touched)),I(2),O("ngClass",cn(23,mF,((s=r.loginForm.get("password"))==null?null:s.invalid)&&((s=r.loginForm.get("password"))==null?null:s.touched))),I(2),O("type",r.showPassword?"text":"password"),I(),O("ngIf",!((a=r.loginForm.get("password"))!=null&&a.value)),I(),O("ngIf",(c=r.loginForm.get("password"))==null?null:c.value),I(),O("ngIf",((u=r.loginForm.get("password"))==null?null:u.invalid)&&((u=r.loginForm.get("password"))==null?null:u.touched)),I(),O("ngIf",r.errorMessage),I(2),O("disabled",r.loginForm.invalid||r.isLoading),I(),Ye(" ",r.isLoading?"Loading...":"Log in"," "),I(),O("disabled",r.isLoading),I(),Ye(" ",r.isLoading?"Loading...":"Guest Log in"," ")}},dependencies:[C_,hl,We,Ns,Ke,Fs,cl,Jo,ur,dr,Zo,fa,pa,jt,un],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.login-content[_ngcontent-%COMP%]{position:relative;max-width:1440px;margin:0 auto;height:100dvh}.login-content[_ngcontent-%COMP%]   .dark-logo-wrapper[_ngcontent-%COMP%]{position:absolute;height:100dvh;width:100%;top:0;left:0;z-index:3;background-color:var(--background-dark);pointer-events:none}.login-content[_ngcontent-%COMP%]   .dark-logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100px;height:auto;margin:30px 40px;z-index:3}@media (max-width: 768px){.login-content[_ngcontent-%COMP%]   .dark-logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:72px;width:64px}}@media (max-width: 406px){.login-content[_ngcontent-%COMP%]   .dark-logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:48px;width:auto;margin:12px 15px}}.login-content[_ngcontent-%COMP%]   .dark-logo-wrapper[_ngcontent-%COMP%]   img.load[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_logoTransition 1s ease forwards}@keyframes _ngcontent-%COMP%_logoTransition{0%{top:50%;left:50%;transform:translate(-50%,-50%)}to{top:0%;left:0%;transform:translate(0)}}.main-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:calc(100dvh - 186px)}@media (max-width: 768px){.main-content-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 136px)}}@media (max-width: 406px){.main-content-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 76px)}}.lower-content-wrapper[_ngcontent-%COMP%]{height:fit-content}.login-frame[_ngcontent-%COMP%]{background-color:var(--background-light);border-radius:20px;padding:clamp(32px,1.8vw + 20px,64px);box-shadow:0 4px 20px #00000014;width:clamp(400px,5vw + 400px,600px);margin:0 auto;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:clamp(24px,2.5vh,36px);margin-top:2rem}.login-frame[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:clamp(37px,.89vw + 33px,47px);color:var(--text-color-main);position:relative;margin-bottom:0}.login-frame[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";display:block;width:78px;height:3px;background-color:var(--accent-primary-color);margin:12px auto 0;border-radius:3px}@media (max-width: 768px){.login-frame[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:36px}}@media (max-width: 406px){.login-frame[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:30px}}@media (max-width: 768px){.login-frame[_ngcontent-%COMP%]{padding:24px 16px;margin-top:2rem}}@media (max-width: 406px){.login-frame[_ngcontent-%COMP%]{margin-top:2rem}}.form-group-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:20px;width:100%}.form-group-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{height:fit-content;width:clamp(350px,6.43vw + 142.6px,422px);border-radius:10px;border:1px solid var(--background-default-dark);padding:clamp(8px,.45vw + 6.56px,13px) clamp(18px,.27vw + 17.14px,21px);display:flex;justify-content:space-between;align-items:center;font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);position:relative;gap:4px}.form-group-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:focus-within{border:1px solid var(--accent-primary-color)}.form-group-wrapper[_ngcontent-%COMP%]   .form-group.colorError[_ngcontent-%COMP%]{border:1px solid var(--text-color-error)}.form-group-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:transparent;color:var(--text-color-main);width:100%;font-family:Inter;font-weight:400;height:16px;font-size:16px;overflow:hidden;text-overflow:ellipsis}@media (max-width: 768px){.form-group-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 8px}}.form-group-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);width:20px;height:20px;opacity:.6;pointer-events:auto;z-index:2}@media (max-width: 768px){.form-group-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%}}.form-group-wrapper[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:12px;color:var(--text-color-error)}.form-group-wrapper[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:12px;color:var(--text-color-light);text-align:center;margin-top:16px}.form-group-wrapper[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--accent-color);text-decoration:none}.form-group-wrapper[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-top:24px}.btn-wrapper[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{background-color:var(--background-dark);color:var(--text-color-light);font-family:Inter;font-weight:700;font-size:clamp(18px,.27vw + 17.14px,21px);cursor:pointer;height:44px;border-radius:8px;border:unset;width:150px;transition:background-color .2s ease;justify-content:center}.btn-wrapper[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:hover{background-color:var(--accent-primary-color)}.btn-wrapper[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:disabled{background-color:#ccc;color:#666;cursor:not-allowed;opacity:.6}.btn-wrapper[_ngcontent-%COMP%]   .btn-guestlogin[_ngcontent-%COMP%]{border:1px solid var(--background-dark);color:var(--text-color-dark);font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);font-family:Inter;font-weight:700;font-size:clamp(18px,.27vw + 17.14px,21px);cursor:pointer;height:44px;border-radius:8px;border:1px solid var(--text-color-dark);width:150px;background-color:#fff;justify-content:center}.btn-wrapper[_ngcontent-%COMP%]   .btn-guestlogin[_ngcontent-%COMP%]:hover{color:var(--accent-primary-color);border:1px solid var(--accent-primary-color)}@media (max-width: 770px){.btn-wrapper[_ngcontent-%COMP%]{flex-direction:column;display:flex;justify-content:center;align-items:center;gap:12px}}.input-icon.toggle-eye[_ngcontent-%COMP%]{cursor:pointer;right:16px;position:relative;top:50%;transform:translateY(-50%)}.wanna-signup-wrapper[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.wanna-signup-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:2rem;font-family:Inter;font-weight:400;font-size:16px;text-decoration:none}.wanna-signup-wrapper[_ngcontent-%COMP%]   .btn-wrapper[_ngcontent-%COMP%]{height:fit-content}.wanna-signup-wrapper[_ngcontent-%COMP%]   .btn-signup[_ngcontent-%COMP%]{cursor:pointer;height:36px;border-radius:6px;border:unset;min-width:80px;transition:background-color .2s ease;justify-content:center;background-color:var(--background-dark);color:var(--text-color-light);font-weight:700;font-size:clamp(18px,.27vw + 17.14px,21px);font-family:Inter;font-weight:400;font-size:14px;padding:8px 12px}.wanna-signup-wrapper[_ngcontent-%COMP%]   .btn-signup[_ngcontent-%COMP%]:hover{background-color:var(--accent-primary-color)}.wanna-signup-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:0}}@media (max-width: 406px){.wanna-signup-wrapper[_ngcontent-%COMP%]{margin:.25rem 0}}@media (max-width: 480px){.login-frame[_ngcontent-%COMP%]{width:90vw;padding:32px 20px;gap:20px;box-sizing:border-box;overflow-x:hidden}.form-group-wrapper[_ngcontent-%COMP%]{gap:16px}.form-group-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%}.form-group-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-size:15px;height:14px}.form-group-wrapper[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{width:18px;height:18px;right:12px}.form-group-wrapper[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:13px}.form-group-wrapper[_ngcontent-%COMP%]   .signup-link[_ngcontent-%COMP%]{font-size:12px}.btn-wrapper[_ngcontent-%COMP%]{flex-direction:column;display:flex;justify-content:center;align-items:center;gap:12px}.btn-wrapper[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%], .btn-wrapper[_ngcontent-%COMP%]   .btn-guestlogin[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:16px;width:150px;max-width:100%;white-space:nowrap}}@media (max-width: 406px){.btn-login[_ngcontent-%COMP%], .btn-guestlogin[_ngcontent-%COMP%]{font-size:16px;height:20px;width:72px}}'],data:{animation:[fn("fadeOutWrapper",[vi("start",Ne({opacity:1})),vi("moved",Ne({opacity:0})),dt("start => moved",[ut("2s 0.7s ease-in-out")])])]}})};var E_=n=>({colorError:n});function QK(n,e){if(n&1&&(m(0,"p",32),y(1),p()),n&2){let t=F();I(),Ye(" ",t.getValidationMessage("name")," ")}}function YK(n,e){if(n&1&&(m(0,"p",32),y(1),p()),n&2){let t=F();I(),Ye(" ",t.getValidationMessage("email")," ")}}function ZK(n,e){n&1&&j(0,"img",33)}function JK(n,e){if(n&1){let t=ce();m(0,"img",34),V("click",function(){U(t);let i=F();return $(i.showPassword=!i.showPassword)}),p()}if(n&2){let t=F();O("src",t.showPassword?"assets/img/icons/visibility.png":"assets/img/icons/visibility-off.png",Ps)}}function XK(n,e){if(n&1&&(m(0,"p",32),y(1),p()),n&2){let t=F();I(),Ye(" ",t.getValidationMessage("password")," ")}}function eQ(n,e){n&1&&j(0,"img",33)}function tQ(n,e){if(n&1){let t=ce();m(0,"img",35),V("click",function(){U(t);let i=F();return $(i.showConfirmPassword=!i.showConfirmPassword)}),p()}if(n&2){let t=F();O("src",t.showConfirmPassword?"assets/img/icons/visibility.png":"assets/img/icons/visibility-off.png",Ps)}}function nQ(n,e){if(n&1&&(m(0,"p",32),y(1),p()),n&2){let t=F();I(),Ye(" ",t.getValidationMessage("confirmPassword")," ")}}function rQ(n,e){n&1&&(Xf(0),y(1,"Sign Up"),ep())}function iQ(n,e){n&1&&(Xf(0),j(1,"span",36),y(2," Signing up... "),ep())}function oQ(n,e){if(n&1&&(m(0,"p",37),y(1),p()),n&2){let t=F();I(),me(t.successMessage)}}function sQ(n,e){if(n&1&&(m(0,"p",32),y(1),p()),n&2){let t=F();I(),me(t.errorMessage)}}var I_=class n{constructor(e,t,r,i){this.form=e;this.authService=t;this.router=r;this.contactService=i}signupform;errorMessage="";successMessage="";isLoading=!1;showPassword=!1;showConfirmPassword=!1;ngOnInit(){this.signupform=this.form.group({name:["",[pt.required,pt.minLength(2)]],email:["",[pt.required,pt.email]],password:["",[pt.required,pt.minLength(8),pt.pattern(/^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_\-+=\[\]{};:'"\\|,.<>\/?]).+$/)]],confirmPassword:["",pt.required],privacyPolicy:[!1,[pt.requiredTrue]]},{validators:this.passwordsMatchValidator})}passwordsMatchValidator(e){let t=e.get("password")?.value,r=e.get("confirmPassword")?.value;return t===r?null:{passwordsDontMatch:!0}}onSubmit(){return C(this,null,function*(){if(this.signupform.invalid){this.signupform.markAllAsTouched();return}this.startLoading();let{name:e,email:t,password:r}=this.signupform.value,i=yield this.authService.signUp(t,r,e);this.saveNewContact(e,t),this.handleRegistrationResult(i)})}startLoading(){this.isLoading=!0,this.errorMessage="",this.successMessage=""}handleRegistrationResult(e){e.success?(this.successMessage="Registration successful! You will be redirected...",setTimeout(()=>{this.router.navigate(["/summary"])},2e3)):this.errorMessage=e.message||"Registration failed",this.isLoading=!1}saveNewContact(e,t){let r={name:e,email:t};this.contactService.addContact(r),this.contactService.selectContact(r)}onBackToLogin(){this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/login"])}),this.isLoading=!1}getValidationMessage(e){if(e==="confirmPassword")return this.getPasswordMismatchMessage();let t=this.signupform.get(e);return!t||!t.touched||!t.errors?"":this.getFieldErrorMessage(t)}getPasswordMismatchMessage(){let e=this.signupform.get("confirmPassword"),t=this.signupform.get("password"),r=this.signupform.errors?.passwordsDontMatch,i=e?.touched||t?.touched,o=e?.dirty||t?.dirty;return r&&(i||o)?"Passwords do not match":""}getFieldErrorMessage(e){return e.errors?.required?"This field is required":e.errors?.email?"Please enter a valid email address":e.errors?.minlength?`Minimum ${e.errors.minlength.requiredLength} characters required`:e.errors?.pattern?"Password must contain uppercase, numbers and special characters":e.errors?.requiredTrue?"You must accept the privacy policy":""}static \u0275fac=function(t){return new(t||n)(B(al),B(Wt),B(qe),B(Rt))};static \u0275cmp=Ee({type:n,selectors:[["app-signup"]],decls:54,vars:28,consts:[[1,"signup-content"],[1,"upper-content"],[1,"dark-logo-wrapper"],["src","./assets/img/logo/favicon.png","alt","Dark Join Logo"],[1,"signup-frame"],[1,"signup-header"],[1,"btn-back",3,"click"],["src","assets/img/icons/arrow-back.png","alt","Back Icon"],[3,"ngSubmit","formGroup"],[1,"form-group-wrapper"],[1,"form-group",3,"ngClass"],["for","name"],["id","name","type","text","placeholder","Name","formControlName","name"],["src","assets/img/icons/person.png","alt","Person Icon",1,"input-icon"],["class","error-message",4,"ngIf"],["for","email"],["id","email","type","text","placeholder","Email","formControlName","email"],["src","assets/img/icons/mail.png","alt","Mail Icon",1,"input-icon"],["for","password"],["id","password","placeholder","Password","formControlName","password",3,"type"],["class","input-icon","src","assets/img/icons/lock.png","alt","Lock Icon",4,"ngIf"],["class","input-icon toggle-eye","alt","Toggle Password Visibility",3,"src","click",4,"ngIf"],["for","confirmPassword"],["id","confirmPassword","placeholder","Confirm Password","formControlName","confirmPassword",3,"type"],["class","input-icon toggle-eye","alt","Toggle Confirm Password Visibility",3,"src","click",4,"ngIf"],["for","checkbox-label",1,"checkbox-label"],["id","checkbox-label","type","checkbox","formControlName","privacyPolicy"],["routerLink","/privacy-policy",1,"highlight"],[1,"btn-wrapper"],["type","submit",1,"btn-signup",3,"disabled"],[4,"ngIf"],["class","success-message",4,"ngIf"],[1,"error-message"],["src","assets/img/icons/lock.png","alt","Lock Icon",1,"input-icon"],["alt","Toggle Password Visibility",1,"input-icon","toggle-eye",3,"click","src"],["alt","Toggle Confirm Password Visibility",1,"input-icon","toggle-eye",3,"click","src"],[1,"spinner"],[1,"success-message"]],template:function(t,r){if(t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),j(3,"img",3),p(),m(4,"section",4)(5,"div",5)(6,"a",6),V("click",function(){return r.onBackToLogin()}),j(7,"img",7),p(),m(8,"h2"),y(9,"Sign up"),p()(),m(10,"form",8),V("ngSubmit",function(){return r.onSubmit()}),m(11,"div",9)(12,"div")(13,"div",10),j(14,"label",11)(15,"input",12)(16,"img",13),p(),Q(17,QK,2,1,"p",14),p()(),m(18,"div",9)(19,"div")(20,"div",10),j(21,"label",15)(22,"input",16)(23,"img",17),p(),Q(24,YK,2,1,"p",14),p()(),m(25,"div",9)(26,"div")(27,"div",10),j(28,"label",18)(29,"input",19),Q(30,ZK,1,0,"img",20)(31,JK,1,1,"img",21),p(),Q(32,XK,2,1,"p",14),p()(),m(33,"div",9)(34,"div")(35,"div",10),j(36,"label",22)(37,"input",23),Q(38,eQ,1,0,"img",20)(39,tQ,1,1,"img",24),p(),Q(40,nQ,2,1,"p",14),p()(),m(41,"div",9)(42,"label",25),j(43,"input",26),y(44," I accept the "),m(45,"a",27),y(46,"Privacy policy"),p()()(),m(47,"div",28)(48,"button",29),Q(49,rQ,2,0,"ng-container",30)(50,iQ,3,0,"ng-container",30),p()(),Q(51,oQ,2,1,"p",31)(52,sQ,2,1,"p",14),p()()(),j(53,"app-footer"),p()),t&2){let i,o,s,a,c,u,d,g,_,v,E;I(10),O("formGroup",r.signupform),I(3),O("ngClass",cn(20,E_,((i=r.signupform.get("name"))==null?null:i.invalid)&&((i=r.signupform.get("name"))==null?null:i.touched))),I(4),O("ngIf",((o=r.signupform.get("name"))==null?null:o.invalid)&&((o=r.signupform.get("name"))==null?null:o.touched)),I(3),O("ngClass",cn(22,E_,((s=r.signupform.get("email"))==null?null:s.invalid)&&((s=r.signupform.get("email"))==null?null:s.touched))),I(4),O("ngIf",((a=r.signupform.get("email"))==null?null:a.invalid)&&((a=r.signupform.get("email"))==null?null:a.touched)),I(3),O("ngClass",cn(24,E_,((c=r.signupform.get("password"))==null?null:c.invalid)&&((c=r.signupform.get("password"))==null?null:c.touched))),I(2),O("type",r.showPassword?"text":"password"),I(),O("ngIf",!((u=r.signupform.get("password"))!=null&&u.value)),I(),O("ngIf",(d=r.signupform.get("password"))==null?null:d.value),I(),O("ngIf",((g=r.signupform.get("password"))==null?null:g.invalid)&&((g=r.signupform.get("password"))==null?null:g.touched)),I(3),O("ngClass",cn(26,E_,((_=r.signupform.get("confirmPassword"))==null?null:_.invalid)&&((_=r.signupform.get("confirmPassword"))==null?null:_.touched))),I(2),O("type",r.showConfirmPassword?"text":"password"),I(),O("ngIf",!((v=r.signupform.get("confirmPassword"))!=null&&v.value)),I(),O("ngIf",(E=r.signupform.get("confirmPassword"))==null?null:E.value),I(),O("ngIf",r.getValidationMessage("confirmPassword")),I(8),O("disabled",r.signupform.invalid||r.isLoading),I(),O("ngIf",!r.isLoading),I(),O("ngIf",r.isLoading),I(),O("ngIf",r.successMessage),I(),O("ngIf",r.errorMessage)}},dependencies:[We,Ns,Ke,jt,un,hl,cl,Jo,ur,Rd,dr,Zo,fa,pa],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.signup-content[_ngcontent-%COMP%]{position:relative;max-width:1440px;margin:0 auto;height:100dvh;display:flex;flex-direction:column;justify-content:space-between}.dark-logo-wrapper[_ngcontent-%COMP%]{padding:32px 40px}@media (max-width: 768px){.dark-logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:72px;width:64px}}@media (max-width: 406px){.dark-logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:48px;width:auto;margin:0 4px}}@media (max-width: 406px){.dark-logo-wrapper[_ngcontent-%COMP%]{padding:12px}}@media (min-width: 768px){.dark-logo-wrapper[_ngcontent-%COMP%]{height:180px}}.signup-frame[_ngcontent-%COMP%]{background-color:var(--background-light);border-radius:20px;padding:clamp(32px,1.8vw + 20px,64px);box-shadow:0 4px 24px #0000000d;width:clamp(440px,5vw + 440px,560px);max-width:500px;margin:0 auto;display:flex;justify-content:center;flex-direction:column;align-items:center;gap:clamp(24px,2.5vh,36px);margin-top:1rem;height:65dvh;max-height:650px}@media (max-width: 600px){.signup-frame[_ngcontent-%COMP%]{width:90vw;max-width:400px;padding:24px 12px;gap:20px;box-sizing:border-box;overflow-x:hidden;max-height:536px}}@media (max-width: 406px){.signup-frame[_ngcontent-%COMP%]{margin-top:2rem;overflow-y:auto}}.signup-header[_ngcontent-%COMP%]{width:100%;position:relative;display:flex;align-items:center;justify-content:center}.signup-header[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{cursor:pointer;height:56px;width:fit-content;padding:16px clamp(10px,.54vw + 8.3px,16px);gap:8px;border-radius:10px;border:unset;background-color:unset;position:absolute;left:0}.signup-header[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.signup-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:clamp(37px,.89vw + 33px,47px);color:var(--text-color-main);position:relative;margin-bottom:0}.signup-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";display:block;width:80px;height:3px;background-color:var(--accent-primary-color);margin:12px auto 0;border-radius:3px}@media (max-width: 768px){.signup-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:36px}}@media (max-width: 406px){.signup-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Inter;font-weight:700;font-size:26px}}form[_ngcontent-%COMP%]{padding:8px 33px}.form-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{height:fit-content;width:clamp(350px,6.43vw + 142.6px,422px);border-radius:10px;border:1px solid var(--background-default-dark);padding:clamp(8px,.45vw + 6.56px,13px) clamp(18px,.27vw + 17.14px,21px);display:flex;justify-content:space-between;align-items:center;font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);background-color:var(--background-light);position:relative}.form-group[_ngcontent-%COMP%]:focus-within{border:1px solid var(--accent-primary-color)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background-color:transparent;color:var(--text-color-main);padding-right:28px;font-family:Inter;font-weight:400;font-size:clamp(16px,.36vw + 14.85px,20px);height:16px;font-size:16px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-color-medium);opacity:1}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%]{border:2px solid var(--text-color-error)}.form-group[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;right:clamp(12px,2vw,18px);top:50%;transform:translateY(-50%);height:20px;width:20px;opacity:.6}@media (max-width: 768px){.form-group[_ngcontent-%COMP%]{width:100%}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:15px;height:14px}.form-group[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{width:18px;height:18px;right:12px}}.checkbox-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;margin:16px 8px 8px;width:100%;font-family:Inter;font-weight:400;font-size:14px;color:var(--text-color-medium);cursor:pointer;position:relative}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:20px;height:20px;cursor:pointer;background-image:url("./media/checkbox-NRDOVKWM.png");background-size:contain;background-repeat:no-repeat;background-position:center;border:none;margin:0;padding:0;flex-shrink:0}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{background-image:url("./media/checkbox-checked-AZOYIH2R.png")}.checkbox-label[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:var(--accent-primary-color);text-decoration:none;cursor:pointer}@media (max-width: 406px){.checkbox-label[_ngcontent-%COMP%]{font-size:12px;gap:4px;margin:4px}}.btn-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.btn-signup[_ngcontent-%COMP%]{cursor:pointer;height:44px;border-radius:8px;border:unset;min-width:120px;transition:background-color .2s ease;justify-content:center;background-color:var(--background-dark);color:var(--text-color-light);font-family:Inter;font-weight:700;font-size:clamp(18px,.27vw + 17.14px,21px)}.btn-signup[_ngcontent-%COMP%]:hover{background-color:var(--accent-primary-color)}.btn-signup[_ngcontent-%COMP%]:hover{background-color:#29abe2;box-shadow:0 4px 4px #00000040}.btn-signup[_ngcontent-%COMP%]:disabled{background-color:#ccc;color:#666;cursor:not-allowed;opacity:.6}@media (max-width: 406px){.btn-signup[_ngcontent-%COMP%]{font-size:16px;height:32px;min-width:96px}}.colorError[_ngcontent-%COMP%]{border:1px solid var(--text-color-error)}.error-message[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:12px;color:var(--text-color-error);display:hidden}@media (max-width: 768px){.error-message[_ngcontent-%COMP%]{font-size:13px}}.success-message[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:12px;color:var(--text-color-success);display:block;margin-top:16px;text-align:center}.login-link[_ngcontent-%COMP%]{font-family:Inter;font-weight:400;font-size:12px;color:var(--text-color-light);text-align:center;margin-top:16px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--accent-color);text-decoration:none}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}input[_ngcontent-%COMP%]:focus{border:unset}.spinner[_ngcontent-%COMP%]{border:2px solid #fff;border-top:2px solid transparent;border-radius:50%;width:14px;height:14px;display:inline-block;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin-right:6px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.input-icon.toggle-eye[_ngcontent-%COMP%]{cursor:pointer;right:16px;position:relative;top:50%;transform:translateY(-50%)}']})};var rs=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return Mi([this.authService.currentUser$,this.authService.authInitialized$]).pipe(vt(([e,t])=>t),Sn(1),xe(([e,t])=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(Z(Wt),Z(qe))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var _F=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:b_},{path:"signup",component:I_},{path:"summary",component:Km,canActivate:[rs]},{path:"add-task",component:ul,canActivate:[rs]},{path:"board",component:m_,canActivate:[rs]},{path:"contacts",component:Gm,canActivate:[rs]},{path:"help",component:y_,canActivate:[rs]},{path:"legal-notice",component:v_},{path:"privacy-policy",component:w_},{path:"**",redirectTo:"/login"}];function yF(n){return new W(3e3,!1)}function aQ(){return new W(3100,!1)}function cQ(){return new W(3101,!1)}function lQ(n){return new W(3001,!1)}function uQ(n){return new W(3003,!1)}function dQ(n){return new W(3004,!1)}function wF(n,e){return new W(3005,!1)}function CF(){return new W(3006,!1)}function bF(){return new W(3007,!1)}function EF(n,e){return new W(3008,!1)}function IF(n){return new W(3002,!1)}function xF(n,e,t,r,i){return new W(3010,!1)}function SF(){return new W(3011,!1)}function TF(){return new W(3012,!1)}function DF(){return new W(3200,!1)}function MF(){return new W(3202,!1)}function kF(){return new W(3013,!1)}function PF(n){return new W(3014,!1)}function OF(n){return new W(3015,!1)}function AF(n){return new W(3016,!1)}function RF(n,e){return new W(3404,!1)}function hQ(n){return new W(3502,!1)}function NF(n){return new W(3503,!1)}function FF(){return new W(3300,!1)}function LF(n){return new W(3504,!1)}function VF(n){return new W(3301,!1)}function jF(n,e){return new W(3302,!1)}function BF(n){return new W(3303,!1)}function UF(n,e){return new W(3400,!1)}function $F(n){return new W(3401,!1)}function zF(n){return new W(3402,!1)}function HF(n,e){return new W(3505,!1)}function io(n){switch(n.length){case 0:return new yi;case 1:return n[0];default:return new ua(n)}}function Vx(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,g=d&&a||new Map;c.forEach((_,v)=>{let E=v,P=_;if(v!=="offset")switch(E=n.normalizePropertyName(E,i),P){case nl:P=t.get(v);break;case lr:P=r.get(v);break;default:P=n.normalizeStyleValue(v,E,P,i);break}g.set(E,P)}),d||o.push(g),a=g,s=u}),i.length)throw hQ(i);return o}function x_(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Nx(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Nx(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Nx(t,"destroy",n)));break}}function Nx(n,e,t){let r=t.totalTime,i=!!t.disabled,o=S_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function S_(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Rn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function jx(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var fQ=typeof document>"u"?null:document.documentElement;function T_(n){let e=n.parentNode||n.host||null;return e===fQ?null:e}function pQ(n){return n.substring(1,6)=="ebkit"}var ga=null,vF=!1;function qF(n){ga||(ga=gQ()||{},vF=ga.style?"WebkitAppearance"in ga.style:!1);let e=!0;return ga.style&&!pQ(n)&&(e=n in ga.style,!e&&vF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ga.style)),e}function gQ(){return typeof document<"u"?document.body:null}function Bx(n,e){for(;e;){if(e===n)return!0;e=T_(e)}return!1}function Ux(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var mQ=1e3,$x="{{",_Q="}}",zx="ng-enter",D_="ng-leave",Bd="ng-trigger",Ud=".ng-trigger",Hx="ng-animating",M_=".ng-animating";function bi(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Fx(parseFloat(e[1]),e[2])}function Fx(n,e){switch(e){case"s":return n*mQ;default:return n}}function $d(n,e,t){return n.hasOwnProperty("duration")?n:yQ(n,e,t)}function yQ(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(yF(n)),{duration:0,delay:0,easing:""};i=Fx(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=Fx(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(aQ()),a=!0),o<0&&(e.push(cQ()),a=!0),a&&e.splice(c,0,yF(n))}return{duration:i,delay:o,easing:s}}function WF(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ar(n,e,t){e.forEach((r,i)=>{let o=k_(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function is(n,e){e.forEach((t,r)=>{let i=k_(r);n.style[i]=""})}function fl(n){return Array.isArray(n)?n.length==1?n[0]:a2(n):n}function GF(n,e,t){let r=e.params||{},i=qx(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(lQ(o))})}var Lx=new RegExp(`${$x}\\s*(.+?)\\s*${_Q}`,"g");function qx(n){let e=[];if(typeof n=="string"){let t;for(;t=Lx.exec(n);)e.push(t[1]);Lx.lastIndex=0}return e}function pl(n,e,t){let r=`${n}`,i=r.replace(Lx,(o,s)=>{let a=e[s];return a==null&&(t.push(uQ(s)),a=""),a.toString()});return i==r?n:i}var vQ=/-+([a-z0-9])/g;function k_(n){return n.replace(vQ,(...e)=>e[1].toUpperCase())}function KF(n,e){return n===0||e===0}function QF(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,P_(n,a)))}}return e}function Nn(n,e,t){switch(e.type){case we.Trigger:return n.visitTrigger(e,t);case we.State:return n.visitState(e,t);case we.Transition:return n.visitTransition(e,t);case we.Sequence:return n.visitSequence(e,t);case we.Group:return n.visitGroup(e,t);case we.Animate:return n.visitAnimate(e,t);case we.Keyframes:return n.visitKeyframes(e,t);case we.Style:return n.visitStyle(e,t);case we.Reference:return n.visitReference(e,t);case we.AnimateChild:return n.visitAnimateChild(e,t);case we.AnimateRef:return n.visitAnimateRef(e,t);case we.Query:return n.visitQuery(e,t);case we.Stagger:return n.visitStagger(e,t);default:throw dQ(e.type)}}function P_(n,e){return window.getComputedStyle(n)[e]}var cS=(()=>{class n{validateStyleProperty(t){return qF(t)}containsElement(t,r){return Bx(t,r)}getParentElement(t){return T_(t)}query(t,r,i){return Ux(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new yi(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),_a=class{static NOOP=new cS},ya=class{};var wQ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),F_=class extends ya{normalizePropertyName(e,t){return k_(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(wQ.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(wF(e,r))}return s+o}};var L_="*";function CQ(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>bQ(r,t,e)):t.push(n),t}function bQ(n,e,t){if(n[0]==":"){let c=EQ(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(OF(n)),e;let i=r[1],o=r[2],s=r[3];e.push(YF(i,s));let a=i==L_&&s==L_;o[0]=="<"&&!a&&e.push(YF(s,i))}function EQ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(AF(n)),"* => *"}}var O_=new Set(["true","1"]),A_=new Set(["false","0"]);function YF(n,e){let t=O_.has(n)||A_.has(n),r=O_.has(e)||A_.has(e);return(i,o)=>{let s=n==L_||n==i,a=e==L_||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?O_.has(n):A_.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?O_.has(e):A_.has(e)),s&&a}}var sL=":self",IQ=new RegExp(`s*${sL}s*,?`,"g");function aL(n,e,t,r){return new Zx(n).build(e,t,r)}var ZF="",Zx=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new Jx(t);return this._resetContextStyleTimingState(i),Nn(this,fl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=ZF,e.collectedStyles=new Map,e.collectedStyles.set(ZF,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(CF()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==we.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==we.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(bF())}),{type:we.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{qx(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(EF(e.name,[...o.values()]))}return{type:we.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Nn(this,fl(e.animation),t),i=CQ(e.expr,t.errors);return{type:we.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ma(e.options)}}visitSequence(e,t){return{type:we.Sequence,steps:e.steps.map(r=>Nn(this,r,t)),options:ma(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Nn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:we.Group,steps:o,options:ma(e.options)}}visitAnimate(e,t){let r=DQ(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Ne({});if(o.type==we.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=Ne(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:we.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===lr?r.push(a):t.errors.push(IF(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf($x)>=0){o=!0;break}}}),{type:we.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),g=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(xF(c,d.startTime,d.endTime,o,i)),g=!1),o=d.startTime),g&&u.set(c,{startTime:o,endTime:i}),t.options&&GF(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:we.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(SF()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(K=>{let X=this._makeStyleAst(K,t),te=X.offset!=null?X.offset:TQ(X.styles),he=0;return te!=null&&(o++,he=X.offset=te),c=c||he<0||he>1,a=a||he<u,u=he,s.push(he),X});c&&t.errors.push(TF()),a&&t.errors.push(DF());let g=e.steps.length,_=0;o>0&&o<g?t.errors.push(MF()):o==0&&(_=i/(g-1));let v=g-1,E=t.currentTime,P=t.currentAnimateTimings,R=P.duration;return d.forEach((K,X)=>{let te=_>0?X==v?1:_*X:s[X],he=te*R;t.currentTime=E+P.delay+he,P.duration=he,this._validateStyleAst(K,t),K.offset=te,r.styles.push(K)}),r}visitReference(e,t){return{type:we.Reference,animation:Nn(this,fl(e.animation),t),options:ma(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:we.AnimateChild,options:ma(e.options)}}visitAnimateRef(e,t){return{type:we.AnimateRef,animation:this.visitReference(e.animation,t),options:ma(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=xQ(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Rn(t.collectedStyles,t.currentQuerySelector,new Map);let a=Nn(this,fl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:we.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ma(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(kF());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:$d(e.timings,t.errors,!0);return{type:we.Stagger,animation:Nn(this,fl(e.animation),t),timings:r,options:null}}};function xQ(n){let e=!!n.split(/\s*,\s*/).find(t=>t==sL);return e&&(n=n.replace(IQ,"")),n=n.replace(/@\*/g,Ud).replace(/@\w+/g,t=>Ud+"-"+t.slice(1)).replace(/:animating/g,M_),[n,e]}function SQ(n){return n?q({},n):null}var Jx=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function TQ(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function DQ(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=$d(n,e).duration;return Wx(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Wx(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=$d(t,e);return Wx(i.duration,i.delay,i.easing)}function ma(n){return n?(n=q({},n),n.params&&(n.params=SQ(n.params))):n={},n}function Wx(n,e,t){return{duration:n,delay:e,easing:t}}function lS(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Hd=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},MQ=1,kQ=":enter",PQ=new RegExp(kQ,"g"),OQ=":leave",AQ=new RegExp(OQ,"g");function cL(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new Xx().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var Xx=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new Hd;let g=new eS(e,t,u,i,o,d,[]);g.options=c;let _=c.delay?bi(c.delay):0;g.currentTimeline.delayNextStep(_),g.currentTimeline.setStyles([s],null,g.errors,c),Nn(this,r,g);let v=g.timelines.filter(E=>E.containsAnimation());if(v.length&&a.size){let E;for(let P=v.length-1;P>=0;P--){let R=v[P];if(R.element===t){E=R;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,g.errors,c)}return v.length?v.map(E=>E.buildKeyframes()):[lS(t,[],[],[],0,_,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:bi(pl(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?bi(r.duration):null,a=r.delay!=null?bi(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Nn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==we.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=V_);let s=bi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Nn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?bi(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Nn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?pl(r,t.params,t.errors):r;return $d(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==we.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?bi(i.delay):0;o&&(t.previousNode.type===we.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=V_);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let g=t.createSubContext(e.options,u);o&&g.delayNextStep(o),u===t.element&&(c=g.currentTimeline),Nn(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe();let _=g.currentTimeline.currentTime;s=Math.max(s,_)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let g=d.currentTime;Nn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}},V_={},eS=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=V_;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new j_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=bi(r.duration)),r.delay!=null&&(i.delay=bi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=pl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=V_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new tS(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(PQ,"."+this._enterClassName),e=e.replace(AQ,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(PF(t)),a}},j_=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=MQ,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||lr),this._currentKeyframe.set(t,lr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=RQ(e,this._globalTimelineStyles);for(let[a,c]of s){let u=pl(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??lr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,g)=>{d===nl?e.add(g):d===lr&&t.add(g)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return lS(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},tS=class extends j_{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",JF(a)),o.push(u);let d=e.length-1;for(let g=1;g<=d;g++){let _=new Map(e[g]),v=_.get("offset"),E=t+v*r;_.set("offset",JF(E/s)),o.push(_)}r=s,t=0,i="",e=o}return lS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function JF(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function RQ(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,lr)}else for(let[o,s]of i)t.set(o,s)}),t}function XF(n,e,t,r,i,o,s,a,c,u,d,g,_){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:g,errors:_}}var Gx={},B_=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return NQ(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let g=[],_=this.ast.options&&this.ast.options.params||Gx,v=a&&a.params||Gx,E=this.buildStyles(r,v,g),P=c&&c.params||Gx,R=this.buildStyles(i,P,g),K=new Set,X=new Map,te=new Map,he=i==="void",ot={params:lL(P,_),delay:this.ast.options?.delay},ke=d?[]:cL(e,t,this.ast.animation,o,s,E,R,ot,u,g),T=0;return ke.forEach(b=>{T=Math.max(b.duration+b.delay,T)}),g.length?XF(t,this._triggerName,r,i,he,E,R,[],[],X,te,T,g):(ke.forEach(b=>{let x=b.element,D=Rn(X,x,new Set);b.preStyleProps.forEach(A=>D.add(A));let M=Rn(te,x,new Set);b.postStyleProps.forEach(A=>M.add(A)),x!==t&&K.add(x)}),XF(t,this._triggerName,r,i,he,E,R,ke,[...K.values()],X,te,T))}};function NQ(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function lL(n,e){let t=q({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var nS=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=lL(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=pl(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function FQ(n,e,t){return new rS(n,e,t)}var rS=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new nS(i.style,o,r))}),eL(this.states,"true","1"),eL(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new B_(e,i,this.states))}),this.fallbackTransition=LQ(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function LQ(n,e,t){let r=[(s,a)=>!0],i={type:we.Sequence,steps:[],options:null},o={type:we.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new B_(n,o,e)}function eL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var VQ=new Hd,iS=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=aL(this._driver,t,r,i);if(r.length)throw NF(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=Vx(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=cL(this._driver,t,o,zx,D_,new Map,new Map,r,VQ,i),s.forEach(d=>{let g=Rn(a,d.element,new Map);d.postStyleProps.forEach(_=>g.set(_,null))})):(i.push(FF()),s=[]),i.length)throw LF(i);a.forEach((d,g)=>{d.forEach((_,v)=>{d.set(v,this._driver.computeStyle(g,v,lr))})});let c=s.map(d=>{let g=a.get(d.element);return this._buildPlayer(d,new Map,g)}),u=io(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw VF(e);return t}listen(e,t,r,i){let o=S_(t,"","","");return x_(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},tL="ng-animate-queued",jQ=".ng-animate-queued",Kx="ng-animate-disabled",BQ=".ng-animate-disabled",UQ="ng-star-inserted",$Q=".ng-star-inserted",zQ=[],uL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rr="__ng_removed",qd=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=WQ(i),r){let o=e,{value:s}=o,a=fT(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},zd="void",Qx=new qd(zd),oS=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,fr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw jF(r,t);if(r==null||r.length==0)throw BF(t);if(!GQ(r))throw UF(r,t);let o=Rn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Rn(this._engine.statesByElement,e,new Map);return a.has(t)||(fr(e,Bd),fr(e,Bd+"-"+t),a.set(t,Qx)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw $F(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Wd(this.id,t,e),a=this._engine.statesByElement.get(e);a||(fr(e,Bd),fr(e,Bd+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new qd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=Qx),!(u.value===zd)&&c.value===u.value){if(!YQ(c.params,u.params)){let P=[],R=o.matchStyles(c.value,c.params,P),K=o.matchStyles(u.value,u.params,P);P.length?this._engine.reportError(P):this._engine.afterFlush(()=>{is(e,R),Ar(e,K)})}return}let _=Rn(this._engine.playersByElement,e,[]);_.forEach(P=>{P.namespaceId==this.id&&P.triggerName==t&&P.queued&&P.destroy()});let v=o.matchTransition(c.value,u.value,e,u.params),E=!1;if(!v){if(!i)return;v=o.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:u,player:s,isFallbackTransition:E}),E||(fr(e,tL),s.onStart(()=>{gl(e,tL)})),s.onDone(()=>{let P=this.players.indexOf(s);P>=0&&this.players.splice(P,1);let R=this._engine.playersByElement.get(e);if(R){let K=R.indexOf(s);K>=0&&R.splice(K,1)}}),this.players.push(s),_.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Ud,!0);r.forEach(i=>{if(i[Rr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,zd,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&io(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||Qx,d=new qd(zd),g=new Wd(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:g,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Rr];(!o||o===uL)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){fr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=S_(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,x_(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},sS=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new oS(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(R_(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!R_(t))return;let o=t[Rr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fr(e,Kx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),gl(e,Kx))}removeNode(e,t,r){if(R_(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Rr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return R_(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Ud,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,M_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return io(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Rr];if(t&&t.setForRemoval){if(e[Rr]=uL,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Kx)&&this.markElementAsDisabled(e,!1),this.driver.query(e,BQ,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];fr(i,UQ)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?io(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw zF(e)}_flushAnimations(e,t){let r=new Hd,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(ne=>{d.add(ne);let re=this.driver.query(ne,jQ,!0);for(let se=0;se<re.length;se++)d.add(re[se])});let g=this.bodyNode,_=Array.from(this.statesByElement.keys()),v=iL(_,this.collectedEnterElements),E=new Map,P=0;v.forEach((ne,re)=>{let se=zx+P++;E.set(re,se),ne.forEach(Fe=>fr(Fe,se))});let R=[],K=new Set,X=new Set;for(let ne=0;ne<this.collectedLeaveElements.length;ne++){let re=this.collectedLeaveElements[ne],se=re[Rr];se&&se.setForRemoval&&(R.push(re),K.add(re),se.hasAnimation?this.driver.query(re,$Q,!0).forEach(Fe=>K.add(Fe)):X.add(re))}let te=new Map,he=iL(_,Array.from(K));he.forEach((ne,re)=>{let se=D_+P++;te.set(re,se),ne.forEach(Fe=>fr(Fe,se))}),e.push(()=>{v.forEach((ne,re)=>{let se=E.get(re);ne.forEach(Fe=>gl(Fe,se))}),he.forEach((ne,re)=>{let se=te.get(re);ne.forEach(Fe=>gl(Fe,se))}),R.forEach(ne=>{this.processLeaveNode(ne)})});let ot=[],ke=[];for(let ne=this._namespaceList.length-1;ne>=0;ne--)this._namespaceList[ne].drainQueuedTransitions(t).forEach(se=>{let Fe=se.player,It=se.element;if(ot.push(Fe),this.collectedEnterElements.length){let _t=It[Rr];if(_t&&_t.setForMove){if(_t.previousTriggersValues&&_t.previousTriggersValues.has(se.triggerName)){let Ei=_t.previousTriggersValues.get(se.triggerName),In=this.statesByElement.get(se.element);if(In&&In.has(se.triggerName)){let Ii=In.get(se.triggerName);Ii.value=Ei,In.set(se.triggerName,Ii)}}Fe.destroy();return}}let Yn=!g||!this.driver.containsElement(g,It),mt=te.get(It),st=E.get(It),at=this._buildInstruction(se,r,st,mt,Yn);if(at.errors&&at.errors.length){ke.push(at);return}if(Yn){Fe.onStart(()=>is(It,at.fromStyles)),Fe.onDestroy(()=>Ar(It,at.toStyles)),i.push(Fe);return}if(se.isFallbackTransition){Fe.onStart(()=>is(It,at.fromStyles)),Fe.onDestroy(()=>Ar(It,at.toStyles)),i.push(Fe);return}let so=[];at.timelines.forEach(_t=>{_t.stretchStartingKeyframe=!0,this.disabledNodes.has(_t.element)||so.push(_t)}),at.timelines=so,r.append(It,at.timelines);let K_={instruction:at,player:Fe,element:It};s.push(K_),at.queriedElements.forEach(_t=>Rn(a,_t,[]).push(Fe)),at.preStyleProps.forEach((_t,Ei)=>{if(_t.size){let In=c.get(Ei);In||c.set(Ei,In=new Set),_t.forEach((Ii,ao)=>In.add(ao))}}),at.postStyleProps.forEach((_t,Ei)=>{let In=u.get(Ei);In||u.set(Ei,In=new Set),_t.forEach((Ii,ao)=>In.add(ao))})});if(ke.length){let ne=[];ke.forEach(re=>{ne.push(HF(re.triggerName,re.errors))}),ot.forEach(re=>re.destroy()),this.reportError(ne)}let T=new Map,b=new Map;s.forEach(ne=>{let re=ne.element;r.has(re)&&(b.set(re,re),this._beforeAnimationBuild(ne.player.namespaceId,ne.instruction,T))}),i.forEach(ne=>{let re=ne.element;this._getPreviousPlayers(re,!1,ne.namespaceId,ne.triggerName,null).forEach(Fe=>{Rn(T,re,[]).push(Fe),Fe.destroy()})});let x=R.filter(ne=>oL(ne,c,u)),D=new Map;rL(D,this.driver,X,u,lr).forEach(ne=>{oL(ne,c,u)&&x.push(ne)});let A=new Map;v.forEach((ne,re)=>{rL(A,this.driver,new Set(ne),c,nl)}),x.forEach(ne=>{let re=D.get(ne),se=A.get(ne);D.set(ne,new Map([...re?.entries()??[],...se?.entries()??[]]))});let S=[],Qn=[],oo={};s.forEach(ne=>{let{element:re,player:se,instruction:Fe}=ne;if(r.has(re)){if(d.has(re)){se.onDestroy(()=>Ar(re,Fe.toStyles)),se.disabled=!0,se.overrideTotalTime(Fe.totalTime),i.push(se);return}let It=oo;if(b.size>1){let mt=re,st=[];for(;mt=mt.parentNode;){let at=b.get(mt);if(at){It=at;break}st.push(mt)}st.forEach(at=>b.set(at,It))}let Yn=this._buildAnimation(se.namespaceId,Fe,T,o,A,D);if(se.setRealPlayer(Yn),It===oo)S.push(se);else{let mt=this.playersByElement.get(It);mt&&mt.length&&(se.parentPlayer=io(mt)),i.push(se)}}else is(re,Fe.fromStyles),se.onDestroy(()=>Ar(re,Fe.toStyles)),Qn.push(se),d.has(re)&&i.push(se)}),Qn.forEach(ne=>{let re=o.get(ne.element);if(re&&re.length){let se=io(re);ne.setRealPlayer(se)}}),i.forEach(ne=>{ne.parentPlayer?ne.syncPlayerEvents(ne.parentPlayer):ne.destroy()});for(let ne=0;ne<R.length;ne++){let re=R[ne],se=re[Rr];if(gl(re,D_),se&&se.hasAnimation)continue;let Fe=[];if(a.size){let Yn=a.get(re);Yn&&Yn.length&&Fe.push(...Yn);let mt=this.driver.query(re,M_,!0);for(let st=0;st<mt.length;st++){let at=a.get(mt[st]);at&&at.length&&Fe.push(...at)}}let It=Fe.filter(Yn=>!Yn.destroyed);It.length?KQ(this,re,It):this.processLeaveNode(re)}return R.length=0,S.forEach(ne=>{this.players.push(ne),ne.onDone(()=>{ne.destroy();let re=this.players.indexOf(ne);this.players.splice(re,1)}),ne.play()}),S}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==zd;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,g=Rn(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(v=>{let E=v.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),v.destroy(),g.push(v)})}is(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,g=new Set,_=t.timelines.map(E=>{let P=E.element;d.add(P);let R=P[Rr];if(R&&R.removedBeforeQueried)return new yi(E.duration,E.delay);let K=P!==c,X=QQ((r.get(P)||zQ).map(T=>T.getRealPlayer())).filter(T=>{let b=T;return b.element?b.element===P:!1}),te=o.get(P),he=s.get(P),ot=Vx(this._normalizer,E.keyframes,te,he),ke=this._buildPlayer(E,ot,X);if(E.subTimeline&&i&&g.add(P),K){let T=new Wd(e,a,P);T.setRealPlayer(ke),u.push(T)}return ke});u.forEach(E=>{Rn(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>qQ(this.playersByQueriedElement,E.element,E))}),d.forEach(E=>fr(E,Hx));let v=io(_);return v.onDestroy(()=>{d.forEach(E=>gl(E,Hx)),Ar(c,t.toStyles)}),g.forEach(E=>{Rn(i,E,[]).push(v)}),v}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new yi(e.duration,e.delay)}},Wd=class{namespaceId;triggerName;element;_player=new yi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>x_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Rn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function qQ(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function WQ(n){return n??null}function R_(n){return n&&n.nodeType===1}function GQ(n){return n=="start"||n=="done"}function nL(n,e){let t=n.style.display;return n.style.display=e??"none",t}function rL(n,e,t,r,i){let o=[];t.forEach(c=>o.push(nL(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(g=>{let _=e.computeStyle(u,g,i);d.set(g,_),(!_||_.length==0)&&(u[Rr]=HQ,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>nL(c,o[a++])),s}function iL(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function fr(n,e){n.classList?.add(e)}function gl(n,e){n.classList?.remove(e)}function KQ(n,e,t){io(t).onDone(()=>n.processLeaveNode(e))}function QQ(n){let e=[];return dL(n,e),e}function dL(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof ua?dL(r.players,e):e.push(r)}}function YQ(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function oL(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var ml=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new sS(e.body,t,r),this._timelineEngine=new iS(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=aL(this._driver,o,c,u);if(c.length)throw RF(i,c);a=FQ(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=jx(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=jx(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function ZQ(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Yx(e[0]),e.length>1&&(r=Yx(e[e.length-1]))):e instanceof Map&&(t=Yx(e)),t||r?new JQ(n,t,r):null}var JQ=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ar(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ar(this._element,this._initialStyles),this._endStyles&&(Ar(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(is(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(is(this._element,this._endStyles),this._endStyles=null),Ar(this._element,this._initialStyles),this._state=3)}}return n})();function Yx(n){let e=null;return n.forEach((t,r)=>{XQ(r)&&(e=e||new Map,e.set(r,t))}),e}function XQ(n){return n==="display"||n==="position"}var U_=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:P_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},$_=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Bx(e,t)}getParentElement(e){return T_(e)}query(e,t,r){return Ux(e,t,r)}computeStyle(e,t,r){return P_(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(v=>v instanceof U_);KF(r,i)&&d.forEach(v=>{v.currentSnapshot.forEach((E,P)=>u.set(P,E))});let g=WF(t).map(v=>new Map(v));g=QF(e,g,u);let _=ZQ(e,g);return new U_(e,g,c,_)}};var N_="@",hL="@.disabled",z_=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==N_&&t==hL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},aS=class extends z_{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==N_?t.charAt(1)=="."&&t==hL?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==N_){let o=eY(e),s=t.slice(1),a="";return s.charAt(0)!=N_&&([s,a]=tY(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,t,r,i)}};function eY(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function tY(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var H_=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let g=()=>u.delete(i);d=new z_(r,i,this.engine,g),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new aS(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var rY=(()=>{class n extends ml{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(Z(tt),Z(_a),Z(ya))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function iY(){return new F_}function oY(n,e,t){return new H_(n,e,t)}var fL=[{provide:ya,useFactory:iY},{provide:ml,useClass:rY},{provide:Mn,useFactory:oY,deps:[vu,ml,Oe]}],gge=[{provide:_a,useClass:cS},{provide:$0,useValue:"NoopAnimations"},...fL],sY=[{provide:_a,useFactory:()=>new $_},{provide:$0,useFactory:()=>"BrowserAnimations"},...fL];function pL(){return Qr("NgEagerAnimations"),[...sY]}var gL={providers:[ik({eventCoalescing:!0}),pC(_F,mC()),vO(()=>wO({projectId:"join-6125f",appId:"1:703986298510:web:8cb9707daf583f2153a3df",storageBucket:"join-6125f.firebasestorage.app",apiKey:"AIzaSyAWyoU260eXmo3445mLTsqCjzRhEG6aq9A",authDomain:"join-6125f.firebaseapp.com",messagingSenderId:"703986298510"})),i2(()=>o2()),pL(),xA(()=>TA()),{provide:d_,useValue:{dragStartThreshold:5,pointerDirectionChangeThreshold:5,zIndex:1e3,scrollSpeed:30,scrollProximity:100}}]};function aY(n,e){n&1&&(m(0,"nav",8)(1,"ul")(2,"li",9)(3,"a",10),j(4,"img",11),m(5,"span"),y(6,"Summary"),p()()(),m(7,"li",9)(8,"a",12),j(9,"img",13),m(10,"span"),y(11,"Board"),p()()(),m(12,"li",9)(13,"a",14),j(14,"img",15),m(15,"span"),y(16,"Add Task"),p()()(),m(17,"li",9)(18,"a",16),j(19,"img",17),m(20,"span"),y(21,"Contacts"),p()()()()())}function cY(n,e){n&1&&(m(0,"nav",18)(1,"ul")(2,"li")(3,"a",19),j(4,"img",20),m(5,"span"),y(6,"Log In"),p()()()(),m(7,"div",21)(8,"a",6),y(9,"Privacy Policy"),p(),m(10,"a",7),y(11,"Legal notice"),p()()())}var q_=class n{constructor(e){this.authService=e}isLoggedIn(){return this.authService.isLoggedIn()}static \u0275fac=function(t){return new(t||n)(B(Wt))};static \u0275cmp=Ee({type:n,selectors:[["app-sidebar"]],decls:10,vars:2,consts:[[1,"sidebar"],[1,"logo-section"],["src","assets/img/logo/logo.png","alt","Join Logo",1,"logo"],["class","navigation",4,"ngIf"],["class","login-navigation",4,"ngIf"],[1,"legal-links"],["routerLink","/privacy-policy"],["routerLink","/legal-notice"],[1,"navigation"],["routerLinkActive","active"],["routerLink","/summary"],["src","assets/img/icons/summary-light.png","alt","Summary Icon"],["routerLink","/board"],["src","assets/img/icons/board.png","alt","Board Icon"],["routerLink","/add-task"],["src","assets/img/icons/add-task.png","alt","Add Task Icon"],["routerLink","/contacts"],["src","assets/img/icons/contacts.png","alt","Contacts Icon"],[1,"login-navigation"],["routerLink","/login"],["src","assets/img/svg/log-in.svg","alt","Log In Icon"],[1,"login-legal-links"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1),j(2,"img",2),p(),Q(3,aY,22,0,"nav",3)(4,cY,12,0,"nav",4),m(5,"div",5)(6,"a",6),y(7,"Privacy Policy"),p(),m(8,"a",7),y(9,"Legal notice"),p()()()),t&2&&(I(3),O("ngIf",r.isLoggedIn()),I(),O("ngIf",!r.isLoggedIn()))},dependencies:[jt,un,fC,We,Ke],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.sidebar[_ngcontent-%COMP%]{position:relative;width:232px;height:100dvh;background-color:#2a3647;color:#fff;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;padding:32px 0 0;font-family:var(--font-primary);overflow:hidden;box-sizing:border-box}.sidebar[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.sidebar[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100px;height:122px}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:80px}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:auto;max-width:200px;list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:16px}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;cursor:pointer;transition:background-color .2s ease;width:232px;box-sizing:border-box;margin-left:-16px;padding:12px 32px 12px 48px}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{gap:16px;display:flex;align-items:center}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#cdcdcd;font-family:var(--font-primary)}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#2a3d59}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}@media (min-width: 1000px){.sidebar[_ngcontent-%COMP%]   .login-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:80px}.sidebar[_ngcontent-%COMP%]   .login-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:auto;max-width:200px;list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:16px}.sidebar[_ngcontent-%COMP%]   .login-navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;cursor:pointer;transition:background-color .2s ease;height:48px;width:200px;box-sizing:border-box;margin-left:-16px;padding:12px 32px 12px 48px}.sidebar[_ngcontent-%COMP%]   .login-navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{gap:16px;display:flex;align-items:center;text-decoration:none}.sidebar[_ngcontent-%COMP%]   .login-navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.sidebar[_ngcontent-%COMP%]   .login-navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#cdcdcd;font-family:var(--font-primary)}.sidebar[_ngcontent-%COMP%]   .login-navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#2a3d59}.sidebar[_ngcontent-%COMP%]   .login-navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.sidebar[_ngcontent-%COMP%]   .login-navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}}.sidebar[_ngcontent-%COMP%]   .legal-links[_ngcontent-%COMP%]{position:absolute;bottom:32px;left:50%;transform:translate(-50%);display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;width:100%}.sidebar[_ngcontent-%COMP%]   .legal-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#a8a8a8;text-decoration:none;font-family:var(--font-primary);transition:color .2s ease;display:block;text-align:center;min-height:20px;line-height:20px;padding:2px 0}.sidebar[_ngcontent-%COMP%]   .legal-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#29abe2;font-weight:700;transform:scale(1.05)}.login-navigation[_ngcontent-%COMP%]{height:80px;width:100%;display:flex;align-items:center;justify-content:space-between}.login-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:120px}.login-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100px;padding-right:0;border-radius:10px}.login-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#2a3d59}.login-navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;color:#a8a8a8;height:50px}.login-navigation[_ngcontent-%COMP%]   .login-legal-links[_ngcontent-%COMP%]{justify-content:flex-end;font-family:var(--font-primary);flex:1;gap:8px;padding:0 16px 0 0;display:flex}.login-navigation[_ngcontent-%COMP%]   .login-legal-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:fit-content;color:#a8a8a8;cursor:pointer;padding:2px 0;font-size:15px}.login-navigation[_ngcontent-%COMP%]   .login-legal-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#29abe2;font-weight:700;transform:scale(1.05)}@media (min-width: 1000px){.login-navigation[_ngcontent-%COMP%]   .login-legal-links[_ngcontent-%COMP%]{display:none}}@media (max-width: 330px){.login-navigation[_ngcontent-%COMP%]   .login-legal-links[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-end}}@media (max-width: 1170px){.sidebar[_ngcontent-%COMP%]{width:180px}}@media (max-width: 1000px){.sidebar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;width:100%;height:auto;min-height:80px;flex-direction:row;justify-content:center;align-items:center;padding:0;z-index:1000;box-shadow:0 -2px 8px #0000001a;margin-top:0}.sidebar[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;justify-content:space-evenly;margin-top:0;padding:12px 16px}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center;gap:0;width:100%;max-width:none}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:4px 0;text-align:center;width:100px;border-radius:8px;display:flex;align-items:center;justify-content:center;margin:0}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;width:55px;gap:4px;flex-direction:column}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;white-space:nowrap}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#2a3d59}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.sidebar[_ngcontent-%COMP%]   .legal-links[_ngcontent-%COMP%]{display:none}}@media (max-width: 440px){.sidebar[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:70px}}']})};var lY=["menu"];function uY(n,e){if(n&1){let t=ce();m(0,"a",17),V("click",function(){U(t);let i=F(3);return $(i.logout())}),y(1,"Log out"),p()}}function dY(n,e){if(n&1&&(m(0,"div",12,0)(2,"a",13),y(3,"Help"),p(),m(4,"a",14),y(5,"Privacy Policy"),p(),m(6,"a",15),y(7,"Legal notice"),p(),Q(8,uY,2,0,"a",16),p()),n&2){let t=F(2);O("@slideInOut",void 0),I(8),O("ngIf",t.isLoggedIn())}}function hY(n,e){if(n&1){let t=ce();m(0,"div",10),V("click",function(i){U(t);let o=F();return $(o.toggleMenu(i))}),m(1,"p"),y(2),p(),Q(3,dY,9,2,"div",11),p()}if(n&2){let t=F();I(2),me(t.getCurrentUserInitials()),I(),O("ngIf",t.menuOpen)}}var W_=class n{constructor(e){this.authService=e}menuOpen=!1;isMobile=window.innerWidth<1e3;menuRef;onResize(e){let t=e.target.innerWidth;this.isMobile=t<1e3,!this.isMobile&&this.menuOpen&&(this.menuOpen=!1)}onDocumentClick(e){this.menuOpen&&this.menuRef&&!this.menuRef.nativeElement.contains(e.target)&&(this.menuOpen=!1)}toggleMenu(e){e.stopPropagation(),this.menuOpen=!this.menuOpen}logout(){return C(this,null,function*(){yield this.authService.signOutUser(),sessionStorage.removeItem("greetingShown"),this.menuOpen=!1})}getCurrentUserInitials(){let e=this.authService.getCurrentUser(),t=e?.email?.toLowerCase()||"",r=e?.displayName?.toLowerCase()||"";if(t==="guest@join.com"||r==="guest user")return"G";if(e?.displayName){let i=e.displayName.trim().split(" ");return i.length>=2?(i[0][0]+i[1][0]).toUpperCase():i[0][0].toUpperCase()}return e?.email?e.email[0].toUpperCase():"U"}isLoggedIn(){return this.authService.isLoggedIn()}static \u0275fac=function(t){return new(t||n)(B(Wt))};static \u0275cmp=Ee({type:n,selectors:[["app-header"]],viewQuery:function(t,r){if(t&1&&su(lY,5),t&2){let i;Os(i=As())&&(r.menuRef=i.first)}},hostBindings:function(t,r){t&1&&V("resize",function(o){return r.onResize(o)},!1,Bf)("click",function(o){return r.onDocumentClick(o)},!1,xo)},decls:11,vars:1,consts:[["menu",""],[1,"header-content"],[1,"logo"],["src","assets/img/logo/logo-mobile.png","alt","Logo","routerLink","/",1,"logo-img"],[1,"headline"],[1,"headline-text"],[1,"icon-section"],["routerLink","/help"],["src","assets/img/icons/help.png","alt","",1,"help-icon"],["class","user-profile",3,"click",4,"ngIf"],[1,"user-profile",3,"click"],["class","user-menu-links",4,"ngIf"],[1,"user-menu-links"],["routerLink","/help",1,"mobile-help-link"],["routerLink","/privacy-policy"],["routerLink","/legal-notice"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,r){t&1&&(m(0,"header")(1,"div",1)(2,"div",2),j(3,"img",3),p(),m(4,"div",4)(5,"p",5),y(6,"Kanban Project Management Tool"),p()(),m(7,"div",6)(8,"div",7),j(9,"img",8),p(),Q(10,hY,4,2,"div",9),p()()()),t&2&&(I(10),O("ngIf",r.isLoggedIn()))},dependencies:[We,Ke,jt,un],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}header[_ngcontent-%COMP%]{position:sticky;top:0;width:100%;height:140px;background-color:var(--background-light);box-shadow:0 2px 4px #8080807f;z-index:1000}.header-content[_ngcontent-%COMP%]{max-width:1440px;width:100%;margin-left:0;margin-right:auto;height:100%;display:flex;justify-content:space-between;align-items:center;padding-left:clamp(1rem,2vw,1.25rem);padding-right:clamp(1rem,2vw,1.25rem)}.logo[_ngcontent-%COMP%]{display:none}.logo-img[_ngcontent-%COMP%]{height:40px;cursor:pointer}.headline-text[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:20px;padding-left:94px}.icon-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-right:clamp(0rem,2vw,1.875rem);gap:12px}.help-icon[_ngcontent-%COMP%]{width:18px;display:flex;cursor:pointer}.help-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.user-profile[_ngcontent-%COMP%]{width:44px;height:44px;display:flex;justify-content:center;align-items:center;border:2px solid black;border-radius:50%;cursor:pointer;position:relative}.user-profile[_ngcontent-%COMP%]:hover{background-color:#80808033}.user-profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:18px;font-weight:500;color:#29aae1;text-align:center}.user-menu-links[_ngcontent-%COMP%]{position:absolute;top:42px;right:0;transform:translate(0);display:flex;flex-direction:column;width:150px;height:auto;background-color:var(--background-dark);padding:10px;gap:8px;border-radius:20px 0 20px 20px;z-index:2;font-family:Inter;font-weight:400;font-size:16px}.user-menu-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a8a8a8;text-decoration:none;cursor:pointer;padding:10px 8px;border-radius:10px}.user-menu-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background-color:#2a3d59}.user-menu-links[_ngcontent-%COMP%]   .mobile-help-link[_ngcontent-%COMP%]{display:none}@media (max-width: 600px){.header-content[_ngcontent-%COMP%]{margin-left:0;margin-right:8px}}@media (max-width: 1000px){header[_ngcontent-%COMP%]{height:100px}.headline[_ngcontent-%COMP%], .help-icon[_ngcontent-%COMP%]{display:none}.logo[_ngcontent-%COMP%]{display:block}.icon-section[_ngcontent-%COMP%]{padding-right:0;gap:0}.user-menu-links[_ngcontent-%COMP%]   .mobile-help-link[_ngcontent-%COMP%]{display:block}}'],data:{animation:[fn("slideInOut",[dt(":enter",[Ne({transform:"translateX(100%)",opacity:0}),ut("200ms ease-out",Ne({transform:"translateX(0)",opacity:1}))]),dt(":leave",[ut("200ms ease-in",Ne({transform:"translateX(100%)",opacity:0}))])])]}})};function fY(n,e){n&1&&j(0,"app-sidebar")}function pY(n,e){n&1&&j(0,"app-header")}var G_=class n{constructor(e,t){this.navigationService=e;this.router=t;this.router.events.pipe(vt(r=>r instanceof Zt)).subscribe(r=>{this.showHeaderAndSidebar=!["/login","/","/signup"].includes(r.urlAfterRedirects)})}showHeaderAndSidebar=!0;title="join";static \u0275fac=function(t){return new(t||n)(B(Ci),B(qe))};static \u0275cmp=Ee({type:n,selectors:[["app-root"]],decls:5,vars:2,consts:[[1,"app-layout"],[4,"ngIf"],[1,"main-layout"]],template:function(t,r){t&1&&(m(0,"div",0),Q(1,fY,1,0,"app-sidebar",1),m(2,"div",2),Q(3,pY,1,0,"app-header",1),j(4,"router-outlet"),p()()),t&2&&(I(),O("ngIf",r.showHeaderAndSidebar),I(2),O("ngIf",r.showHeaderAndSidebar))},dependencies:[Nu,q_,W_,We,Ke],styles:['@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:400;src:url("./media/inter-v19-latin-regular-55WT6UWF.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:500;src:url("./media/inter-v19-latin-500-W62DVTXI.woff2") format("woff2")}@font-face{font-display:swap;font-family:Inter;font-style:normal;font-weight:700;src:url("./media/inter-v19-latin-700-PQ7JFZQA.woff2") format("woff2")}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}*[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], *[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:unset;outline:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.layout-container[_ngcontent-%COMP%]{max-width:1440px;margin-left:0;margin-right:auto;width:100%}.cdk-drag-dragging[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg}.cdk-drag-dragging[_ngcontent-%COMP%], .cdk-drag-dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;rotate:5deg;box-shadow:0 8px 20px #000000e6}.cdk-drag-preview[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:grabbing!important}[_ngcontent-%COMP%]:root{--accent-primary-color: #29aae2;--text-color-main: #000000;--text-color-light: #ffffff;--text-color-medium: #b9babc;--text-color-dark: #2a3647;--text-color-error: red;--text-color-success: #28a745;--background-main: #f6f7f8;--background-dark: #2a3647;--background-light: #ffffff;--background-default-light: #e7e7e7;--background-default-dark: #d1d1d1;--font-primary: "Inter", sans-serif}.app-layout[_ngcontent-%COMP%]{display:flex;height:100dvh;overflow-x:hidden;overflow-y:hidden}.main-layout[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background-color:#80808019}']})};jw(G_,gL).catch(n=>console.error(n));
